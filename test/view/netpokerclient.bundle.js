(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function InteractionData(){this.global=new Point,this.local=new Point,this.target=null,this.originalEvent=null}function InteractionManager(a){this.stage=a,this.mouse=new InteractionData,this.touchs={},this.tempPoint=new Point,this.mouseoverEnabled=!0,this.pool=[],this.interactiveItems=[],this.interactionDOMElement=null,this.last=0}var globals=require("./core/globals"),Point=require("./geom/Point"),Sprite=require("./display/Sprite"),platform=require("./platform");InteractionData.prototype.getLocalPosition=function(a){var b=a.worldTransform,c=this.global,d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=1/(d*h+e*-g);return new Point(h*j*c.x+-e*j*c.y+(i*e-f*h)*j,d*j*c.y+-g*j*c.x+(-i*d+f*g)*j)};var proto=InteractionManager.prototype;proto.handleEvent=function(a){switch(a.type){case"mousedown":this.onMouseDown(a);break;case"mousemove":this.onMouseMove(a);break;case"mouseup":this.onMouseUp(a);break;case"mouseout":this.onMouseOut(a);break;case"touchstart":this.onTouchStart(a);break;case"touchmove":this.onTouchMove(a);break;case"touchend":this.onTouchEnd(a)}},proto.collectInteractiveSprite=function(a,b){for(var c=a.children,d=c.length-1;d>=0;d--){var e=c[d];e.interactive?(b.interactiveChildren=!0,this.interactiveItems.push(e),e.children.length>0&&this.collectInteractiveSprite(e,e)):(e.__iParent=null,e.children.length>0&&this.collectInteractiveSprite(e,b))}},proto.setTarget=function(a){a?null===this.interactionDOMElement&&this.setTargetDomElement(a.view):null!==this.target&&platform.window.removeEventListener("mouseup",this,!0),platform.window.addEventListener("mouseup",this,!0),this.target=a},proto.setTargetDomElement=function(a){null!==this.interactionDOMElement&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]="",this.interactionDOMElement.removeEventListener("mousemove",this,!0),this.interactionDOMElement.removeEventListener("mousedown",this,!0),this.interactionDOMElement.removeEventListener("mouseout",this,!0),this.interactionDOMElement.removeEventListener("touchstart",this,!0),this.interactionDOMElement.removeEventListener("touchend",this,!0),this.interactionDOMElement.removeEventListener("touchmove",this,!0));var b=platform.navigator;b&&b.msPointerEnabled&&(a.style["-ms-content-zooming"]="none",a.style["-ms-touch-action"]="none"),a.addEventListener("mousemove",this,!0),a.addEventListener("mousedown",this,!0),a.addEventListener("mouseout",this,!0),a.addEventListener("touchstart",this,!0),a.addEventListener("touchend",this,!0),a.addEventListener("touchmove",this,!0),this.interactionDOMElement=a},proto.update=function(){if(this.target){var a=Date.now(),b=a-this.last;if(b=30*b/1e3,!(1>b)){this.last=a;var c,d;if(this.dirty){for(this.dirty=!1,c=0,d=this.interactiveItems.length;d>c;c++)this.interactiveItems[c].interactiveChildren=!1;this.interactiveItems=[],this.stage.interactive&&this.interactiveItems.push(this.stage),this.collectInteractiveSprite(this.stage,this.stage)}for(this.interactionDOMElement.style.cursor="inherit",c=0,d=this.interactiveItems.length;d>c;c++){var e=this.interactiveItems[c];(e.mouseover||e.mouseout||e.buttonMode)&&(e.__hit=this.hitTest(e,this.mouse),this.mouse.target=e,e.__hit?(e.buttonMode&&(this.interactionDOMElement.style.cursor=e.defaultCursor),e.__isOver||(e.mouseover&&e.mouseover(this.mouse),e.__isOver=!0)):e.__isOver&&(e.mouseout&&e.mouseout(this.mouse),e.__isOver=!1))}}}},proto.onMouseMove=function(a){this.mouse.originalEvent=a;var b=this.interactionDOMElement.getBoundingClientRect();this.mouse.global.x=(a.clientX-b.left)*(this.target.width/b.width),this.mouse.global.y=(a.clientY-b.top)*(this.target.height/b.height);for(var c=0,d=this.interactiveItems.length;d>c;c++){var e=this.interactiveItems[c];e.mousemove&&e.mousemove(this.mouse)}},proto.onMouseDown=function(a){this.mouse.originalEvent=a;for(var b=0,c=this.interactiveItems.length;c>b;b++){var d=this.interactiveItems[b];if((d.mousedown||d.click)&&(d.__mouseIsDown=!0,d.__hit=this.hitTest(d,this.mouse),d.__hit&&(d.mousedown&&d.mousedown(this.mouse),d.__isDown=!0,!d.interactiveChildren)))break}},proto.onMouseOut=function(){this.interactionDOMElement.style.cursor="inherit";for(var a=0,b=this.interactiveItems.length;b>a;a++){var c=this.interactiveItems[a];c.__isOver&&(this.mouse.target=c,c.mouseout&&c.mouseout(this.mouse),c.__isOver=!1)}},proto.onMouseUp=function(a){this.mouse.originalEvent=a;for(var b=!1,c=0,d=this.interactiveItems.length;d>c;c++){var e=this.interactiveItems[c];(e.mouseup||e.mouseupoutside||e.click)&&(e.__hit=this.hitTest(e,this.mouse),e.__hit&&!b?(e.mouseup&&e.mouseup(this.mouse),e.__isDown&&e.click&&e.click(this.mouse),e.interactiveChildren||(b=!0)):e.__isDown&&e.mouseupoutside&&e.mouseupoutside(this.mouse),e.__isDown=!1)}},proto.hitTest=function(a,b){var c=b.global;if(a.vcount!==globals.visibleCount)return!1;var d=a instanceof Sprite,e=a.worldTransform,f=e[0],g=e[1],h=e[2],i=e[3],j=e[4],k=e[5],l=1/(f*j+g*-i),m=j*l*c.x+-g*l*c.y+(k*g-h*j)*l,n=f*l*c.y+-i*l*c.x+(-k*f+h*i)*l;if(b.target=a,a.hitArea&&a.hitArea.contains)return a.hitArea.contains(m,n)?(b.target=a,!0):!1;if(d){var o,p=a.texture.frame.width,q=a.texture.frame.height,r=-p*a.anchor.x;if(m>r&&r+p>m&&(o=-q*a.anchor.y,n>o&&o+q>n))return b.target=a,!0}for(var s=0,t=a.children.length;t>s;s++){var u=a.children[s],v=this.hitTest(u,b);if(v)return b.target=a,!0}return!1},proto.onTouchMove=function(a){var b,c,d,e,f,g,h,i=this.interactionDOMElement.getBoundingClientRect(),j=a.changedTouches;for(b=0,c=j.length;c>b;b++)for(d=j[b],e=this.touchs[d.identifier],e.originalEvent=a,e.global.x=(d.clientX-i.left)*(this.target.width/i.width),e.global.y=(d.clientY-i.top)*(this.target.height/i.height),f=0,g=this.interactiveItems.length;g>f;f++)h=this.interactiveItems[b],h.touchmove&&h.touchmove(e)},proto.onTouchStart=function(a){for(var b=this.interactionDOMElement.getBoundingClientRect(),c=a.changedTouches,d=0,e=c.length;e>d;d++){var f=c[d],g=this.pool.pop();g||(g=new InteractionData),g.originalEvent=a,this.touchs[f.identifier]=g,g.global.x=(f.clientX-b.left)*(this.target.width/b.width),g.global.y=(f.clientY-b.top)*(this.target.height/b.height);for(var h=0,i=this.interactiveItems.length;i>h;h++){var j=this.interactiveItems[h];if((j.touchstart||j.tap)&&(j.__hit=this.hitTest(j,g),j.__hit&&(j.touchstart&&j.touchstart(g),j.__isDown=!0,j.__touchData=g,!j.interactiveChildren)))break}}},proto.onTouchEnd=function(a){for(var b=this.interactionDOMElement.getBoundingClientRect(),c=a.changedTouches,d=0,e=c.length;e>d;d++){var f=c[d],g=this.touchs[f.identifier],h=!1;g.global.x=(f.clientX-b.left)*(this.target.width/b.width),g.global.y=(f.clientY-b.top)*(this.target.height/b.height);for(var i=0,j=this.interactiveItems.length;j>i;i++){var k=this.interactiveItems[i],l=k.__touchData;k.__hit=this.hitTest(k,g),l===g&&(g.originalEvent=a,(k.touchend||k.tap)&&(k.__hit&&!h?(k.touchend&&k.touchend(g),k.__isDown&&k.tap&&k.tap(g),k.interactiveChildren||(h=!0)):k.__isDown&&k.touchendoutside&&k.touchendoutside(g),k.__isDown=!1),k.__touchData=null)}this.pool.push(g),this.touchs[f.identifier]=null}},module.exports=InteractionManager;
},{"./core/globals":2,"./display/Sprite":6,"./geom/Point":34,"./platform":45}],2:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";module.exports={gl:null,primitiveShader:null,stripShader:null,defaultShader:null,offset:null,projection:null,texturesToUpdate:[],texturesToDestroy:[],visibleCount:0};
},{}],3:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
function DisplayObject(){this.last=this,this.first=this,this.position=new Point,this.scale=new Point(1,1),this.pivot=new Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.hitArea=null,this.buttonMode=!1,this.renderable=!1,this.parent=null,this.stage=null,this.worldAlpha=1,this._interactive=!1,this.defaultCursor="pointer",this.worldTransform=mat3.create(),this.localTransform=mat3.create(),this.color=[],this.dynamic=!0,this._sr=0,this._cr=1,this.filterArea=new Rectangle(0,0,1,1)}var globals=require("../core/globals"),mat3=require("../geom/matrix").mat3,FilterBlock=require("../filters/FilterBlock"),Point=require("../geom/Point"),Rectangle=require("../geom/Rectangle"),proto=DisplayObject.prototype;proto.setInteractive=function(a){this.interactive=a},Object.defineProperty(proto,"interactive",{get:function(){return this._interactive},set:function(a){this._interactive=a,this.stage&&(this.stage.dirty=!0)}}),Object.defineProperty(proto,"mask",{get:function(){return this._mask},set:function(a){a?this._mask?(a.start=this._mask.start,a.end=this._mask.end):(this.addFilter(a),a.renderable=!1):(this.removeFilter(this._mask),this._mask.renderable=!0),this._mask=a}}),Object.defineProperty(proto,"filters",{get:function(){return this._filters},set:function(a){if(a){this._filters&&this.removeFilter(this._filters),this.addFilter(a);for(var b=[],c=0;c<a.length;c++)for(var d=a[c].passes,e=0;e<d.length;e++)b.push(d[e]);a.start.filterPasses=b}else this._filters&&this.removeFilter(this._filters);this._filters=a}}),proto.addFilter=function(a){var b=new FilterBlock,c=new FilterBlock;a.start=b,a.end=c,b.data=a,c.data=a,b.first=b.last=this,c.first=c.last=this,b.open=!0,b.target=this;var d,e,f=b,g=b;e=this.first._iPrev,e?(d=e._iNext,f._iPrev=e,e._iNext=f):d=this,d&&(d._iPrev=g,g._iNext=d),f=c,g=c,d=null,e=null,e=this.last,d=e._iNext,d&&(d._iPrev=g,g._iNext=d),f._iPrev=e,e._iNext=f;for(var h=this,i=this.last;h;)h.last===i&&(h.last=c),h=h.parent;this.first=b,this.__renderGroup&&this.__renderGroup.addFilterBlocks(b,c)},proto.removeFilter=function(a){var b=a.start,c=b._iNext,d=b._iPrev;c&&(c._iPrev=d),d&&(d._iNext=c),this.first=b._iNext;var e=a.end;c=e._iNext,d=e._iPrev,c&&(c._iPrev=d),d._iNext=c;for(var f=e._iPrev,g=this;g.last===e&&(g.last=f,g=g.parent););this.__renderGroup&&this.__renderGroup.removeFilterBlocks(b,e)},proto.updateTransform=function(){this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation));var a=this.localTransform,b=this.parent.worldTransform,c=this.worldTransform;a[0]=this._cr*this.scale.x,a[1]=-this._sr*this.scale.y,a[3]=this._sr*this.scale.x,a[4]=this._cr*this.scale.y;var d=this.pivot.x,e=this.pivot.y,f=a[0],g=a[1],h=this.position.x-a[0]*d-e*a[1],i=a[3],j=a[4],k=this.position.y-a[4]*e-d*a[3],l=b[0],m=b[1],n=b[2],o=b[3],p=b[4],q=b[5];a[2]=h,a[5]=k,c[0]=l*f+m*i,c[1]=l*g+m*j,c[2]=l*h+m*k+n,c[3]=o*f+p*i,c[4]=o*g+p*j,c[5]=o*h+p*k+q,this.worldAlpha=this.alpha*this.parent.worldAlpha,this.vcount=globals.visibleCount},module.exports=DisplayObject;
},{"../core/globals":2,"../filters/FilterBlock":24,"../geom/Point":34,"../geom/Rectangle":36,"../geom/matrix":37}],4:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function DisplayObjectContainer(){DisplayObject.call(this),this.children=[]}var DisplayObject=require("./DisplayObject"),proto=DisplayObjectContainer.prototype=Object.create(DisplayObject.prototype,{constructor:{value:DisplayObjectContainer}});proto.addChild=function(a){if(a.parent&&a.parent!==this&&a.parent.removeChild(a),a.parent=this,this.children.push(a),this.stage){var b=a;do b.interactive&&(this.stage.dirty=!0),b.stage=this.stage,b=b._iNext;while(b)}var c,d,e=a.first,f=a.last;d=this._filters||this._mask?this.last._iPrev:this.last,c=d._iNext;for(var g=this,h=d;g;)g.last===h&&(g.last=a.last),g=g.parent;c&&(c._iPrev=f,f._iNext=c),e._iPrev=d,d._iNext=e,this.__renderGroup&&(a.__renderGroup&&a.__renderGroup.removeDisplayObjectAndChildren(a),this.__renderGroup.addDisplayObjectAndChildren(a))},proto.addChildAt=function(a,b){if(!(b>=0&&b<=this.children.length))throw new Error(a+" The index "+b+" supplied is out of bounds "+this.children.length);if(void 0!==a.parent&&a.parent.removeChild(a),a.parent=this,this.stage){var c=a;do c.interactive&&(this.stage.dirty=!0),c.stage=this.stage,c=c._iNext;while(c)}var d,e,f=a.first,g=a.last;if(b===this.children.length){e=this.last;for(var h=this,i=this.last;h;)h.last===i&&(h.last=a.last),h=h.parent}else e=0===b?this:this.children[b-1].last;d=e._iNext,d&&(d._iPrev=g,g._iNext=d),f._iPrev=e,e._iNext=f,this.children.splice(b,0,a),this.__renderGroup&&(a.__renderGroup&&a.__renderGroup.removeDisplayObjectAndChildren(a),this.__renderGroup.addDisplayObjectAndChildren(a))},proto.swapChildren=function(a,b){if(a!==b){var c=this.children.indexOf(a),d=this.children.indexOf(b);if(0>c||0>d)throw new Error("swapChildren: Both the supplied DisplayObjects must be a child of the caller.");this.removeChild(a),this.removeChild(b),d>c?(this.addChildAt(b,c),this.addChildAt(a,d)):(this.addChildAt(a,d),this.addChildAt(b,c))}},proto.getChildAt=function(a){if(a>=0&&a<this.children.length)return this.children[a];throw new Error("Both the supplied DisplayObjects must be a child of the caller "+this)},proto.removeChild=function(a){var b=this.children.indexOf(a);if(-1===b)throw new Error(a+" The supplied DisplayObject must be a child of the caller "+this);var c=a.first,d=a.last,e=d._iNext,f=c._iPrev;if(e&&(e._iPrev=f),f._iNext=e,this.last===d)for(var g=c._iPrev,h=this;h.last===d&&(h.last=g,h=h.parent););if(d._iNext=null,c._iPrev=null,this.stage){var i=a;do i.interactive&&(this.stage.dirty=!0),i.stage=null,i=i._iNext;while(i)}a.__renderGroup&&a.__renderGroup.removeDisplayObjectAndChildren(a),a.parent=void 0,this.children.splice(b,1)},proto.updateTransform=function(){if(this.visible){DisplayObject.prototype.updateTransform.call(this);for(var a=0,b=this.children.length;b>a;a++)this.children[a].updateTransform()}},module.exports=DisplayObjectContainer;
},{"./DisplayObject":3}],5:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function MovieClip(a){Sprite.call(this,a[0]),this.textures=a,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this.currentFrame=0,this.playing=!1}var Sprite=require("./Sprite"),proto=MovieClip.prototype=Object.create(Sprite.prototype,{constructor:{value:MovieClip}});Object.defineProperty(proto,"totalFrames",{get:function(){return this.textures.length}}),proto.stop=function(){this.playing=!1},proto.play=function(){this.playing=!0},proto.gotoAndStop=function(a){this.playing=!1,this.currentFrame=a;var b=this.currentFrame+.5|0;this.setTexture(this.textures[b%this.textures.length])},proto.gotoAndPlay=function(a){this.currentFrame=a,this.playing=!0},proto.updateTransform=function(){if(Sprite.prototype.updateTransform.call(this),this.playing){this.currentFrame+=this.animationSpeed;var a=this.currentFrame+.5|0;this.loop||a<this.textures.length?this.setTexture(this.textures[a%this.textures.length]):a>=this.textures.length&&(this.gotoAndStop(this.textures.length-1),this.onComplete&&this.onComplete())}},module.exports=MovieClip;
},{"./Sprite":6}],6:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function Sprite(a){if(DisplayObjectContainer.call(this),this.anchor=new Point,this.texture=a,this.blendMode=blendModes.NORMAL,this._width=0,this._height=0,a.baseTexture.hasLoaded)this.updateFrame=!0;else{var b=this;this.texture.addEventListener("update",function(){b.onTextureUpdate()})}this.renderable=!0}var blendModes=require("./blendModes"),DisplayObjectContainer=require("./DisplayObjectContainer"),Point=require("../geom/Point"),Texture=require("../textures/Texture"),proto=Sprite.prototype=Object.create(DisplayObjectContainer.prototype,{constructor:{value:Sprite}});Object.defineProperty(proto,"width",{get:function(){return this.scale.x*this.texture.frame.width},set:function(a){this.scale.x=a/this.texture.frame.width,this._width=a}}),Object.defineProperty(proto,"height",{get:function(){return this.scale.y*this.texture.frame.height},set:function(a){this.scale.y=a/this.texture.frame.height,this._height=a}}),proto.setTexture=function(a){this.texture.baseTexture!==a.baseTexture?(this.textureChange=!0,this.texture=a,this.__renderGroup&&this.__renderGroup.updateTexture(this)):this.texture=a,this.updateFrame=!0},proto.onTextureUpdate=function(){this._width&&(this.scale.x=this._width/this.texture.frame.width),this._height&&(this.scale.y=this._height/this.texture.frame.height),this.updateFrame=!0},Sprite.fromFrame=function(a){var b=Texture.cache[a];if(!b)throw new Error('The frameId "'+a+'" does not exist in the texture cache'+this);return new Sprite(b)},Sprite.fromImage=function(a){var b=Texture.fromImage(a);return new Sprite(b)},module.exports=Sprite;
},{"../geom/Point":34,"../textures/Texture":63,"./DisplayObjectContainer":4,"./blendModes":8}],7:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function Stage(a){DisplayObjectContainer.call(this),this.worldTransform=mat3.create(),this.interactive=!0,this.interactionManager=new InteractionManager(this),this.dirty=!0,this.__childrenAdded=[],this.__childrenRemoved=[],this.stage=this,this.stage.hitArea=new Rectangle(0,0,1e5,1e5),this.setBackgroundColor(a),this.worldVisible=!0}var globals=require("../core/globals"),mat3=require("../geom/matrix").mat3,hex2rgb=require("../utils/color").hex2rgb,DisplayObjectContainer=require("./DisplayObjectContainer"),InteractionManager=require("../InteractionManager"),Rectangle=require("../geom/Rectangle"),proto=Stage.prototype=Object.create(DisplayObjectContainer.prototype,{constructor:{value:Stage}});proto.setInteractionDelegate=function(a){this.interactionManager.setTargetDomElement(a)},proto.updateTransform=function(){this.worldAlpha=1,this.vcount=globals.visibleCount;for(var a=0,b=this.children.length;b>a;a++)this.children[a].updateTransform();this.dirty&&(this.dirty=!1,this.interactionManager.dirty=!0),this.interactive&&this.interactionManager.update()},proto.setBackgroundColor=function(a){this.backgroundColor=a||0,this.backgroundColorSplit=hex2rgb(this.backgroundColor);var b=this.backgroundColor.toString(16);b="000000".substr(0,6-b.length)+b,this.backgroundColorString="#"+b},proto.getMousePosition=function(){return this.interactionManager.mouse.global},module.exports=Stage;
},{"../InteractionManager":1,"../core/globals":2,"../geom/Rectangle":36,"../geom/matrix":37,"../utils/color":66,"./DisplayObjectContainer":4}],8:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";module.exports={NORMAL:0,SCREEN:1};
},{}],9:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function EventTarget(){var a={};this.addEventListener=this.on=function(b,c){void 0===a[b]&&(a[b]=[]),-1===a[b].indexOf(c)&&a[b].push(c)},this.dispatchEvent=this.emit=function(b){if(a[b.type]&&a[b.type].length)for(var c=0,d=a[b.type].length;d>c;c++)a[b.type][c](b)},this.removeEventListener=this.off=function(b,c){var d=a[b].indexOf(c);-1!==d&&a[b].splice(d,1)},this.removeAllEventListeners=function(b){var c=a[b];c&&(c.length=0)}}module.exports=EventTarget;
},{}],10:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function CustomRenderable(){DisplayObject.call(this),this.renderable=!0}var DisplayObject=require("../display/DisplayObject"),proto=CustomRenderable.prototype=Object.create(DisplayObject.prototype,{constructor:{value:CustomRenderable}});proto.renderCanvas=function(){},proto.initWebGL=function(){},proto.renderWebGL=function(){},module.exports=CustomRenderable;
},{"../display/DisplayObject":3}],11:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function Rope(a,b){Strip.call(this,a),this.points=b;try{this.verticies=new Float32Array(4*b.length),this.uvs=new Float32Array(4*b.length),this.colors=new Float32Array(2*b.length),this.indices=new Uint16Array(2*b.length)}catch(c){this.verticies=new Array(4*b.length),this.uvs=new Array(4*b.length),this.colors=new Array(2*b.length),this.indices=new Array(2*b.length)}this.refresh()}var Strip=require("./Strip"),DisplayObjectContainer=require("../display/DisplayObjectContainer"),proto=Rope.prototype=Object.create(Strip.prototype,{constructor:{value:Rope}});proto.refresh=function(){var a=this.points;if(!(a.length<1)){var b=this.uvs,c=a[0],d=this.indices,e=this.colors;this.count-=.2,b[0]=0,b[1]=1,b[2]=0,b[3]=1,e[0]=1,e[1]=1,d[0]=0,d[1]=1;for(var f,g,h,i=a.length,j=1;i>j;j++)f=a[j],g=4*j,h=j/(i-1),j%2?(b[g]=h,b[g+1]=0,b[g+2]=h,b[g+3]=1):(b[g]=h,b[g+1]=0,b[g+2]=h,b[g+3]=1),g=2*j,e[g]=1,e[g+1]=1,g=2*j,d[g]=g,d[g+1]=g+1,c=f}},proto.updateTransform=function(){var a=this.points;if(!(a.length<1)){var b,c=a[0],d={x:0,y:0};this.count-=.2;var e=this.verticies;e[0]=c.x+d.x,e[1]=c.y+d.y,e[2]=c.x-d.x,e[3]=c.y-d.y;for(var f,g,h,i,j,k=a.length,l=1;k>l;l++)f=a[l],g=4*l,b=l<a.length-1?a[l+1]:f,d.y=-(b.x-c.x),d.x=b.y-c.y,h=10*(1-l/(k-1)),h>1&&(h=1),i=Math.sqrt(d.x*d.x+d.y*d.y),j=this.texture.height/2,d.x/=i,d.y/=i,d.x*=j,d.y*=j,e[g]=f.x+d.x,e[g+1]=f.y+d.y,e[g+2]=f.x-d.x,e[g+3]=f.y-d.y,c=f;DisplayObjectContainer.prototype.updateTransform.call(this)}},proto.setTexture=function(a){this.texture=a,this.updateFrame=!0},module.exports=Rope;
},{"../display/DisplayObjectContainer":4,"./Strip":13}],12:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function Spine(a){if(DisplayObjectContainer.call(this),this.spineData=Spine.animCache[a],!this.spineData)throw new Error("Spine data must be preloaded using SpineLoader or AssetLoader: "+a);this.skeleton=new spine.Skeleton(this.spineData),this.skeleton.updateWorldTransform(),this.stateData=new spine.AnimationStateData(this.spineData),this.state=new spine.AnimationState(this.stateData),this.slotContainers=[];for(var b=0,c=this.skeleton.drawOrder.length;c>b;b++){var d=this.skeleton.drawOrder[b],e=d.attachment,f=new DisplayObjectContainer;if(this.slotContainers.push(f),this.addChild(f),e instanceof spine.RegionAttachment){var g=e.rendererObject.name,h=this.createSprite(d,e.rendererObject);d.currentSprite=h,d.currentSpriteName=g,f.addChild(h)}}}var spine=require("../utils/spine"),DisplayObjectContainer=require("../display/DisplayObjectContainer"),Sprite=require("../display/Sprite"),Texture=require("../textures/Texture"),proto=Spine.prototype=Object.create(DisplayObjectContainer.prototype,{constructor:{value:Spine}});proto.updateTransform=function(){this.lastTime=this.lastTime||Date.now();var a=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.state.update(a),this.state.apply(this.skeleton),this.skeleton.updateWorldTransform();for(var b=this.skeleton.drawOrder,c=0,d=b.length;d>c;c++){var e=b[c],f=e.attachment,g=this.slotContainers[c];if(f instanceof spine.RegionAttachment){if(f.rendererObject&&(!e.currentSpriteName||e.currentSpriteName!==f.name)){var h=f.rendererObject.name;if(void 0!==e.currentSprite&&(e.currentSprite.visible=!1),e.sprites=e.sprites||{},void 0!==e.sprites[h])e.sprites[h].visible=!0;else{var i=this.createSprite(e,f.rendererObject);g.addChild(i)}e.currentSprite=e.sprites[h],e.currentSpriteName=h}g.visible=!0;var j=e.bone;g.position.x=j.worldX+f.x*j.m00+f.y*j.m01,g.position.y=j.worldY+f.x*j.m10+f.y*j.m11,g.scale.x=j.worldScaleX,g.scale.y=j.worldScaleY,g.rotation=-(e.bone.worldRotation*Math.PI/180)}else g.visible=!1}DisplayObjectContainer.prototype.updateTransform.call(this)},proto.createSprite=function(a,b){var c=Texture.cache[b.name]?b.name:b.name+".png",d=new Sprite(Texture.fromFrame(c));return d.scale=b.scale,d.rotation=b.rotation,d.anchor.x=d.anchor.y=.5,a.sprites=a.sprites||{},a.sprites[b.name]=d,d},Spine.animCache={},module.exports=Spine;
},{"../display/DisplayObjectContainer":4,"../display/Sprite":6,"../textures/Texture":63,"../utils/spine":68}],13:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function Strip(a,b,c){DisplayObjectContainer.call(this),this.texture=a,this.blendMode=blendModes.NORMAL;try{this.uvs=new Float32Array([0,1,1,1,1,0,0,1]),this.verticies=new Float32Array([0,0,0,0,0,0,0,0,0]),this.colors=new Float32Array([1,1,1,1]),this.indices=new Uint16Array([0,1,2,3])}catch(d){this.uvs=[0,1,1,1,1,0,0,1],this.verticies=[0,0,0,0,0,0,0,0,0],this.colors=[1,1,1,1],this.indices=[0,1,2,3]}if(this.width=b,this.height=c,a.baseTexture.hasLoaded)this.width=this.texture.frame.width,this.height=this.texture.frame.height,this.updateFrame=!0;else{var e=this;this.texture.addEventListener("update",function(){e.onTextureUpdate()})}this.renderable=!0}var blendModes=require("../display/blendModes"),DisplayObjectContainer=require("../display/DisplayObjectContainer"),proto=Strip.prototype=Object.create(DisplayObjectContainer.prototype,{constructor:{value:Strip}});proto.setTexture=function(a){this.texture=a,this.width=a.frame.width,this.height=a.frame.height,this.updateFrame=!0},proto.onTextureUpdate=function(){this.updateFrame=!0},module.exports=Strip;
},{"../display/DisplayObjectContainer":4,"../display/blendModes":8}],14:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function TilingSprite(a,b,c){DisplayObjectContainer.call(this),this.texture=a,this.width=b,this.height=c,this.tileScale=new Point(1,1),this.tilePosition=new Point(0,0),this.renderable=!0,this.blendMode=blendModes.NORMAL}var blendModes=require("../display/blendModes"),DisplayObjectContainer=require("../display/DisplayObjectContainer"),Point=require("../geom/Point"),proto=TilingSprite.prototype=Object.create(DisplayObjectContainer.prototype,{constructor:{value:TilingSprite}});proto.setTexture=function(a){this.texture=a,this.updateFrame=!0},proto.onTextureUpdate=function(){this.updateFrame=!0},module.exports=TilingSprite;
},{"../display/DisplayObjectContainer":4,"../display/blendModes":8,"../geom/Point":34}],15:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function AbstractFilter(a,b){this.passes=[this],this.dirty=!0,this.padding=0,this.uniforms=b||{},this.fragmentSrc=a||[]}module.exports=AbstractFilter;
},{}],16:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function BlurFilter(){this.blurXFilter=new BlurXFilter,this.blurYFilter=new BlurYFilter,this.passes=[this.blurXFilter,this.blurYFilter]}var BlurXFilter=require("./BlurXFilter"),BlurYFilter=require("./BlurYFilter"),proto=BlurFilter.prototype;Object.defineProperty(proto,"blur",{get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=this.blurYFilter.blur=a}}),Object.defineProperty(proto,"blurX",{get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=a}}),Object.defineProperty(proto,"blurY",{get:function(){return this.blurYFilter.blur},set:function(a){this.blurYFilter.blur=a}}),module.exports=BlurFilter;
},{"./BlurXFilter":17,"./BlurYFilter":18}],17:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function BlurXFilter(){AbstractFilter.call(this),this.passes=[this],this.uniforms={blur:{type:"1f",value:1/512}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform float blur;","uniform sampler2D uSampler;","void main(void) {","   vec4 sum = vec4(0.0);","   sum += texture2D(uSampler, vec2(vTextureCoord.x - 4.0*blur, vTextureCoord.y)) * 0.05;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - 3.0*blur, vTextureCoord.y)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - 2.0*blur, vTextureCoord.y)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x - blur, vTextureCoord.y)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * 0.16;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + blur, vTextureCoord.y)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + 2.0*blur, vTextureCoord.y)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + 3.0*blur, vTextureCoord.y)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x + 4.0*blur, vTextureCoord.y)) * 0.05;","   gl_FragColor = sum;","}"]}var AbstractFilter=require("./AbstractFilter"),proto=BlurXFilter.prototype=Object.create(AbstractFilter.prototype,{constructor:{value:BlurXFilter}});Object.defineProperty(proto,"blur",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(a){this.dirty=!0,this.uniforms.blur.value=1/7e3*a}}),module.exports=BlurXFilter;
},{"./AbstractFilter":15}],18:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function BlurYFilter(){AbstractFilter.call(this),this.passes=[this],this.uniforms={blur:{type:"1f",value:1/512}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform float blur;","uniform sampler2D uSampler;","void main(void) {","   vec4 sum = vec4(0.0);","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 4.0*blur)) * 0.05;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 3.0*blur)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 2.0*blur)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - blur)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * 0.16;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + blur)) * 0.15;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 2.0*blur)) * 0.12;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 3.0*blur)) * 0.09;","   sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 4.0*blur)) * 0.05;","   gl_FragColor = sum;","}"]}var AbstractFilter=require("./AbstractFilter"),proto=BlurYFilter.prototype=Object.create(AbstractFilter.prototype,{constructor:{value:BlurYFilter}});Object.defineProperty(proto,"blur",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(a){this.uniforms.blur.value=1/7e3*a}}),module.exports=BlurYFilter;
},{"./AbstractFilter":15}],19:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function ColorMatrixFilter(){AbstractFilter.call(this),this.passes=[this],this.uniforms={matrix:{type:"mat4",value:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform float invert;","uniform mat4 matrix;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * matrix;","   gl_FragColor = gl_FragColor * vColor;","}"]}var AbstractFilter=require("./AbstractFilter"),proto=ColorMatrixFilter.prototype=Object.create(AbstractFilter.prototype,{constructor:{value:ColorMatrixFilter}});Object.defineProperty(proto,"matrix",{get:function(){return this.uniforms.matrix.value},set:function(a){this.uniforms.matrix.value=a}}),module.exports=ColorMatrixFilter;
},{"./AbstractFilter":15}],20:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function ColorStepFilter(){AbstractFilter.call(this),this.passes=[this],this.uniforms={step:{type:"1f",value:5}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float step;","void main(void) {","   vec4 color = texture2D(uSampler, vTextureCoord);","   color = floor(color * step) / step;","   gl_FragColor = color * vColor;","}"]}var AbstractFilter=require("./AbstractFilter"),proto=ColorStepFilter.prototype=Object.create(AbstractFilter.prototype,{constructor:{value:ColorStepFilter}});Object.defineProperty(proto,"step",{get:function(){return this.uniforms.step.value},set:function(a){this.uniforms.step.value=a}}),module.exports=ColorStepFilter;
},{"./AbstractFilter":15}],21:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function CrossHatchFilter(){AbstractFilter.call(this),this.passes=[this],this.uniforms={blur:{type:"1f",value:1/512}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform float blur;","uniform sampler2D uSampler;","void main(void) {","    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);","    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);","    if (lum < 1.00) {","        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","    if (lum < 0.75) {","        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","    if (lum < 0.50) {","        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","    if (lum < 0.3) {","        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0) {","            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","        }","    }","}"]}var AbstractFilter=require("./AbstractFilter"),proto=CrossHatchFilter.prototype=Object.create(AbstractFilter.prototype,{constructor:{value:CrossHatchFilter}});Object.defineProperty(proto,"blur",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(a){this.uniforms.blur.value=1/7e3*a}}),module.exports=CrossHatchFilter;
},{"./AbstractFilter":15}],22:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function DisplacementFilter(a){AbstractFilter.call(this),this.passes=[this],a.baseTexture._powerOf2=!0,this.uniforms={displacementMap:{type:"sampler2D",value:a},scale:{type:"2f",value:{x:30,y:30}},offset:{type:"2f",value:{x:0,y:0}},mapDimensions:{type:"2f",value:{x:1,y:5112}},dimensions:{type:"4fv",value:[0,0,0,0]}},a.baseTexture.hasLoaded?(this.uniforms.mapDimensions.value.x=a.width,this.uniforms.mapDimensions.value.y=a.height):(this.boundLoadedFunction=this.onTextureLoaded.bind(this),a.baseTexture.on("loaded",this.boundLoadedFunction)),this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D displacementMap;","uniform sampler2D uSampler;","uniform vec2 scale;","uniform vec2 offset;","uniform vec4 dimensions;","uniform vec2 mapDimensions;","void main(void) {","   vec2 mapCords = vTextureCoord.xy;","   mapCords += (dimensions.zw + offset)/ dimensions.xy ;","   mapCords.y *= -1.0;","   mapCords.y += 1.0;","   vec2 matSample = texture2D(displacementMap, mapCords).xy;","   matSample -= 0.5;","   matSample *= scale;","   matSample /= mapDimensions;","   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + matSample.x, vTextureCoord.y + matSample.y));","   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb, 1.0);","   vec2 cord = vTextureCoord;","   gl_FragColor = gl_FragColor * vColor;","}"]}var AbstractFilter=require("./AbstractFilter"),proto=DisplacementFilter.prototype=Object.create(AbstractFilter.prototype,{constructor:{value:DisplacementFilter}});proto.onTextureLoaded=function(){this.uniforms.mapDimensions.value.x=this.uniforms.displacementMap.value.width,this.uniforms.mapDimensions.value.y=this.uniforms.displacementMap.value.height,this.uniforms.displacementMap.value.baseTexture.off("loaded",this.boundLoadedFunction)},Object.defineProperty(proto,"map",{get:function(){return this.uniforms.displacementMap.value},set:function(a){this.uniforms.displacementMap.value=a}}),Object.defineProperty(proto,"scale",{get:function(){return this.uniforms.scale.value},set:function(a){this.uniforms.scale.value=a}}),Object.defineProperty(proto,"offset",{get:function(){return this.uniforms.offset.value},set:function(a){this.uniforms.offset.value=a}}),module.exports=DisplacementFilter;
},{"./AbstractFilter":15}],23:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function DotScreenFilter(){AbstractFilter.call(this),this.passes=[this],this.uniforms={scale:{type:"1f",value:1},angle:{type:"1f",value:5},dimensions:{type:"4fv",value:[0,0,0,0]}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform vec4 dimensions;","uniform sampler2D uSampler;","uniform float angle;","uniform float scale;","float pattern() {","   float s = sin(angle), c = cos(angle);","   vec2 tex = vTextureCoord * dimensions.xy;","   vec2 point = vec2(","       c * tex.x - s * tex.y,","       s * tex.x + c * tex.y","   ) * scale;","   return (sin(point.x) * sin(point.y)) * 4.0;","}","void main() {","   vec4 color = texture2D(uSampler, vTextureCoord);","   float average = (color.r + color.g + color.b) / 3.0;","   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);","}"]}var AbstractFilter=require("./AbstractFilter"),proto=DotScreenFilter.prototype=Object.create(AbstractFilter.prototype,{constructor:{value:DotScreenFilter}});Object.defineProperty(proto,"scale",{get:function(){return this.uniforms.scale.value},set:function(a){this.dirty=!0,this.uniforms.scale.value=a}}),Object.defineProperty(proto,"angle",{get:function(){return this.uniforms.angle.value},set:function(a){this.dirty=!0,this.uniforms.angle.value=a}}),module.exports=DotScreenFilter;
},{"./AbstractFilter":15}],24:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function FilterBlock(){this.visible=!0,this.renderable=!0}module.exports=FilterBlock;
},{}],25:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function GrayFilter(){AbstractFilter.call(this),this.passes=[this],this.uniforms={gray:{type:"1f",value:1}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float gray;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);","   gl_FragColor = gl_FragColor * vColor;","}"]}var AbstractFilter=require("./AbstractFilter"),proto=GrayFilter.prototype=Object.create(AbstractFilter.prototype,{constructor:{value:GrayFilter}});Object.defineProperty(proto,"gray",{get:function(){return this.uniforms.gray.value},set:function(a){this.uniforms.gray.value=a}}),module.exports=GrayFilter;
},{"./AbstractFilter":15}],26:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function InvertFilter(){AbstractFilter.call(this),this.passes=[this],this.uniforms={invert:{type:"1f",value:1}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform float invert;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);","   gl_FragColor = gl_FragColor * vColor;","}"]}var AbstractFilter=require("./AbstractFilter"),proto=InvertFilter.prototype=Object.create(AbstractFilter.prototype,{constructor:{value:InvertFilter}});Object.defineProperty(proto,"invert",{get:function(){return this.uniforms.invert.value},set:function(a){this.uniforms.invert.value=a}}),module.exports=InvertFilter;
},{"./AbstractFilter":15}],27:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function PixelateFilter(){AbstractFilter.call(this),this.passes=[this],this.uniforms={invert:{type:"1f",value:0},dimensions:{type:"4fv",value:new Float32Array([1e4,100,10,10])},pixelSize:{type:"2f",value:{x:10,y:10}}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform vec2 testDim;","uniform vec4 dimensions;","uniform vec2 pixelSize;","uniform sampler2D uSampler;","void main(void) {","   vec2 coord = vTextureCoord;","   vec2 size = dimensions.xy/pixelSize;","   vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;","   gl_FragColor = texture2D(uSampler, color);","}"]}var AbstractFilter=require("./AbstractFilter"),proto=PixelateFilter.prototype=Object.create(AbstractFilter.prototype,{constructor:{value:PixelateFilter}});Object.defineProperty(proto,"size",{get:function(){return this.uniforms.pixelSize.value},set:function(a){this.dirty=!0,this.uniforms.pixelSize.value=a}}),module.exports=PixelateFilter;
},{"./AbstractFilter":15}],28:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function RGBSplitFilter(){AbstractFilter.call(this),this.passes=[this],this.uniforms={red:{type:"2f",value:{x:20,y:20}},green:{type:"2f",value:{x:-20,y:20}},blue:{type:"2f",value:{x:20,y:-20}},dimensions:{type:"4fv",value:[0,0,0,0]}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform vec2 red;","uniform vec2 green;","uniform vec2 blue;","uniform vec4 dimensions;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;","   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;","   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;","   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;","}"]}var AbstractFilter=require("./AbstractFilter"),proto=RGBSplitFilter.prototype=Object.create(AbstractFilter.prototype,{constructor:{value:RGBSplitFilter}});Object.defineProperty(proto,"angle",{get:function(){return this.uniforms.blur.value/(1/7e3)},set:function(a){this.uniforms.blur.value=1/7e3*a}}),module.exports=RGBSplitFilter;
},{"./AbstractFilter":15}],29:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function SepiaFilter(){AbstractFilter.call(this),this.passes=[this],this.uniforms={sepia:{type:"1f",value:1}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform float sepia;","uniform sampler2D uSampler;","const mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);","   gl_FragColor = gl_FragColor * vColor;","}"]}var AbstractFilter=require("./AbstractFilter"),proto=SepiaFilter.prototype=Object.create(AbstractFilter.prototype,{constructor:{value:SepiaFilter}});Object.defineProperty(proto,"sepia",{get:function(){return this.uniforms.sepia.value},set:function(a){this.uniforms.sepia.value=a}}),module.exports=SepiaFilter;
},{"./AbstractFilter":15}],30:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function SmartBlurFilter(){AbstractFilter.call(this),this.passes=[this],this.uniforms={blur:{type:"1f",value:1/512}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","uniform sampler2D uSampler;","const vec2 delta = vec2(1.0/10.0, 0.0);","float random(vec3 scale, float seed) {","   return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);","}","void main(void) {","   vec4 color = vec4(0.0);","   float total = 0.0;","   float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);","   for (float t = -30.0; t <= 30.0; t++) {","       float percent = (t + offset - 0.5) / 30.0;","       float weight = 1.0 - abs(percent);","       vec4 sample = texture2D(uSampler, vTextureCoord + delta * percent);","       sample.rgb *= sample.a;","       color += sample * weight;","       total += weight;","   }","   gl_FragColor = color / total;","   gl_FragColor.rgb /= gl_FragColor.a + 0.00001;","}"]}var AbstractFilter=require("./AbstractFilter"),proto=SmartBlurFilter.prototype=Object.create(AbstractFilter.prototype,{constructor:{value:SmartBlurFilter}});Object.defineProperty(proto,"blur",{get:function(){return this.uniforms.blur.value},set:function(a){this.uniforms.blur.value=a}}),module.exports=SmartBlurFilter;
},{"./AbstractFilter":15}],31:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function TwistFilter(){AbstractFilter.call(this),this.passes=[this],this.uniforms={radius:{type:"1f",value:.5},angle:{type:"1f",value:5},offset:{type:"2f",value:{x:.5,y:.5}}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform vec4 dimensions;","uniform sampler2D uSampler;","uniform float radius;","uniform float angle;","uniform vec2 offset;","void main(void) {","   vec2 coord = vTextureCoord - offset;","   float distance = length(coord);","   if (distance < radius) {","       float ratio = (radius - distance) / radius;","       float angleMod = ratio * ratio * angle;","       float s = sin(angleMod);","       float c = cos(angleMod);","       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);","   }","   gl_FragColor = texture2D(uSampler, coord+offset);","}"]}var AbstractFilter=require("./AbstractFilter"),proto=TwistFilter.prototype=Object.create(AbstractFilter.prototype,{constructor:{value:TwistFilter}});Object.defineProperty(proto,"offset",{get:function(){return this.uniforms.offset.value},set:function(a){this.dirty=!0,this.uniforms.offset.value=a}}),Object.defineProperty(proto,"radius",{get:function(){return this.uniforms.radius.value},set:function(a){this.dirty=!0,this.uniforms.radius.value=a}}),Object.defineProperty(proto,"angle",{get:function(){return this.uniforms.angle.value},set:function(a){this.dirty=!0,this.uniforms.angle.value=a}}),module.exports=TwistFilter;
},{"./AbstractFilter":15}],32:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function Circle(a,b,c){this.x=a||0,this.y=b||0,this.radius=c||0}var proto=Circle.prototype;proto.clone=function(){return new Circle(this.x,this.y,this.radius)},proto.contains=function(a,b){if(this.radius<=0)return!1;var c=this.x-a,d=this.y-b,e=this.radius*this.radius;return c*=c,d*=d,e>=c+d},module.exports=Circle;
},{}],33:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function Ellipse(a,b,c,d){this.x=a||0,this.y=b||0,this.width=c||0,this.height=d||0}var Rectangle=require("./Rectangle"),proto=Ellipse.prototype;proto.clone=function(){return new Ellipse(this.x,this.y,this.width,this.height)},proto.contains=function(a,b){if(this.width<=0||this.height<=0)return!1;var c=(a-this.x)/this.width-.5,d=(b-this.y)/this.height-.5;return c*=c,d*=d,.25>c+d},proto.getBounds=function(){return new Rectangle(this.x,this.y,this.width,this.height)},module.exports=Ellipse;
},{"./Rectangle":36}],34:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function Point(a,b){this.x=a||0,this.y=b||0}Point.prototype.clone=function(){return new Point(this.x,this.y)},module.exports=Point;
},{}],35:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function Polygon(a){if(a instanceof Array||(a=Array.prototype.slice.call(arguments)),"number"==typeof a[0]){for(var b=[],c=0,d=a.length;d>c;c+=2)b.push(new Point(a[c],a[c+1]));a=b}this.points=a}var Point=require("./Point"),proto=Polygon.prototype;proto.clone=function(){for(var a=[],b=0;b<this.points.length;b++)a.push(this.points[b].clone());return new Polygon(a)},proto.contains=function(a,b){for(var c=!1,d=0,e=this.points.length-1;d<this.points.length;e=d++){var f=this.points[d].x,g=this.points[d].y,h=this.points[e].x,i=this.points[e].y,j=g>b!=i>b&&(h-f)*(b-g)/(i-g)+f>a;j&&(c=!c)}return c},module.exports=Polygon;
},{"./Point":34}],36:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function Rectangle(a,b,c,d){this.x=a||0,this.y=b||0,this.width=c||0,this.height=d||0}var proto=Rectangle.prototype;proto.clone=function(){return new Rectangle(this.x,this.y,this.width,this.height)},proto.contains=function(a,b){if(this.width<=0||this.height<=0)return!1;var c=this.x;if(a>=c&&a<=c+this.width){var d=this.y;if(b>=d&&b<=d+this.height)return!0}return!1},module.exports=Rectangle;
},{}],37:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";var Matrix=exports.Matrix="undefined"!=typeof Float32Array?Float32Array:Array,mat3=exports.mat3={},mat4=exports.mat4={};mat3.create=function(){var a=new Matrix(9);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},mat3.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},mat4.create=function(){var a=new Matrix(16);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},mat3.multiply=function(a,b,c){c||(c=a);var d=a[0],e=a[1],f=a[2],g=a[3],h=a[4],i=a[5],j=a[6],k=a[7],l=a[8],m=b[0],n=b[1],o=b[2],p=b[3],q=b[4],r=b[5],s=b[6],t=b[7],u=b[8];return c[0]=m*d+n*g+o*j,c[1]=m*e+n*h+o*k,c[2]=m*f+n*i+o*l,c[3]=p*d+q*g+r*j,c[4]=p*e+q*h+r*k,c[5]=p*f+q*i+r*l,c[6]=s*d+t*g+u*j,c[7]=s*e+t*h+u*k,c[8]=s*f+t*i+u*l,c},mat3.clone=function(a){var b=new Matrix(9);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b},mat3.transpose=function(a,b){if(!b||a===b){var c=a[1],d=a[2],e=a[5];return a[1]=a[3],a[2]=a[6],a[3]=c,a[5]=a[7],a[6]=d,a[7]=e,a}return b[0]=a[0],b[1]=a[3],b[2]=a[6],b[3]=a[1],b[4]=a[4],b[5]=a[7],b[6]=a[2],b[7]=a[5],b[8]=a[8],b},mat3.toMat4=function(a,b){return b||(b=mat4.create()),b[15]=1,b[14]=0,b[13]=0,b[12]=0,b[11]=0,b[10]=a[8],b[9]=a[7],b[8]=a[6],b[7]=0,b[6]=a[5],b[5]=a[4],b[4]=a[3],b[3]=0,b[2]=a[2],b[1]=a[1],b[0]=a[0],b},mat4.create=function(){var a=new Matrix(16);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},mat4.transpose=function(a,b){if(!b||a===b){var c=a[1],d=a[2],e=a[3],f=a[6],g=a[7],h=a[11];return a[1]=a[4],a[2]=a[8],a[3]=a[12],a[4]=c,a[6]=a[9],a[7]=a[13],a[8]=d,a[9]=f,a[11]=a[14],a[12]=e,a[13]=g,a[14]=h,a}return b[0]=a[0],b[1]=a[4],b[2]=a[8],b[3]=a[12],b[4]=a[1],b[5]=a[5],b[6]=a[9],b[7]=a[13],b[8]=a[2],b[9]=a[6],b[10]=a[10],b[11]=a[14],b[12]=a[3],b[13]=a[7],b[14]=a[11],b[15]=a[15],b},mat4.multiply=function(a,b,c){c||(c=a);var d=a[0],e=a[1],f=a[2],g=a[3],h=a[4],i=a[5],j=a[6],k=a[7],l=a[8],m=a[9],n=a[10],o=a[11],p=a[12],q=a[13],r=a[14],s=a[15],t=b[0],u=b[1],v=b[2],w=b[3];return c[0]=t*d+u*h+v*l+w*p,c[1]=t*e+u*i+v*m+w*q,c[2]=t*f+u*j+v*n+w*r,c[3]=t*g+u*k+v*o+w*s,t=b[4],u=b[5],v=b[6],w=b[7],c[4]=t*d+u*h+v*l+w*p,c[5]=t*e+u*i+v*m+w*q,c[6]=t*f+u*j+v*n+w*r,c[7]=t*g+u*k+v*o+w*s,t=b[8],u=b[9],v=b[10],w=b[11],c[8]=t*d+u*h+v*l+w*p,c[9]=t*e+u*i+v*m+w*q,c[10]=t*f+u*j+v*n+w*r,c[11]=t*g+u*k+v*o+w*s,t=b[12],u=b[13],v=b[14],w=b[15],c[12]=t*d+u*h+v*l+w*p,c[13]=t*e+u*i+v*m+w*q,c[14]=t*f+u*j+v*n+w*r,c[15]=t*g+u*k+v*o+w*s,c};
},{}],38:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";var globals=require("./core/globals"),shaders=require("./renderers/webgl/shaders"),matrix=require("./geom/matrix"),pixi=module.exports=Object.create(globals);pixi.Point=require("./geom/Point"),pixi.Rectangle=require("./geom/Rectangle"),pixi.Polygon=require("./geom/Polygon"),pixi.Circle=require("./geom/Circle"),pixi.Ellipse=require("./geom/Ellipse"),pixi.Matrix=matrix.Matrix,pixi.mat3=matrix.mat3,pixi.mat4=matrix.mat4,pixi.blendModes=require("./display/blendModes"),pixi.DisplayObject=require("./display/DisplayObject"),pixi.DisplayObjectContainer=require("./display/DisplayObjectContainer"),pixi.Sprite=require("./display/Sprite"),pixi.MovieClip=require("./display/MovieClip"),pixi.AbstractFilter=require("./filters/AbstractFilter"),pixi.BlurFilter=require("./filters/BlurFilter"),pixi.BlurXFilter=require("./filters/BlurXFilter"),pixi.BlurYFilter=require("./filters/BlurYFilter"),pixi.ColorMatrixFilter=require("./filters/ColorMatrixFilter"),pixi.ColorStepFilter=require("./filters/ColorStepFilter"),pixi.CrossHatchFilter=require("./filters/CrossHatchFilter"),pixi.DisplacementFilter=require("./filters/DisplacementFilter"),pixi.DotScreenFilter=require("./filters/DotScreenFilter"),pixi.FilterBlock=require("./filters/FilterBlock"),pixi.GrayFilter=require("./filters/GrayFilter"),pixi.InvertFilter=require("./filters/InvertFilter"),pixi.PixelateFilter=require("./filters/PixelateFilter"),pixi.RGBSplitFilter=require("./filters/RGBSplitFilter"),pixi.SepiaFilter=require("./filters/SepiaFilter"),pixi.SmartBlurFilter=require("./filters/SmartBlurFilter"),pixi.TwistFilter=require("./filters/TwistFilter"),pixi.Text=require("./text/Text"),pixi.BitmapText=require("./text/BitmapText"),pixi.InteractionManager=require("./InteractionManager"),pixi.Stage=require("./display/Stage"),pixi.EventTarget=require("./events/EventTarget"),pixi.autoDetectRenderer=require("./utils/autoDetectRenderer"),pixi.PolyK=require("./utils/Polyk"),pixi.WebGLGraphics=require("./renderers/webgl/graphics"),pixi.WebGLRenderer=require("./renderers/webgl/WebGLRenderer"),pixi.WebGLBatch=require("./renderers/webgl/WebGLBatch"),pixi.WebGLRenderGroup=require("./renderers/webgl/WebGLRenderGroup"),pixi.CanvasRenderer=require("./renderers/canvas/CanvasRenderer"),pixi.CanvasGraphics=require("./renderers/canvas/graphics"),pixi.Graphics=require("./primitives/Graphics"),pixi.Strip=require("./extras/Strip"),pixi.Rope=require("./extras/Rope"),pixi.TilingSprite=require("./extras/TilingSprite"),pixi.Spine=require("./extras/Spine"),pixi.CustomRenderable=require("./extras/CustomRenderable"),pixi.BaseTexture=require("./textures/BaseTexture"),pixi.Texture=require("./textures/Texture"),pixi.RenderTexture=require("./textures/RenderTexture"),pixi.AssetLoader=require("./loaders/AssetLoader"),pixi.JsonLoader=require("./loaders/JsonLoader"),pixi.SpriteSheetLoader=require("./loaders/SpriteSheetLoader"),pixi.ImageLoader=require("./loaders/ImageLoader"),pixi.BitmapFontLoader=require("./loaders/BitmapFontLoader"),pixi.SpineLoader=require("./loaders/SpineLoader"),pixi.initDefaultShaders=shaders.initDefaultShaders,pixi.activatePrimitiveShader=shaders.activatePrimitiveShader,pixi.deactivatePrimitiveShader=shaders.deactivatePrimitiveShader,pixi.activateStripShader=shaders.activateStripShader,pixi.deactivateStripShader=shaders.deactivateStripShader;var debug=require("./utils/debug");pixi.runList=debug.runList;
},{"./InteractionManager":1,"./core/globals":2,"./display/DisplayObject":3,"./display/DisplayObjectContainer":4,"./display/MovieClip":5,"./display/Sprite":6,"./display/Stage":7,"./display/blendModes":8,"./events/EventTarget":9,"./extras/CustomRenderable":10,"./extras/Rope":11,"./extras/Spine":12,"./extras/Strip":13,"./extras/TilingSprite":14,"./filters/AbstractFilter":15,"./filters/BlurFilter":16,"./filters/BlurXFilter":17,"./filters/BlurYFilter":18,"./filters/ColorMatrixFilter":19,"./filters/ColorStepFilter":20,"./filters/CrossHatchFilter":21,"./filters/DisplacementFilter":22,"./filters/DotScreenFilter":23,"./filters/FilterBlock":24,"./filters/GrayFilter":25,"./filters/InvertFilter":26,"./filters/PixelateFilter":27,"./filters/RGBSplitFilter":28,"./filters/SepiaFilter":29,"./filters/SmartBlurFilter":30,"./filters/TwistFilter":31,"./geom/Circle":32,"./geom/Ellipse":33,"./geom/Point":34,"./geom/Polygon":35,"./geom/Rectangle":36,"./geom/matrix":37,"./loaders/AssetLoader":39,"./loaders/BitmapFontLoader":40,"./loaders/ImageLoader":41,"./loaders/JsonLoader":42,"./loaders/SpineLoader":43,"./loaders/SpriteSheetLoader":44,"./primitives/Graphics":46,"./renderers/canvas/CanvasRenderer":47,"./renderers/canvas/graphics":48,"./renderers/webgl/WebGLBatch":52,"./renderers/webgl/WebGLRenderGroup":54,"./renderers/webgl/WebGLRenderer":55,"./renderers/webgl/graphics":57,"./renderers/webgl/shaders":58,"./text/BitmapText":59,"./text/Text":60,"./textures/BaseTexture":61,"./textures/RenderTexture":62,"./textures/Texture":63,"./utils/Polyk":64,"./utils/autoDetectRenderer":65,"./utils/debug":67}],39:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function getDataType(a){var b="data:",c=a.slice(0,b.length).toLowerCase();if(c===b){var d=a.slice(b.length),e=d.indexOf(",");if(-1===e)return null;var f=d.slice(0,e).split(";")[0];return f&&"text/plain"!==f.toLowerCase()?f.split("/").pop().toLowerCase():"txt"}return null}function AssetLoader(a,b){EventTarget.call(this),this.assetURLs=a,this.crossorigin=b}var EventTarget=require("../events/EventTarget"),loadersByType={},proto=AssetLoader.prototype;proto.load=function(){function a(){b.onAssetLoaded()}var b=this;this.loadCount=this.assetURLs.length;for(var c=0,d=this.assetURLs.length;d>c;c++){var e=this.assetURLs[c],f=getDataType(e);f||(f=e.split("?").shift().split(".").pop().toLowerCase());var g=loadersByType[f];if(!g)throw new Error(f+" is an unsupported file type");var h=new g(e,this.crossorigin);h.addEventListener("loaded",a),h.load()}},proto.onAssetLoaded=function(){this.loadCount--,this.dispatchEvent({type:"onProgress",content:this}),this.onProgress&&this.onProgress(),this.loadCount||(this.dispatchEvent({type:"onComplete",content:this}),this.onComplete&&this.onComplete())},AssetLoader.registerLoaderType=function(a,b){loadersByType[a]=b},module.exports=AssetLoader;
},{"../events/EventTarget":9}],40:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function BitmapFontLoader(a,b){EventTarget.call(this),this.url=a,this.crossorigin=b,this.baseUrl=a.replace(/[^\/]*$/,""),this.texture=null}var AssetLoader=require("./AssetLoader"),ImageLoader=require("./ImageLoader"),Rectangle=require("../geom/Rectangle"),EventTarget=require("../events/EventTarget"),BitmapText=require("../text/BitmapText"),Texture=require("../textures/Texture"),platform=require("../platform"),proto=BitmapFontLoader.prototype;proto.handleEvent=function(a){switch(a.type){case"load":this.onXMLLoaded();break;default:this.onError()}},proto.load=function(){this.request=platform.createRequest(),this.request.addEventListener("load",this),this.request.addEventListener("error",this),this.request.open("GET",this.url,!0),this.request.overrideMimeType&&this.request.overrideMimeType("application/xml"),this.request.send(null)},proto.onXMLLoaded=function(){var a=this.baseUrl+this.request.responseXML.getElementsByTagName("page")[0].attributes.getNamedItem("file").nodeValue,b=new ImageLoader(a,this.crossorigin);this.texture=b.texture.baseTexture;var c={},d=this.request.responseXML.getElementsByTagName("info")[0],e=this.request.responseXML.getElementsByTagName("common")[0];c.font=d.attributes.getNamedItem("face").nodeValue,c.size=parseInt(d.attributes.getNamedItem("size").nodeValue,10),c.lineHeight=parseInt(e.attributes.getNamedItem("lineHeight").nodeValue,10),c.chars={};for(var f=this.request.responseXML.getElementsByTagName("char"),g=0;g<f.length;g++){var h=parseInt(f[g].attributes.getNamedItem("id").nodeValue,10),i=new Rectangle(parseInt(f[g].attributes.getNamedItem("x").nodeValue,10),parseInt(f[g].attributes.getNamedItem("y").nodeValue,10),parseInt(f[g].attributes.getNamedItem("width").nodeValue,10),parseInt(f[g].attributes.getNamedItem("height").nodeValue,10));c.chars[h]={xOffset:parseInt(f[g].attributes.getNamedItem("xoffset").nodeValue,10),yOffset:parseInt(f[g].attributes.getNamedItem("yoffset").nodeValue,10),xAdvance:parseInt(f[g].attributes.getNamedItem("xadvance").nodeValue,10),kerning:{},texture:Texture.cache[h]=new Texture(this.texture,i)}}var j=this.request.responseXML.getElementsByTagName("kerning");for(g=0;g<j.length;g++){var k=parseInt(j[g].attributes.getNamedItem("first").nodeValue,10),l=parseInt(j[g].attributes.getNamedItem("second").nodeValue,10),m=parseInt(j[g].attributes.getNamedItem("amount").nodeValue,10);c.chars[l].kerning[k]=m}BitmapText.fonts[c.font]=c;var n=this;b.addEventListener("loaded",function(){n.onLoaded()}),b.load()},proto.onLoaded=function(){this.loaded=!0,this.dispatchEvent({type:"loaded",content:this})},proto.onError=function(){this.dispatchEvent({type:"error",content:this})},AssetLoader.registerLoaderType("xml",BitmapFontLoader),AssetLoader.registerLoaderType("fnt",BitmapFontLoader),module.exports=BitmapFontLoader;
},{"../events/EventTarget":9,"../geom/Rectangle":36,"../platform":45,"../text/BitmapText":59,"../textures/Texture":63,"./AssetLoader":39,"./ImageLoader":41}],41:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function ImageLoader(a,b){EventTarget.call(this),this.texture=Texture.fromImage(a,b),this.frames=[]}var AssetLoader=require("./AssetLoader"),EventTarget=require("../events/EventTarget"),Texture=require("../textures/Texture"),proto=ImageLoader.prototype;proto.load=function(){if(this.texture.baseTexture.hasLoaded)this.onLoaded();else{var a=this;this.texture.baseTexture.addEventListener("loaded",function(){a.onLoaded()})}},proto.onLoaded=function(){this.dispatchEvent({type:"loaded",content:this})},proto.loadFramedSpriteSheet=function(a,b,c){this.frames=[];for(var d=Math.floor(this.texture.width/a),e=Math.floor(this.texture.height/b),f=0,g=0;e>g;g++)for(var h=0;d>h;h++,f++){var i=new Texture(this.texture,{x:h*a,y:g*b,width:a,height:b});this.frames.push(i),c&&(Texture.cache[c+"-"+f]=i)}if(this.texture.baseTexture.hasLoaded)this.onLoaded();else{var j=this;this.texture.baseTexture.addEventListener("loaded",function(){j.onLoaded()})}},AssetLoader.registerLoaderType("jpg",ImageLoader),AssetLoader.registerLoaderType("jpeg",ImageLoader),AssetLoader.registerLoaderType("png",ImageLoader),AssetLoader.registerLoaderType("gif",ImageLoader),module.exports=ImageLoader;
},{"../events/EventTarget":9,"../textures/Texture":63,"./AssetLoader":39}],42:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function JsonLoader(a,b){EventTarget.call(this),this.url=a,this.crossorigin=b,this.baseUrl=a.replace(/[^\/]*$/,""),this.loaded=!1}var AssetLoader=require("./AssetLoader"),ImageLoader=require("./ImageLoader"),EventTarget=require("../events/EventTarget"),Texture=require("../textures/Texture"),Spine=require("../extras/Spine"),SkeletonJson=require("../utils/spine").SkeletonJson,platform=require("../platform"),proto=JsonLoader.prototype;proto.handleEvent=function(a){switch(a.type){case"load":this.onJSONLoaded();break;default:this.onError()}},proto.load=function(){this.request=platform.createRequest(),this.request.addEventListener("load",this),this.request.addEventListener("error",this),this.request.open("GET",this.url,!0),this.request.overrideMimeType&&this.request.overrideMimeType("application/json"),this.request.send(null)},proto.onJSONLoaded=function(){if(this.json=JSON.parse(this.request.responseText),this.json.frames){var a=this,b=this.baseUrl+this.json.meta.image,c=new ImageLoader(b,this.crossorigin),d=this.json.frames;this.texture=c.texture.baseTexture,c.addEventListener("loaded",function(){a.onLoaded()});for(var e in d){var f=d[e].frame;f&&(Texture.cache[e]=new Texture(this.texture,{x:f.x,y:f.y,width:f.w,height:f.h}),d[e].trimmed&&(Texture.cache[e].realSize=d[e].spriteSourceSize,Texture.cache[e].trim.x=0))}c.load()}else if(this.json.bones){var g=new SkeletonJson,h=g.readSkeletonData(this.json);Spine.animCache[this.url]=h,this.onLoaded()}else this.onLoaded()},proto.onLoaded=function(){this.loaded=!0,this.dispatchEvent({type:"loaded",content:this})},proto.onError=function(){this.dispatchEvent({type:"error",content:this})},AssetLoader.registerLoaderType("json",JsonLoader),module.exports=JsonLoader;
},{"../events/EventTarget":9,"../extras/Spine":12,"../platform":45,"../textures/Texture":63,"../utils/spine":68,"./AssetLoader":39,"./ImageLoader":41}],43:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function SpineLoader(a,b){EventTarget.call(this),this.url=a,this.crossorigin=b,this.loaded=!1}var AssetLoader=require("./AssetLoader"),JsonLoader=require("./JsonLoader"),EventTarget=require("../events/EventTarget"),Spine=require("../extras/Spine"),SkeletonJson=require("../utils/spine").SkeletonJson,proto=SpineLoader.prototype;proto.load=function(){var a=this,b=new JsonLoader(this.url,this.crossorigin);b.addEventListener("loaded",function(b){a.json=b.content.json,a.onJSONLoaded()}),b.load()},proto.onJSONLoaded=function(){var a=new SkeletonJson,b=a.readSkeletonData(this.json);Spine.animCache[this.url]=b,this.onLoaded()},proto.onLoaded=function(){this.loaded=!0,this.dispatchEvent({type:"loaded",content:this})},AssetLoader.registerLoaderType("anim",SpineLoader),module.exports=SpineLoader;
},{"../events/EventTarget":9,"../extras/Spine":12,"../utils/spine":68,"./AssetLoader":39,"./JsonLoader":42}],44:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function SpriteSheetLoader(a,b){EventTarget.call(this),this.url=a,this.crossorigin=b,this.baseUrl=a.replace(/[^\/]*$/,""),this.texture=null,this.frames={}}var JsonLoader=require("./JsonLoader"),ImageLoader=require("./ImageLoader"),EventTarget=require("../events/EventTarget"),Texture=require("../textures/Texture"),proto=SpriteSheetLoader.prototype;proto.load=function(){var a=this,b=new JsonLoader(this.url,this.crossorigin);b.addEventListener("loaded",function(b){a.json=b.content.json,a.onJSONLoaded()}),b.load()},proto.onJSONLoaded=function(){var a=this,b=this.baseUrl+this.json.meta.image,c=new ImageLoader(b,this.crossorigin),d=this.json.frames;this.texture=c.texture.baseTexture,c.addEventListener("loaded",function(){a.onLoaded()});for(var e in d){var f=d[e].frame;f&&(Texture.cache[e]=new Texture(this.texture,{x:f.x,y:f.y,width:f.w,height:f.h}),d[e].trimmed&&(Texture.cache[e].realSize=d[e].spriteSourceSize,Texture.cache[e].trim.x=0))}c.load()},proto.onLoaded=function(){this.dispatchEvent({type:"loaded",content:this})},module.exports=SpriteSheetLoader;
},{"../events/EventTarget":9,"../textures/Texture":63,"./ImageLoader":41,"./JsonLoader":42}],45:[function(require,module,exports){
(function (global){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
module.exports={console:global.console,document:global.document,location:global.location,navigator:global.navigator,window:global.window,createCanvas:function(){return global.document.createElement("canvas")},createImage:function(){return new global.Image},createRequest:function(){return new global.XMLHttpRequest}};
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],46:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function Graphics(){DisplayObjectContainer.call(this),this.renderable=!0,this.fillAlpha=1,this.lineWidth=0,this.lineColor="black",this.graphicsData=[],this.currentPath={points:[]}}var DisplayObjectContainer=require("../display/DisplayObjectContainer"),Rectangle=require("../geom/Rectangle"),proto=Graphics.prototype=Object.create(DisplayObjectContainer.prototype,{constructor:{value:Graphics}});proto.lineStyle=function(a,b,c){this.currentPath.points.length||this.graphicsData.pop(),this.lineWidth=a||0,this.lineColor=b||0,this.lineAlpha=arguments.length<3?1:c,this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[],type:Graphics.POLY},this.graphicsData.push(this.currentPath)},proto.moveTo=function(a,b){this.currentPath.points.length||this.graphicsData.pop(),this.currentPath=this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[],type:Graphics.POLY},this.currentPath.points.push(a,b),this.graphicsData.push(this.currentPath)},proto.lineTo=function(a,b){this.currentPath.points.push(a,b),this.dirty=!0},proto.beginFill=function(a,b){this.filling=!0,this.fillColor=a||0,this.fillAlpha=arguments.length<2?1:b},proto.endFill=function(){this.filling=!1,this.fillColor=null,this.fillAlpha=1},proto.drawRect=function(a,b,c,d){this.currentPath.points.length||this.graphicsData.pop(),this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[a,b,c,d],type:Graphics.RECT},this.graphicsData.push(this.currentPath),this.dirty=!0},proto.drawCircle=function(a,b,c){this.currentPath.points.length||this.graphicsData.pop(),this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[a,b,c,c],type:Graphics.CIRC},this.graphicsData.push(this.currentPath),this.dirty=!0},proto.drawElipse=function(a,b,c,d){this.currentPath.points.length||this.graphicsData.pop(),this.currentPath={lineWidth:this.lineWidth,lineColor:this.lineColor,lineAlpha:this.lineAlpha,fillColor:this.fillColor,fillAlpha:this.fillAlpha,fill:this.filling,points:[a,b,c,d],type:Graphics.ELIP},this.graphicsData.push(this.currentPath),this.dirty=!0},proto.clear=function(){this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this.bounds=null},proto.updateFilterBounds=function(){if(!this.bounds){for(var a,b,c,d=1/0,e=-1/0,f=1/0,g=-1/0,h=0;h<this.graphicsData.length;h++){var i=this.graphicsData[h],j=i.type,k=i.lineWidth;if(a=i.points,j===Graphics.RECT){b=a.x-k/2,c=a.y-k/2;var l=a.width+k,m=a.height+k;d=d>b?b:d,e=b+l>e?b+l:e,f=f>c?b:f,g=c+m>g?c+m:g}else if(j===Graphics.CIRC||j===Graphics.ELIP){b=a.x,c=a.y;var n=a.radius+k/2;d=d>b-n?b-n:d,e=b+n>e?b+n:e,f=f>c-n?c-n:f,g=c+n>g?c+n:g}else for(var o=0;o<a.length;o+=2)b=a[o],c=a[o+1],d=d>b-k?b-k:d,e=b+k>e?b+k:e,f=f>c-k?c-k:f,g=c+k>g?c+k:g}this.bounds=new Rectangle(d,f,e-d,g-f)}},Graphics.POLY=0,Graphics.RECT=1,Graphics.CIRC=2,Graphics.ELIP=3,module.exports=Graphics;
},{"../display/DisplayObjectContainer":4,"../geom/Rectangle":36}],47:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function CanvasRenderer(a,b,c,d){this.transparent=d,this.width=a||800,this.height=b||600,this.view=c||platform.createCanvas(),this.context=this.view.getContext("2d"),this.smoothProperty=null,"imageSmoothingEnabled"in this.context?this.smoothProperty="imageSmoothingEnabled":"webkitImageSmoothingEnabled"in this.context?this.smoothProperty="webkitImageSmoothingEnabled":"mozImageSmoothingEnabled"in this.context?this.smoothProperty="mozImageSmoothingEnabled":"oImageSmoothingEnabled"in this.context&&(this.smoothProperty="oImageSmoothingEnabled"),this.scaleMode=null,this.refresh=!0,this.view.width=this.width,this.view.height=this.height,this.count=0}var platform=require("../../platform"),globals=require("../../core/globals"),canvasGraphics=require("./graphics"),BaseTexture=require("../../textures/BaseTexture"),Texture=require("../../textures/Texture"),Sprite=require("../../display/Sprite"),TilingSprite=require("../../extras/TilingSprite"),Strip=require("../../extras/Strip"),CustomRenderable=require("../../extras/CustomRenderable"),Graphics=require("../../primitives/Graphics"),FilterBlock=require("../../filters/FilterBlock"),proto=CanvasRenderer.prototype;proto.render=function(a){globals.texturesToUpdate=[],globals.texturesToDestroy=[],globals.visibleCount++,a.updateTransform(),this.view.style.backgroundColor===a.backgroundColorString||this.transparent||(this.view.style.backgroundColor=a.backgroundColorString),this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.width,this.height),this.renderDisplayObject(a),a.interactive&&(a._interactiveEventsAdded||(a._interactiveEventsAdded=!0,a.interactionManager.setTarget(this))),Texture.frameUpdates.length>0&&(Texture.frameUpdates=[])},proto.resize=function(a,b){this.width=a,this.height=b,this.view.width=a,this.view.height=b},proto.renderDisplayObject=function(a){var b,c=this.context;c.globalCompositeOperation="source-over";var d=a.last._iNext;a=a.first;do if(b=a.worldTransform,a.visible)if(a.renderable){if(a instanceof Sprite){var e=a.texture.frame;e&&e.width&&e.height&&a.texture.baseTexture.source&&(c.globalAlpha=a.worldAlpha,c.setTransform(b[0],b[3],b[1],b[4],b[2],b[5]),this.smoothProperty&&this.scaleMode!==a.texture.baseTexture.scaleMode&&(this.scaleMode=a.texture.baseTexture.scaleMode,c[this.smoothProperty]=this.scaleMode===BaseTexture.SCALE_MODE.LINEAR),c.drawImage(a.texture.baseTexture.source,e.x,e.y,e.width,e.height,a.anchor.x*-e.width,a.anchor.y*-e.height,e.width,e.height))}else if(a instanceof Strip)c.setTransform(b[0],b[3],b[1],b[4],b[2],b[5]),this.renderStrip(a);else if(a instanceof TilingSprite)c.setTransform(b[0],b[3],b[1],b[4],b[2],b[5]),this.renderTilingSprite(a);else if(a instanceof CustomRenderable)c.setTransform(b[0],b[3],b[1],b[4],b[2],b[5]),a.renderCanvas(this);else if(a instanceof Graphics)c.setTransform(b[0],b[3],b[1],b[4],b[2],b[5]),canvasGraphics.renderGraphics(a,c);else if(a instanceof FilterBlock&&a.data instanceof Graphics){var f=a.data;if(a.open){c.save();var g=f.alpha,h=f.worldTransform;c.setTransform(h[0],h[3],h[1],h[4],h[2],h[5]),f.worldAlpha=.5,c.worldAlpha=0,canvasGraphics.renderGraphicsMask(f,c),c.clip(),f.worldAlpha=g}else c.restore()}a=a._iNext}else a=a._iNext;else a=a.last._iNext;while(a!==d)},proto.renderStripFlat=function(a){var b=this.context,c=a.verticies,d=c.length/2;this.count++,b.beginPath();for(var e=1;d-2>e;e++){var f=2*e,g=c[f],h=c[f+2],i=c[f+4],j=c[f+1],k=c[f+3],l=c[f+5];b.moveTo(g,j),b.lineTo(h,k),b.lineTo(i,l)}b.fillStyle="#FF0000",b.fill(),b.closePath()},proto.renderTilingSprite=function(a){var b=this.context;b.globalAlpha=a.worldAlpha,a.__tilePattern||(a.__tilePattern=b.createPattern(a.texture.baseTexture.source,"repeat")),b.beginPath();var c=a.tilePosition,d=a.tileScale;b.scale(d.x,d.y),b.translate(c.x,c.y),b.fillStyle=a.__tilePattern,b.fillRect(-c.x,-c.y,a.width/d.x,a.height/d.y),b.scale(1/d.x,1/d.y),b.translate(-c.x,-c.y),b.closePath()},proto.renderStrip=function(a){var b=this.context,c=a.verticies,d=a.uvs,e=c.length/2;this.count++;for(var f=1;e-2>f;f++){var g=2*f,h=c[g],i=c[g+2],j=c[g+4],k=c[g+1],l=c[g+3],m=c[g+5],n=d[g]*a.texture.width,o=d[g+2]*a.texture.width,p=d[g+4]*a.texture.width,q=d[g+1]*a.texture.height,r=d[g+3]*a.texture.height,s=d[g+5]*a.texture.height;b.save(),b.beginPath(),b.moveTo(h,k),b.lineTo(i,l),b.lineTo(j,m),b.closePath(),b.clip();var t=n*r+q*p+o*s-r*p-q*o-n*s,u=h*r+q*j+i*s-r*j-q*i-h*s,v=n*i+h*p+o*j-i*p-h*o-n*j,w=n*r*j+q*i*p+h*o*s-h*r*p-q*o*j-n*i*s,x=k*r+q*m+l*s-r*m-q*l-k*s,y=n*l+k*p+o*m-l*p-k*o-n*m,z=n*r*m+q*l*p+k*o*s-k*r*p-q*o*m-n*l*s;b.transform(u/t,x/t,v/t,y/t,w/t,z/t),b.drawImage(a.texture.baseTexture.source,0,0),b.restore()}},module.exports=CanvasRenderer;
},{"../../core/globals":2,"../../display/Sprite":6,"../../extras/CustomRenderable":10,"../../extras/Strip":13,"../../extras/TilingSprite":14,"../../filters/FilterBlock":24,"../../platform":45,"../../primitives/Graphics":46,"../../textures/BaseTexture":61,"../../textures/Texture":63,"./graphics":48}],48:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";var platform=require("../../platform"),Graphics=require("../../primitives/Graphics");exports.renderGraphics=function(a,b){for(var c,d,e,f,g=a.worldAlpha,h="",i=0,j=a.graphicsData.length;j>i;i++)if(c=a.graphicsData[i],d=c.points,h=b.strokeStyle="#"+("00000"+(0|c.lineColor).toString(16)).substr(-6),b.lineWidth=c.lineWidth,c.type===Graphics.POLY){for(b.beginPath(),b.moveTo(d[0],d[1]),e=1,f=d.length/2;f>e;e++)b.lineTo(d[2*e],d[2*e+1]);d[0]===d[d.length-2]&&d[1]===d[d.length-1]&&b.closePath(),c.fill&&(b.globalAlpha=c.fillAlpha*g,b.fillStyle=h="#"+("00000"+(0|c.fillColor).toString(16)).substr(-6),b.fill()),c.lineWidth&&(b.globalAlpha=c.lineAlpha*g,b.stroke())}else if(c.type===Graphics.RECT)(c.fillColor||0===c.fillColor)&&(b.globalAlpha=c.fillAlpha*g,b.fillStyle=h="#"+("00000"+(0|c.fillColor).toString(16)).substr(-6),b.fillRect(d[0],d[1],d[2],d[3])),c.lineWidth&&(b.globalAlpha=c.lineAlpha*g,b.strokeRect(d[0],d[1],d[2],d[3]));else if(c.type===Graphics.CIRC)b.beginPath(),b.arc(d[0],d[1],d[2],0,2*Math.PI),b.closePath(),c.fill&&(b.globalAlpha=c.fillAlpha*g,b.fillStyle=h="#"+("00000"+(0|c.fillColor).toString(16)).substr(-6),b.fill()),c.lineWidth&&(b.globalAlpha=c.lineAlpha*g,b.stroke());else if(c.type===Graphics.ELIP){var k=c.points,l=2*k[2],m=2*k[3],n=k[0]-l/2,o=k[1]-m/2;b.beginPath();var p=.5522848,q=l/2*p,r=m/2*p,s=n+l,t=o+m,u=n+l/2,v=o+m/2;b.moveTo(n,v),b.bezierCurveTo(n,v-r,u-q,o,u,o),b.bezierCurveTo(u+q,o,s,v-r,s,v),b.bezierCurveTo(s,v+r,u+q,t,u,t),b.bezierCurveTo(u-q,t,n,v+r,n,v),b.closePath(),c.fill&&(b.globalAlpha=c.fillAlpha*g,b.fillStyle=h="#"+("00000"+(0|c.fillColor).toString(16)).substr(-6),b.fill()),c.lineWidth&&(b.globalAlpha=c.lineAlpha*g,b.stroke())}},exports.renderGraphicsMask=function(a,b){var c=a.graphicsData.length;if(0!==c){c>1&&(c=1,platform.console.warn("Pixi.js warning: masks in canvas can only mask using the first path in the graphics object"));for(var d=0;1>d;d++){var e=a.graphicsData[d],f=e.points;if(e.type===Graphics.POLY){b.beginPath(),b.moveTo(f[0],f[1]);for(var g=1;g<f.length/2;g++)b.lineTo(f[2*g],f[2*g+1]);f[0]===f[f.length-2]&&f[1]===f[f.length-1]&&b.closePath()}else if(e.type===Graphics.RECT)b.beginPath(),b.rect(f[0],f[1],f[2],f[3]),b.closePath();else if(e.type===Graphics.CIRC)b.beginPath(),b.arc(f[0],f[1],f[2],0,2*Math.PI),b.closePath();else if(e.type===Graphics.ELIP){var h=e.points,i=2*h[2],j=2*h[3],k=h[0]-i/2,l=h[1]-j/2;b.beginPath();var m=.5522848,n=i/2*m,o=j/2*m,p=k+i,q=l+j,r=k+i/2,s=l+j/2;b.moveTo(k,s),b.bezierCurveTo(k,s-o,r-n,l,r,l),b.bezierCurveTo(r+n,l,p,s-o,p,s),b.bezierCurveTo(p,s+o,r+n,q,r,q),b.bezierCurveTo(r-n,q,k,s+o,k,s),b.closePath()}}}};
},{"../../platform":45,"../../primitives/Graphics":46}],49:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function PixiShader(){this.program=null,this.fragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor;","}"],this.textureCount=0}var compile=require("./compile"),globals=require("../../core/globals"),proto=PixiShader.prototype;proto.init=function(){var a=globals.gl,b=compile.program(a,this.vertexSrc||PixiShader.defaultVertexSrc,this.fragmentSrc);a.useProgram(b),this.uSampler=a.getUniformLocation(b,"uSampler"),this.projectionVector=a.getUniformLocation(b,"projectionVector"),this.offsetVector=a.getUniformLocation(b,"offsetVector"),this.dimensions=a.getUniformLocation(b,"dimensions"),this.aVertexPosition=a.getAttribLocation(b,"aVertexPosition"),this.colorAttribute=a.getAttribLocation(b,"aColor"),this.aTextureCoord=a.getAttribLocation(b,"aTextureCoord");for(var c in this.uniforms)this.uniforms[c].uniformLocation=a.getUniformLocation(b,c);this.initUniforms(),this.program=b},proto.initUniforms=function(){this.textureCount=1;var a;for(var b in this.uniforms){a=this.uniforms[b];var c=a.type;"sampler2D"===c?(a._init=!1,null!==a.value&&this.initSampler2D(a)):"mat2"===c||"mat3"===c||"mat4"===c?(a.glMatrix=!0,a.glValueLength=1,"mat2"===c?a.glFunc=globals.gl.uniformMatrix2fv:"mat3"===c?a.glFunc=globals.gl.uniformMatrix3fv:"mat4"===c&&(a.glFunc=globals.gl.uniformMatrix4fv)):(a.glFunc=globals.gl["uniform"+c],a.glValueLength="2f"===c||"2i"===c?2:"3f"===c||"3i"===c?3:"4f"===c||"4i"===c?4:1)}},proto.initSampler2D=function(a){if(a.value&&a.value.baseTexture&&a.value.baseTexture.hasLoaded){if(globals.gl.activeTexture(globals.gl["TEXTURE"+this.textureCount]),globals.gl.bindTexture(globals.gl.TEXTURE_2D,a.value.baseTexture._glTexture),a.textureData){var b=a.textureData,c=b.magFilter?b.magFilter:globals.gl.LINEAR,d=b.minFilter?b.minFilter:globals.gl.LINEAR,e=b.wrapS?b.wrapS:globals.gl.CLAMP_TO_EDGE,f=b.wrapT?b.wrapT:globals.gl.CLAMP_TO_EDGE,g=b.luminance?globals.gl.LUMINANCE:globals.gl.RGBA;if(b.repeat&&(e=globals.gl.REPEAT,f=globals.gl.REPEAT),globals.gl.pixelStorei(globals.gl.UNPACK_FLIP_Y_WEBGL,!1),b.width){var h=b.width?b.width:512,i=b.height?b.height:2,j=b.border?b.border:0;globals.gl.texImage2D(globals.gl.TEXTURE_2D,0,g,h,i,j,g,globals.gl.UNSIGNED_BYTE,null)}else globals.gl.texImage2D(globals.gl.TEXTURE_2D,0,g,globals.gl.RGBA,globals.gl.UNSIGNED_BYTE,a.value.baseTexture.source);globals.gl.texParameteri(globals.gl.TEXTURE_2D,globals.gl.TEXTURE_MAG_FILTER,c),globals.gl.texParameteri(globals.gl.TEXTURE_2D,globals.gl.TEXTURE_MIN_FILTER,d),globals.gl.texParameteri(globals.gl.TEXTURE_2D,globals.gl.TEXTURE_WRAP_S,e),globals.gl.texParameteri(globals.gl.TEXTURE_2D,globals.gl.TEXTURE_WRAP_T,f)}globals.gl.uniform1i(a.uniformLocation,this.textureCount),a._init=!0,this.textureCount++}},proto.syncUniforms=function(){this.textureCount=1;var a;for(var b in this.uniforms)a=this.uniforms[b],1===a.glValueLength?a.glMatrix===!0?a.glFunc.call(globals.gl,a.uniformLocation,a.transpose,a.value):a.glFunc.call(globals.gl,a.uniformLocation,a.value):2===a.glValueLength?a.glFunc.call(globals.gl,a.uniformLocation,a.value.x,a.value.y):3===a.glValueLength?a.glFunc.call(globals.gl,a.uniformLocation,a.value.x,a.value.y,a.value.z):4===a.glValueLength?a.glFunc.call(globals.gl,a.uniformLocation,a.value.x,a.value.y,a.value.z,a.value.w):"sampler2D"===a.type&&(a._init?(globals.gl.activeTexture(globals.gl["TEXTURE"+this.textureCount]),globals.gl.bindTexture(globals.gl.TEXTURE_2D,a.value.baseTexture._glTexture),globals.gl.uniform1i(a.uniformLocation,this.textureCount),this.textureCount++):this.initSampler2D(a))},PixiShader.defaultVertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","varying float vColor;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"],module.exports=PixiShader;
},{"../../core/globals":2,"./compile":56}],50:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function PrimitiveShader(){this.program=null,this.fragmentSrc=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform float alpha;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);","   vColor = aColor  * alpha;","}"]}var compile=require("./compile"),globals=require("../../core/globals");PrimitiveShader.prototype.init=function(){var a=globals.gl,b=compile.program(a,this.vertexSrc,this.fragmentSrc);a.useProgram(b),this.projectionVector=a.getUniformLocation(b,"projectionVector"),this.offsetVector=a.getUniformLocation(b,"offsetVector"),this.aVertexPosition=a.getAttribLocation(b,"aVertexPosition"),this.colorAttribute=a.getAttribLocation(b,"aColor"),this.translationMatrix=a.getUniformLocation(b,"translationMatrix"),this.alpha=a.getUniformLocation(b,"alpha"),this.program=b},module.exports=PrimitiveShader;
},{"../../core/globals":2,"./compile":56}],51:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function StripShader(){this.program=null,this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","varying float vColor;","uniform float alpha;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y));","   gl_FragColor = gl_FragColor * alpha;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","varying vec2 vTextureCoord;","varying vec2 offsetVector;","varying float vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition, 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / projectionVector.y + 1.0 , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"]}var compile=require("./compile"),globals=require("../../core/globals");StripShader.prototype.init=function(){var a=globals.gl,b=compile.program(a,this.vertexSrc,this.fragmentSrc);a.useProgram(b),this.uSampler=a.getUniformLocation(b,"uSampler"),this.projectionVector=a.getUniformLocation(b,"projectionVector"),this.offsetVector=a.getUniformLocation(b,"offsetVector"),this.colorAttribute=a.getAttribLocation(b,"aColor"),this.aVertexPosition=a.getAttribLocation(b,"aVertexPosition"),this.aTextureCoord=a.getAttribLocation(b,"aTextureCoord"),this.translationMatrix=a.getUniformLocation(b,"translationMatrix"),this.alpha=a.getUniformLocation(b,"alpha"),this.program=b},module.exports=StripShader;
},{"../../core/globals":2,"./compile":56}],52:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function WebGLBatch(a){this.gl=a,this.size=0,this.vertexBuffer=a.createBuffer(),this.indexBuffer=a.createBuffer(),this.uvBuffer=a.createBuffer(),this.colorBuffer=a.createBuffer(),this.blendMode=blendModes.NORMAL,this.dynamicSize=1}var globals=require("../../core/globals"),blendModes=require("../../display/blendModes"),proto=WebGLBatch.prototype;proto.clean=function(){this.verticies=[],this.uvs=[],this.indices=[],this.colors=[],this.dynamicSize=1,this.texture=null,this.last=null,this.size=0,this.head=null,this.tail=null},proto.restoreLostContext=function(a){this.gl=a,this.vertexBuffer=a.createBuffer(),this.indexBuffer=a.createBuffer(),this.uvBuffer=a.createBuffer(),this.colorBuffer=a.createBuffer()},proto.init=function(a){a.batch=this,this.dirty=!0,this.blendMode=a.blendMode,this.texture=a.texture.baseTexture,this.head=a,this.tail=a,this.size=1,this.growBatch()},proto.insertBefore=function(a,b){this.size++,a.batch=this,this.dirty=!0;var c=b.__prev;b.__prev=a,a.__next=b,c?(a.__prev=c,c.__next=a):this.head=a},proto.insertAfter=function(a,b){this.size++,a.batch=this,this.dirty=!0;var c=b.__next;b.__next=a,a.__prev=b,c?(a.__next=c,c.__prev=a):this.tail=a},proto.remove=function(a){return this.size--,this.size?(a.__prev?a.__prev.__next=a.__next:(this.head=a.__next,this.head.__prev=null),a.__next?a.__next.__prev=a.__prev:(this.tail=a.__prev,this.tail.__next=null),a.batch=null,a.__next=null,a.__prev=null,this.dirty=!0,void 0):(a.batch=null,a.__prev=null,a.__next=null,void 0)},proto.split=function(a){this.dirty=!0;var b=new WebGLBatch(this.gl);b.init(a),b.texture=this.texture,b.tail=this.tail,this.tail=a.__prev,this.tail.__next=null,a.__prev=null;for(var c=0;a;)c++,a.batch=b,a=a.__next;return b.size=c,this.size-=c,b},proto.merge=function(a){this.dirty=!0,this.tail.__next=a.head,a.head.__prev=this.tail,this.size+=a.size,this.tail=a.tail;for(var b=a.head;b;)b.batch=this,b=b.__next},proto.growBatch=function(){var a=this.gl;this.dynamicSize=1===this.size?1:1.5*this.size,this.verticies=new Float32Array(8*this.dynamicSize),a.bindBuffer(a.ARRAY_BUFFER,this.vertexBuffer),a.bufferData(a.ARRAY_BUFFER,this.verticies,a.DYNAMIC_DRAW),this.uvs=new Float32Array(8*this.dynamicSize),a.bindBuffer(a.ARRAY_BUFFER,this.uvBuffer),a.bufferData(a.ARRAY_BUFFER,this.uvs,a.DYNAMIC_DRAW),this.dirtyUVS=!0,this.colors=new Float32Array(4*this.dynamicSize),a.bindBuffer(a.ARRAY_BUFFER,this.colorBuffer),a.bufferData(a.ARRAY_BUFFER,this.colors,a.DYNAMIC_DRAW),this.dirtyColors=!0,this.indices=new Uint16Array(6*this.dynamicSize);for(var b=0,c=this.indices.length/6;c>b;b++){var d=6*b,e=4*b;this.indices[d+0]=e+0,this.indices[d+1]=e+1,this.indices[d+2]=e+2,this.indices[d+3]=e+0,this.indices[d+4]=e+2,this.indices[d+5]=e+3}a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer),a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.indices,a.STATIC_DRAW)},proto.refresh=function(){this.dynamicSize<this.size&&this.growBatch();for(var a,b,c=0,d=this.head;d;){a=8*c;var e=d.texture,f=e.frame,g=e.baseTexture.width,h=e.baseTexture.height;this.uvs[a+0]=f.x/g,this.uvs[a+1]=f.y/h,this.uvs[a+2]=(f.x+f.width)/g,this.uvs[a+3]=f.y/h,this.uvs[a+4]=(f.x+f.width)/g,this.uvs[a+5]=(f.y+f.height)/h,this.uvs[a+6]=f.x/g,this.uvs[a+7]=(f.y+f.height)/h,d.updateFrame=!1,b=4*c,this.colors[b]=this.colors[b+1]=this.colors[b+2]=this.colors[b+3]=d.worldAlpha,d=d.__next,c++}this.dirtyUVS=!0,this.dirtyColors=!0},proto.update=function(){for(var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q=0,r=this.head,s=this.verticies,t=this.uvs,u=this.colors;r;){if(r.vcount===globals.visibleCount){if(b=r.texture.frame.width,c=r.texture.frame.height,d=r.anchor.x,e=r.anchor.y,f=b*(1-d),g=b*-d,h=c*(1-e),i=c*-e,j=8*q,a=r.worldTransform,k=a[0],l=a[3],m=a[1],n=a[4],o=a[2],p=a[5],s[j+0]=k*g+m*i+o,s[j+1]=n*i+l*g+p,s[j+2]=k*f+m*i+o,s[j+3]=n*i+l*f+p,s[j+4]=k*f+m*h+o,s[j+5]=n*h+l*f+p,s[j+6]=k*g+m*h+o,s[j+7]=n*h+l*g+p,r.updateFrame||r.texture.updateFrame){this.dirtyUVS=!0;var v=r.texture,w=v.frame,x=v.baseTexture.width,y=v.baseTexture.height;t[j+0]=w.x/x,t[j+1]=w.y/y,t[j+2]=(w.x+w.width)/x,t[j+3]=w.y/y,t[j+4]=(w.x+w.width)/x,t[j+5]=(w.y+w.height)/y,t[j+6]=w.x/x,t[j+7]=(w.y+w.height)/y,r.updateFrame=!1}if(r.cacheAlpha!==r.worldAlpha){r.cacheAlpha=r.worldAlpha;var z=4*q;u[z]=u[z+1]=u[z+2]=u[z+3]=r.worldAlpha,this.dirtyColors=!0}}else j=8*q,s[j+0]=s[j+1]=s[j+2]=s[j+3]=s[j+4]=s[j+5]=s[j+6]=s[j+7]=0;q++,r=r.__next}},proto.render=function(a,b){if(a=a||0,arguments.length<2&&(b=this.size),this.dirty&&(this.refresh(),this.dirty=!1),this.size){this.update();var c=this.gl,d=globals.defaultShader;c.bindBuffer(c.ARRAY_BUFFER,this.vertexBuffer),c.bufferSubData(c.ARRAY_BUFFER,0,this.verticies),c.vertexAttribPointer(d.aVertexPosition,2,c.FLOAT,!1,0,0),c.bindBuffer(c.ARRAY_BUFFER,this.uvBuffer),this.dirtyUVS&&(this.dirtyUVS=!1,c.bufferSubData(c.ARRAY_BUFFER,0,this.uvs)),c.vertexAttribPointer(d.aTextureCoord,2,c.FLOAT,!1,0,0),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,this.texture._glTexture),c.bindBuffer(c.ARRAY_BUFFER,this.colorBuffer),this.dirtyColors&&(this.dirtyColors=!1,c.bufferSubData(c.ARRAY_BUFFER,0,this.colors)),c.vertexAttribPointer(d.colorAttribute,1,c.FLOAT,!1,0,0),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=b-a;c.drawElements(c.TRIANGLES,6*e,c.UNSIGNED_SHORT,2*a*6)}};var batches=[];WebGLBatch.restoreBatches=function(a){for(var b=0,c=batches.length;c>b;b++)batches[b].restoreLostContext(a)},WebGLBatch.getBatch=function(){return batches.length?batches.pop():new WebGLBatch(globals.gl)},WebGLBatch.returnBatch=function(a){a.clean(),batches.push(a)},module.exports=WebGLBatch;
},{"../../core/globals":2,"../../display/blendModes":8}],53:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function FilterTexture(a,b){var c=globals.gl;this.frameBuffer=c.createFramebuffer(),this.texture=c.createTexture(),c.bindTexture(c.TEXTURE_2D,this.texture),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),c.bindFramebuffer(c.FRAMEBUFFER,this.framebuffer),c.bindFramebuffer(c.FRAMEBUFFER,this.frameBuffer),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,this.texture,0),this.resize(a,b)}function WebGLFilterManager(a){this.transparent=a,this.filterStack=[],this.texturePool=[],this.offsetX=0,this.offsetY=0,this.initShaderBuffers()}var globals=require("../../core/globals"),Sprite=require("../../display/Sprite"),Graphics=require("../../primitives/Graphics"),PixiShader=require("./PixiShader");FilterTexture.prototype.resize=function(a,b){if(this.width!==a||this.height!==b){this.width=a,this.height=b;var c=globals.gl;c.bindTexture(c.TEXTURE_2D,this.texture),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,a,b,0,c.RGBA,c.UNSIGNED_BYTE,null)}};var proto=WebGLFilterManager.prototype;proto.begin=function(a,b){this.width=2*a.x,this.height=2*-a.y,this.buffer=b},proto.pushFilter=function(a){var b=globals.gl;this.filterStack.push(a);var c=a.filterPasses[0];this.offsetX+=a.target.filterArea.x,this.offsetY+=a.target.filterArea.y;var d=this.texturePool.pop();d?d.resize(this.width,this.height):d=new FilterTexture(this.width,this.height),b.bindTexture(b.TEXTURE_2D,d.texture),this.getBounds(a.target);var e=a.target.filterArea,f=c.padding;e.x-=f,e.y-=f,e.width+=2*f,e.height+=2*f,e.x<0&&(e.x=0),e.width>this.width&&(e.width=this.width),e.y<0&&(e.y=0),e.height>this.height&&(e.height=this.height),b.bindFramebuffer(b.FRAMEBUFFER,d.frameBuffer),b.viewport(0,0,e.width,e.height),globals.projection.x=e.width/2,globals.projection.y=-e.height/2,globals.offset.x=-e.x,globals.offset.y=-e.y,b.uniform2f(globals.defaultShader.projectionVector,e.width/2,-e.height/2),b.uniform2f(globals.defaultShader.offsetVector,-e.x,-e.y),b.colorMask(!0,!0,!0,!0),b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT),a._glFilterTexture=d},proto.popFilter=function(){var a=globals.gl,b=this.filterStack.pop(),c=b.target.filterArea,d=b._glFilterTexture;if(b.filterPasses.length>1){a.viewport(0,0,c.width,c.height),a.bindBuffer(a.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=0,this.vertexArray[1]=c.height,this.vertexArray[2]=c.width,this.vertexArray[3]=c.height,this.vertexArray[4]=0,this.vertexArray[5]=0,this.vertexArray[6]=c.width,this.vertexArray[7]=0,a.bufferSubData(a.ARRAY_BUFFER,0,this.vertexArray),a.bindBuffer(a.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=c.width/this.width,this.uvArray[5]=c.height/this.height,this.uvArray[6]=c.width/this.width,this.uvArray[7]=c.height/this.height,a.bufferSubData(a.ARRAY_BUFFER,0,this.uvArray);var e=d,f=this.texturePool.pop();f||(f=new FilterTexture(this.width,this.height)),a.bindFramebuffer(a.FRAMEBUFFER,f.frameBuffer),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.BLEND);for(var g=0;g<b.filterPasses.length-1;g++){var h=b.filterPasses[g];a.bindFramebuffer(a.FRAMEBUFFER,f.frameBuffer),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,e.texture),this.applyFilterPass(h,c,c.width,c.height);var i=e;e=f,f=i}a.enable(a.BLEND),d=e,this.texturePool.push(f)}var j=b.filterPasses[b.filterPasses.length-1];this.offsetX-=c.x,this.offsetY-=c.y;var k=this.width,l=this.height,m=0,n=0,o=this.buffer;if(0===this.filterStack.length)a.colorMask(!0,!0,!0,this.transparent);else{var p=this.filterStack[this.filterStack.length-1];c=p.target.filterArea,k=c.width,l=c.height,m=c.x,n=c.y,o=p._glFilterTexture.frameBuffer}globals.projection.x=k/2,globals.projection.y=-l/2,globals.offset.x=m,globals.offset.y=n,c=b.target.filterArea;var q=c.x-m,r=c.y-n;a.bindBuffer(a.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=q,this.vertexArray[1]=r+c.height,this.vertexArray[2]=q+c.width,this.vertexArray[3]=r+c.height,this.vertexArray[4]=q,this.vertexArray[5]=r,this.vertexArray[6]=q+c.width,this.vertexArray[7]=r,a.bufferSubData(a.ARRAY_BUFFER,0,this.vertexArray),a.bindBuffer(a.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=c.width/this.width,this.uvArray[5]=c.height/this.height,this.uvArray[6]=c.width/this.width,this.uvArray[7]=c.height/this.height,a.bufferSubData(a.ARRAY_BUFFER,0,this.uvArray),a.viewport(0,0,k,l),a.bindFramebuffer(a.FRAMEBUFFER,o),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,d.texture),this.applyFilterPass(j,c,k,l),a.useProgram(globals.defaultShader.program),a.uniform2f(globals.defaultShader.projectionVector,k/2,-l/2),a.uniform2f(globals.defaultShader.offsetVector,-m,-n),this.texturePool.push(d),b._glFilterTexture=null},proto.applyFilterPass=function(a,b,c,d){var e=globals.gl,f=a.shader;f||(f=new PixiShader,f.fragmentSrc=a.fragmentSrc,f.uniforms=a.uniforms,f.init(),a.shader=f),e.useProgram(f.program),e.uniform2f(f.projectionVector,c/2,-d/2),e.uniform2f(f.offsetVector,0,0),a.uniforms.dimensions&&(a.uniforms.dimensions.value[0]=this.width,a.uniforms.dimensions.value[1]=this.height,a.uniforms.dimensions.value[2]=this.vertexArray[0],a.uniforms.dimensions.value[3]=this.vertexArray[5]),f.syncUniforms(),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.vertexAttribPointer(f.aVertexPosition,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this.uvBuffer),e.vertexAttribPointer(f.aTextureCoord,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)},proto.initShaderBuffers=function(){var a=globals.gl;this.vertexBuffer=a.createBuffer(),this.uvBuffer=a.createBuffer(),this.indexBuffer=a.createBuffer(),this.vertexArray=new Float32Array([0,0,1,0,0,1,1,1]),a.bindBuffer(a.ARRAY_BUFFER,this.vertexBuffer),a.bufferData(a.ARRAY_BUFFER,this.vertexArray,a.STATIC_DRAW),this.uvArray=new Float32Array([0,0,1,0,0,1,1,1]),a.bindBuffer(a.ARRAY_BUFFER,this.uvBuffer),a.bufferData(a.ARRAY_BUFFER,this.uvArray,a.STATIC_DRAW),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer),a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,1,3,2]),a.STATIC_DRAW)},proto.getBounds=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z=a.first,A=a.last._iNext,B=-1/0,C=-1/0,D=1/0,E=1/0;do{if(z.visible)if(z instanceof Sprite)c=z.texture.frame.width,d=z.texture.frame.height,e=z.anchor.x,f=z.anchor.y,g=c*(1-e),h=c*-e,i=d*(1-f),j=d*-f,k=!0;else if(z instanceof Graphics){z.updateFilterBounds();var F=z.bounds;c=F.width,d=F.height,g=F.x,h=F.x+F.width,i=F.y,j=F.y+F.height,k=!0}k&&(b=z.worldTransform,l=b[0],m=b[3],n=b[1],o=b[4],p=b[2],q=b[5],r=l*h+n*j+p,v=o*j+m*h+q,s=l*g+n*j+p,w=o*j+m*g+q,t=l*g+n*i+p,x=o*i+m*g+q,u=l*h+n*i+p,y=o*i+m*h+q,D=D>r?r:D,D=D>s?s:D,D=D>t?t:D,D=D>u?u:D,E=E>v?v:E,E=E>w?w:E,E=E>x?x:E,E=E>y?y:E,B=r>B?r:B,B=s>B?s:B,B=t>B?t:B,B=u>B?u:B,C=v>C?v:C,C=w>C?w:C,C=x>C?x:C,C=y>C?y:C),k=!1,z=z._iNext}while(z!==A);a.filterArea.x=D,a.filterArea.y=E,a.filterArea.width=B-D,a.filterArea.height=C-E},module.exports=WebGLFilterManager;
},{"../../core/globals":2,"../../display/Sprite":6,"../../primitives/Graphics":46,"./PixiShader":49}],54:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function WebGLRenderGroup(a,b){this.gl=a,this.root=null,this.backgroundColor=void 0,this.transparent=void 0===b?!0:b,this.batchs=[],this.toRemove=[],this.filterManager=new WebGLFilterManager(this.transparent)}var globals=require("../../core/globals"),shaders=require("./shaders"),webglGraphics=require("./graphics"),WebGLBatch=require("./WebGLBatch"),WebGLFilterManager=require("./WebGLFilterManager"),mat3=require("../../geom/matrix").mat3,BaseTexture=require("../../textures/BaseTexture"),TilingSprite=require("../../extras/TilingSprite"),Strip=require("../../extras/Strip"),Graphics=require("../../primitives/Graphics"),FilterBlock=require("../../filters/FilterBlock"),Sprite=require("../../display/Sprite"),CustomRenderable=require("../../extras/CustomRenderable"),proto=WebGLRenderGroup.prototype;proto.setRenderable=function(a){this.root&&this.removeDisplayObjectAndChildren(this.root),a.worldVisible=a.visible,this.root=a,this.addDisplayObjectAndChildren(a)},proto.render=function(a,b){var c=this.gl;WebGLRenderGroup.updateTextures(c),c.uniform2f(globals.defaultShader.projectionVector,a.x,a.y),this.filterManager.begin(a,b),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA);for(var d,e=0;e<this.batchs.length;e++)d=this.batchs[e],d instanceof WebGLBatch?this.batchs[e].render():this.renderSpecial(d,a)},proto.handleFilter=function(){},proto.renderSpecific=function(a,b,c){var d=this.gl;WebGLRenderGroup.updateTextures(d),d.uniform2f(globals.defaultShader.projectionVector,b.x,b.y),this.filterManager.begin(b,c);for(var e,f,g,h,i,j,k=a.first;k._iNext&&(!k.renderable||!k.__renderGroup);)k=k._iNext;var l=k.batch;if(k instanceof Sprite)if(l=k.batch,j=l.head,j===k)e=0;else for(e=1;j.__next!==k;)e++,j=j.__next;else l=k;for(var m=a.last;m._iPrev&&(!m.renderable||!m.__renderGroup);)m=m._iNext;if(m instanceof Sprite)if(i=m.batch,j=i.head,j===m)g=0;else for(g=1;j.__next!==m;)g++,j=j.__next;else i=m;if(l===i)return l instanceof WebGLBatch?l.render(e,g+1):this.renderSpecial(l,b),void 0;f=this.batchs.indexOf(l),h=this.batchs.indexOf(i),l instanceof WebGLBatch?l.render(e):this.renderSpecial(l,b);for(var n,o=f+1;h>o;o++)n=this.batchs[o],n instanceof WebGLBatch?this.batchs[o].render():this.renderSpecial(n,b);i instanceof WebGLBatch?i.render(0,g+1):this.renderSpecial(i,b)},proto.renderSpecial=function(a,b){var c=a.vcount===globals.visibleCount;a instanceof TilingSprite?c&&this.renderTilingSprite(a,b):a instanceof Strip?c&&this.renderStrip(a,b):a instanceof CustomRenderable?c&&a.renderWebGL(this,b):a instanceof Graphics?c&&a.renderable&&webglGraphics.renderGraphics(a,b):a instanceof FilterBlock&&this.handleFilterBlock(a,b)};var maskStack=[];proto.handleFilterBlock=function(a,b){var c=globals.gl;if(a.open)a.data instanceof Array?this.filterManager.pushFilter(a):(maskStack.push(a),c.enable(c.STENCIL_TEST),c.colorMask(!1,!1,!1,!1),c.stencilFunc(c.ALWAYS,1,1),c.stencilOp(c.KEEP,c.KEEP,c.INCR),webglGraphics.renderGraphics(a.data,b),c.colorMask(!0,!0,!0,!0),c.stencilFunc(c.NOTEQUAL,0,maskStack.length),c.stencilOp(c.KEEP,c.KEEP,c.KEEP));else if(a.data instanceof Array)this.filterManager.popFilter();else{var d=maskStack.pop(a);d&&(c.colorMask(!1,!1,!1,!1),c.stencilFunc(c.ALWAYS,1,1),c.stencilOp(c.KEEP,c.KEEP,c.DECR),webglGraphics.renderGraphics(d.data,b),c.colorMask(!0,!0,!0,!0),c.stencilFunc(c.NOTEQUAL,0,maskStack.length),c.stencilOp(c.KEEP,c.KEEP,c.KEEP)),c.disable(c.STENCIL_TEST)}},proto.updateTexture=function(a){this.removeObject(a);for(var b=a.first;b!==this.root&&(b=b._iPrev,!b.renderable||!b.__renderGroup););for(var c=a.last;c._iNext&&(c=c._iNext,!c.renderable||!c.__renderGroup););this.insertObject(a,b,c)},proto.addFilterBlocks=function(a,b){a.__renderGroup=this,b.__renderGroup=this;for(var c=a;c!==this.root.first&&(c=c._iPrev,!c.renderable||!c.__renderGroup););this.insertAfter(a,c);for(var d=b;d!==this.root.first&&(d=d._iPrev,!d.renderable||!d.__renderGroup););this.insertAfter(b,d)},proto.removeFilterBlocks=function(a,b){this.removeObject(a),this.removeObject(b)},proto.addDisplayObjectAndChildren=function(a){a.__renderGroup&&a.__renderGroup.removeDisplayObjectAndChildren(a);for(var b=a.first;b!==this.root.first&&(b=b._iPrev,!b.renderable||!b.__renderGroup););for(var c=a.last;c._iNext&&(c=c._iNext,!c.renderable||!c.__renderGroup););var d=a.first,e=a.last._iNext;do d.__renderGroup=this,d.renderable&&(this.insertObject(d,b,c),b=d),d=d._iNext;while(d!==e)},proto.removeDisplayObjectAndChildren=function(a){if(a.__renderGroup===this)do a.__renderGroup=null,a.renderable&&this.removeObject(a),a=a._iNext;while(a)},proto.insertObject=function(a,b,c){var d,e,f=b,g=c;if(a instanceof Sprite){var h,i;if(f instanceof Sprite){if(h=f.batch,h&&h.texture===a.texture.baseTexture&&h.blendMode===a.blendMode)return h.insertAfter(a,f),void 0}else h=f;if(g)if(g instanceof Sprite){if(i=g.batch){if(i.texture===a.texture.baseTexture&&i.blendMode===a.blendMode)return i.insertBefore(a,g),void 0;if(i===h){var j=h.split(g);return d=WebGLBatch.getBatch(),e=this.batchs.indexOf(h),d.init(a),this.batchs.splice(e+1,0,d,j),void 0}}}else i=g;return d=WebGLBatch.getBatch(),d.init(a),h?(e=this.batchs.indexOf(h),this.batchs.splice(e+1,0,d)):this.batchs.push(d),void 0}a instanceof TilingSprite?this.initTilingSprite(a):a instanceof Strip&&this.initStrip(a),this.insertAfter(a,f)},proto.insertAfter=function(a,b){var c,d,e;b instanceof Sprite?(c=b.batch,c?c.tail===b?(e=this.batchs.indexOf(c),this.batchs.splice(e+1,0,a)):(d=c.split(b.__next),e=this.batchs.indexOf(c),this.batchs.splice(e+1,0,a,d)):this.batchs.push(a)):(e=this.batchs.indexOf(b),this.batchs.splice(e+1,0,a))},proto.removeObject=function(a){var b,c;if(a instanceof Sprite){var d=a.batch;if(!d)return;d.remove(a),d.size||(b=d)}else b=a;if(b){if(c=this.batchs.indexOf(b),-1===c)return;if(0===c||c===this.batchs.length-1)return this.batchs.splice(c,1),b instanceof WebGLBatch&&WebGLBatch.returnBatch(b),void 0;if(this.batchs[c-1]instanceof WebGLBatch&&this.batchs[c+1]instanceof WebGLBatch&&this.batchs[c-1].texture===this.batchs[c+1].texture&&this.batchs[c-1].blendMode===this.batchs[c+1].blendMode)return this.batchs[c-1].merge(this.batchs[c+1]),b instanceof WebGLBatch&&WebGLBatch.returnBatch(b),WebGLBatch.returnBatch(this.batchs[c+1]),this.batchs.splice(c,2),void 0;this.batchs.splice(c,1),b instanceof WebGLBatch&&WebGLBatch.returnBatch(b)}},proto.initTilingSprite=function(a){var b=this.gl;a.verticies=new Float32Array([0,0,a.width,0,a.width,a.height,0,a.height]),a.uvs=new Float32Array([0,0,1,0,1,1,0,1]),a.colors=new Float32Array([1,1,1,1]),a.indices=new Uint16Array([0,1,3,2]),a._vertexBuffer=b.createBuffer(),a._indexBuffer=b.createBuffer(),a._uvBuffer=b.createBuffer(),a._colorBuffer=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,a._vertexBuffer),b.bufferData(b.ARRAY_BUFFER,a.verticies,b.STATIC_DRAW),b.bindBuffer(b.ARRAY_BUFFER,a._uvBuffer),b.bufferData(b.ARRAY_BUFFER,a.uvs,b.DYNAMIC_DRAW),b.bindBuffer(b.ARRAY_BUFFER,a._colorBuffer),b.bufferData(b.ARRAY_BUFFER,a.colors,b.STATIC_DRAW),b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,a._indexBuffer),b.bufferData(b.ELEMENT_ARRAY_BUFFER,a.indices,b.STATIC_DRAW),a.texture.baseTexture._glTexture?(b.bindTexture(b.TEXTURE_2D,a.texture.baseTexture._glTexture),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.REPEAT),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.REPEAT),a.texture.baseTexture._powerOf2=!0):a.texture.baseTexture._powerOf2=!0},proto.renderStrip=function(a,b){var c=this.gl;shaders.activateStripShader();var d=globals.stripShader,e=mat3.clone(a.worldTransform);mat3.transpose(e),c.uniformMatrix3fv(d.translationMatrix,!1,e),c.uniform2f(d.projectionVector,b.x,b.y),c.uniform2f(d.offsetVector,-globals.offset.x,-globals.offset.y),c.uniform1f(d.alpha,a.worldAlpha),a.dirty?(a.dirty=!1,c.bindBuffer(c.ARRAY_BUFFER,a._vertexBuffer),c.bufferData(c.ARRAY_BUFFER,a.verticies,c.STATIC_DRAW),c.vertexAttribPointer(d.aVertexPosition,2,c.FLOAT,!1,0,0),c.bindBuffer(c.ARRAY_BUFFER,a._uvBuffer),c.bufferData(c.ARRAY_BUFFER,a.uvs,c.STATIC_DRAW),c.vertexAttribPointer(d.aTextureCoord,2,c.FLOAT,!1,0,0),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,a.texture.baseTexture._glTexture),c.bindBuffer(c.ARRAY_BUFFER,a._colorBuffer),c.bufferData(c.ARRAY_BUFFER,a.colors,c.STATIC_DRAW),c.vertexAttribPointer(d.colorAttribute,1,c.FLOAT,!1,0,0),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,a._indexBuffer),c.bufferData(c.ELEMENT_ARRAY_BUFFER,a.indices,c.STATIC_DRAW)):(c.bindBuffer(c.ARRAY_BUFFER,a._vertexBuffer),c.bufferSubData(c.ARRAY_BUFFER,0,a.verticies),c.vertexAttribPointer(d.aVertexPosition,2,c.FLOAT,!1,0,0),c.bindBuffer(c.ARRAY_BUFFER,a._uvBuffer),c.vertexAttribPointer(d.aTextureCoord,2,c.FLOAT,!1,0,0),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,a.texture.baseTexture._glTexture),c.bindBuffer(c.ARRAY_BUFFER,a._colorBuffer),c.vertexAttribPointer(d.colorAttribute,1,c.FLOAT,!1,0,0),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,a._indexBuffer)),c.drawElements(c.TRIANGLE_STRIP,a.indices.length,c.UNSIGNED_SHORT,0),shaders.deactivateStripShader()},proto.renderTilingSprite=function(a,b){var c=this.gl,d=a.tilePosition,e=a.tileScale,f=d.x/a.texture.baseTexture.width,g=d.y/a.texture.baseTexture.height,h=a.width/a.texture.baseTexture.width/e.x,i=a.height/a.texture.baseTexture.height/e.y;a.uvs[0]=0-f,a.uvs[1]=0-g,a.uvs[2]=1*h-f,a.uvs[3]=0-g,a.uvs[4]=1*h-f,a.uvs[5]=1*i-g,a.uvs[6]=0-f,a.uvs[7]=1*i-g,c.bindBuffer(c.ARRAY_BUFFER,a._uvBuffer),c.bufferSubData(c.ARRAY_BUFFER,0,a.uvs),this.renderStrip(a,b)},proto.initStrip=function(a){var b=this.gl;a._vertexBuffer=b.createBuffer(),a._indexBuffer=b.createBuffer(),a._uvBuffer=b.createBuffer(),a._colorBuffer=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,a._vertexBuffer),b.bufferData(b.ARRAY_BUFFER,a.verticies,b.DYNAMIC_DRAW),b.bindBuffer(b.ARRAY_BUFFER,a._uvBuffer),b.bufferData(b.ARRAY_BUFFER,a.uvs,b.STATIC_DRAW),b.bindBuffer(b.ARRAY_BUFFER,a._colorBuffer),b.bufferData(b.ARRAY_BUFFER,a.colors,b.STATIC_DRAW),b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,a._indexBuffer),b.bufferData(b.ELEMENT_ARRAY_BUFFER,a.indices,b.STATIC_DRAW)},WebGLRenderGroup.updateTexture=function(a,b){b._glTexture||(b._glTexture=a.createTexture()),b.hasLoaded&&(a.bindTexture(a.TEXTURE_2D,b._glTexture),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b.source),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,b.scaleMode===BaseTexture.SCALE_MODE.LINEAR?a.LINEAR:a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,b.scaleMode===BaseTexture.SCALE_MODE.LINEAR?a.LINEAR:a.NEAREST),b._powerOf2?(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.REPEAT),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.REPEAT)):(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE)),a.bindTexture(a.TEXTURE_2D,null))},WebGLRenderGroup.destroyTexture=function(a,b){b._glTexture&&(b._glTexture=a.createTexture(),a.deleteTexture(a.TEXTURE_2D,b._glTexture))},WebGLRenderGroup.updateTextures=function(a){for(var b=0,c=globals.texturesToUpdate.length;c>b;b++)WebGLRenderGroup.updateTexture(a,globals.texturesToUpdate[b]);for(b=0,c=globals.texturesToDestroy.length;c>b;b++)WebGLRenderGroup.destroyTexture(a,globals.texturesToDestroy[b]);globals.texturesToUpdate=[],globals.texturesToDestroy=[]},module.exports=WebGLRenderGroup;
},{"../../core/globals":2,"../../display/Sprite":6,"../../extras/CustomRenderable":10,"../../extras/Strip":13,"../../extras/TilingSprite":14,"../../filters/FilterBlock":24,"../../geom/matrix":37,"../../primitives/Graphics":46,"../../textures/BaseTexture":61,"./WebGLBatch":52,"./WebGLFilterManager":53,"./graphics":57,"./shaders":58}],55:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function WebGLRenderer(a,b,c,d,e){var f;this.transparent=!!d,this.width=a||800,this.height=b||600,this.view=c||platform.createCanvas(),this.view.width=this.width,this.view.height=this.height;var g=this;this.view.addEventListener("webglcontextlost",function(a){g.handleContextLost(a)},!1),this.view.addEventListener("webglcontextrestored",function(a){g.handleContextRestored(a)},!1),this.batchs=[];var h={alpha:this.transparent,antialias:!!e,premultipliedAlpha:!1,stencil:!0};try{f=this.view.getContext("experimental-webgl",h)}catch(i){try{f=this.view.getContext("webgl",h)}catch(j){throw new Error(" This browser does not support webGL. Try using the canvas renderer"+this)}}this.gl=globals.gl=f,shaders.initDefaultShaders(),f.useProgram(globals.defaultShader.program),this.batch=new WebGLBatch(f),f.disable(f.DEPTH_TEST),f.disable(f.CULL_FACE),f.enable(f.BLEND),f.colorMask(!0,!0,!0,this.transparent),this.projection=globals.projection=new Point(400,300),this.offset=globals.offset=new Point(0,0),this.resize(this.width,this.height),this.contextLost=!1,this.stageRenderGroup=new WebGLRenderGroup(this.gl,this.transparent)}var platform=require("../../platform"),globals=require("../../core/globals"),shaders=require("./shaders"),WebGLBatch=require("./WebGLBatch"),WebGLRenderGroup=require("./WebGLRenderGroup"),Point=require("../../geom/Point"),Texture=require("../../textures/Texture"),proto=WebGLRenderer.prototype;proto.render=function(a){if(!this.contextLost){this.__stage!==a&&(this.__stage=a,this.stageRenderGroup.setRenderable(a));var b=this.gl;if(WebGLRenderGroup.updateTextures(b),globals.visibleCount++,a.updateTransform(),b.colorMask(!0,!0,!0,this.transparent),b.viewport(0,0,this.width,this.height),b.bindFramebuffer(b.FRAMEBUFFER,null),b.clearColor(a.backgroundColorSplit[0],a.backgroundColorSplit[1],a.backgroundColorSplit[2],!this.transparent),b.clear(b.COLOR_BUFFER_BIT),this.stageRenderGroup.backgroundColor=a.backgroundColorSplit,this.projection.x=this.width/2,this.projection.y=-this.height/2,this.stageRenderGroup.render(this.projection),a.interactive&&(a._interactiveEventsAdded||(a._interactiveEventsAdded=!0,a.interactionManager.setTarget(this))),Texture.frameUpdates.length>0){for(var c=0,d=Texture.frameUpdates.length;d>c;c++)Texture.frameUpdates[c].updateFrame=!1;Texture.frameUpdates=[]}}},proto.resize=function(a,b){this.width=a,this.height=b,this.view.width=a,this.view.height=b,this.gl.viewport(0,0,this.width,this.height),this.projection.x=this.width/2,this.projection.y=-this.height/2},proto.handleContextLost=function(a){a.preventDefault(),this.contextLost=!0},proto.handleContextRestored=function(){var a=this.gl=this.view.getContext("experimental-webgl",{alpha:!0});this.initShaders();for(var b in Texture.cache){var c=Texture.cache[b].baseTexture;c._glTexture=null,WebGLRenderGroup.updateTexture(a,c)}for(var d=0,e=this.batchs.length;e>d;d++)this.batchs[d].restoreLostContext(a),this.batchs[d].dirty=!0;WebGLBatch.restoreBatches(a),this.contextLost=!1},module.exports=WebGLRenderer;
},{"../../core/globals":2,"../../geom/Point":34,"../../platform":45,"../../textures/Texture":63,"./WebGLBatch":52,"./WebGLRenderGroup":54,"./shaders":58}],56:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";var platform=require("../../platform");exports.shader=function(a,b,c){var d=b.join("\n"),e=a.createShader(c);return a.shaderSource(e,d),a.compileShader(e),a.getShaderParameter(e,a.COMPILE_STATUS)?e:(platform.console&&platform.console.error(a.getShaderInfoLog(e)),null)},exports.program=function(a,b,c){var d=exports.shader(a,c,a.FRAGMENT_SHADER),e=exports.shader(a,b,a.VERTEX_SHADER),f=a.createProgram();return a.attachShader(f,e),a.attachShader(f,d),a.linkProgram(f),a.getProgramParameter(f,a.LINK_STATUS)?f:(platform.console&&platform.console.error("Could not initialise shaders"),null)};
},{"../../platform":45}],57:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";var shaders=require("./shaders"),globals=require("../../core/globals"),mat3=require("../../geom/matrix").mat3,hex2rgb=require("../../utils/color").hex2rgb,triangulate=require("../../utils/Polyk").triangulate,Point=require("../../geom/Point"),Graphics=require("../../primitives/Graphics");exports.renderGraphics=function(a,b){var c=globals.gl;a._webGL||(a._webGL={points:[],indices:[],lastIndex:0,buffer:c.createBuffer(),indexBuffer:c.createBuffer()}),a.dirty&&(a.dirty=!1,a.clearDirty&&(a.clearDirty=!1,a._webGL.lastIndex=0,a._webGL.points=[],a._webGL.indices=[]),exports.updateGraphics(a)),shaders.activatePrimitiveShader();var d=mat3.clone(a.worldTransform);mat3.transpose(d),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA),c.uniformMatrix3fv(globals.primitiveShader.translationMatrix,!1,d),c.uniform2f(globals.primitiveShader.projectionVector,b.x,-b.y),c.uniform2f(globals.primitiveShader.offsetVector,-globals.offset.x,-globals.offset.y),c.uniform1f(globals.primitiveShader.alpha,a.worldAlpha),c.bindBuffer(c.ARRAY_BUFFER,a._webGL.buffer),c.vertexAttribPointer(globals.primitiveShader.aVertexPosition,2,c.FLOAT,!1,24,0),c.vertexAttribPointer(globals.primitiveShader.colorAttribute,4,c.FLOAT,!1,24,8),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,a._webGL.indexBuffer),c.drawElements(c.TRIANGLE_STRIP,a._webGL.indices.length,c.UNSIGNED_SHORT,0),shaders.deactivatePrimitiveShader()},exports.updateGraphics=function(a){for(var b=a._webGL.lastIndex;b<a.graphicsData.length;b++){var c=a.graphicsData[b];c.type===Graphics.POLY?(c.fill&&c.points.length>3&&exports.buildPoly(c,a._webGL),c.lineWidth>0&&exports.buildLine(c,a._webGL)):c.type===Graphics.RECT?exports.buildRectangle(c,a._webGL):c.type===Graphics.CIRC||c.type===Graphics.ELIP,exports.buildCircle(c,a._webGL)}a._webGL.lastIndex=a.graphicsData.length;var d=globals.gl;a._webGL.glPoints=new Float32Array(a._webGL.points),d.bindBuffer(d.ARRAY_BUFFER,a._webGL.buffer),d.bufferData(d.ARRAY_BUFFER,a._webGL.glPoints,d.STATIC_DRAW),a._webGL.glIndicies=new Uint16Array(a._webGL.indices),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,a._webGL.indexBuffer),d.bufferData(d.ELEMENT_ARRAY_BUFFER,a._webGL.glIndicies,d.STATIC_DRAW)},exports.buildRectangle=function(a,b){var c=a.points,d=c[0],e=c[1],f=c[2],g=c[3];if(a.fill){var h=hex2rgb(a.fillColor),i=a.fillAlpha,j=h[0]*i,k=h[1]*i,l=h[2]*i,m=b.points,n=b.indices,o=m.length/6;m.push(d,e),m.push(j,k,l,i),m.push(d+f,e),m.push(j,k,l,i),m.push(d,e+g),m.push(j,k,l,i),m.push(d+f,e+g),m.push(j,k,l,i),n.push(o,o,o+1,o+2,o+3,o+3)}a.lineWidth&&(a.points=[d,e,d+f,e,d+f,e+g,d,e+g,d,e],exports.buildLine(a,b))},exports.buildCircle=function(a,b){var c=a.points,d=c[0],e=c[1],f=c[2],g=c[3],h=40,i=2*Math.PI/h,j=0;if(a.fill){var k=hex2rgb(a.fillColor),l=a.fillAlpha,m=k[0]*l,n=k[1]*l,o=k[2]*l,p=b.points,q=b.indices,r=p.length/6;for(q.push(r),j=0;h+1>j;j++)p.push(d,e,m,n,o,l),p.push(d+Math.sin(i*j)*f,e+Math.cos(i*j)*g,m,n,o,l),q.push(r++,r++);q.push(r-1)}if(a.lineWidth){for(a.points=[],j=0;h+1>j;j++)a.points.push(d+Math.sin(i*j)*f,e+Math.cos(i*j)*g);exports.buildLine(a,b)}},exports.buildLine=function(a,b){var c=0,d=a.points;if(0!==d.length){if(a.lineWidth%2)for(c=0;c<d.length;c++)d[c]+=.5;var e=new Point(d[0],d[1]),f=new Point(d[d.length-2],d[d.length-1]);if(e.x===f.x&&e.y===f.y){d.pop(),d.pop(),f=new Point(d[d.length-2],d[d.length-1]);var g=f.x+.5*(e.x-f.x),h=f.y+.5*(e.y-f.y);d.unshift(g,h),d.push(g,h)}var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F=b.points,G=b.indices,H=d.length/2,I=d.length,J=F.length/6,K=a.lineWidth/2,L=hex2rgb(a.lineColor),M=a.lineAlpha,N=L[0]*M,O=L[1]*M,P=L[2]*M;for(k=d[0],l=d[1],m=d[2],n=d[3],q=-(l-n),r=k-m,E=Math.sqrt(q*q+r*r),q/=E,r/=E,q*=K,r*=K,F.push(k-q,l-r,N,O,P,M),F.push(k+q,l+r,N,O,P,M),c=1;H-1>c;c++)k=d[2*(c-1)],l=d[2*(c-1)+1],m=d[2*c],n=d[2*c+1],o=d[2*(c+1)],p=d[2*(c+1)+1],q=-(l-n),r=k-m,E=Math.sqrt(q*q+r*r),q/=E,r/=E,q*=K,r*=K,s=-(n-p),t=m-o,E=Math.sqrt(s*s+t*t),s/=E,t/=E,s*=K,t*=K,w=-r+l-(-r+n),x=-q+m-(-q+k),y=(-q+k)*(-r+n)-(-q+m)*(-r+l),z=-t+p-(-t+n),A=-s+m-(-s+o),B=(-s+o)*(-t+n)-(-s+m)*(-t+p),C=w*A-z*x,Math.abs(C)<.1?(C+=10.1,F.push(m-q,n-r,N,O,P,M),F.push(m+q,n+r,N,O,P,M)):(i=(x*B-A*y)/C,j=(z*y-w*B)/C,D=(i-m)*(i-m)+(j-n)+(j-n),D>19600?(u=q-s,v=r-t,E=Math.sqrt(u*u+v*v),u/=E,v/=E,u*=K,v*=K,F.push(m-u,n-v),F.push(N,O,P,M),F.push(m+u,n+v),F.push(N,O,P,M),F.push(m-u,n-v),F.push(N,O,P,M),I++):(F.push(i,j),F.push(N,O,P,M),F.push(m-(i-m),n-(j-n)),F.push(N,O,P,M)));for(k=d[2*(H-2)],l=d[2*(H-2)+1],m=d[2*(H-1)],n=d[2*(H-1)+1],q=-(l-n),r=k-m,E=Math.sqrt(q*q+r*r),q/=E,r/=E,q*=K,r*=K,F.push(m-q,n-r),F.push(N,O,P,M),F.push(m+q,n+r),F.push(N,O,P,M),G.push(J),c=0;I>c;c++)G.push(J++);G.push(J-1)}},exports.buildPoly=function(a,b){var c=a.points;if(!(c.length<6)){var d=b.points,e=b.indices,f=c.length/2,g=hex2rgb(a.fillColor),h=a.fillAlpha,i=g[0]*h,j=g[1]*h,k=g[2]*h,l=triangulate(c),m=d.length/6,n=0;for(n=0;n<l.length;n+=3)e.push(l[n]+m),e.push(l[n]+m),e.push(l[n+1]+m),e.push(l[n+2]+m),e.push(l[n+2]+m);for(n=0;f>n;n++)d.push(c[2*n],c[2*n+1],i,j,k,h)}};
},{"../../core/globals":2,"../../geom/Point":34,"../../geom/matrix":37,"../../primitives/Graphics":46,"../../utils/Polyk":64,"../../utils/color":66,"./shaders":58}],58:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";var globals=require("../../core/globals"),PrimitiveShader=require("./PrimitiveShader"),StripShader=require("./StripShader"),PixiShader=require("./PixiShader");exports.initDefaultShaders=function(){globals.primitiveShader=new PrimitiveShader,globals.primitiveShader.init(),globals.stripShader=new StripShader,globals.stripShader.init(),globals.defaultShader=new PixiShader,globals.defaultShader.init();var a=globals.gl,b=globals.defaultShader.program;a.useProgram(b),a.enableVertexAttribArray(globals.defaultShader.aVertexPosition),a.enableVertexAttribArray(globals.defaultShader.colorAttribute),a.enableVertexAttribArray(globals.defaultShader.aTextureCoord)},exports.activatePrimitiveShader=function(){var a=globals.gl;a.useProgram(globals.primitiveShader.program),a.disableVertexAttribArray(globals.defaultShader.aVertexPosition),a.disableVertexAttribArray(globals.defaultShader.colorAttribute),a.disableVertexAttribArray(globals.defaultShader.aTextureCoord),a.enableVertexAttribArray(globals.primitiveShader.aVertexPosition),a.enableVertexAttribArray(globals.primitiveShader.colorAttribute)},exports.deactivatePrimitiveShader=function(){var a=globals.gl;a.useProgram(globals.defaultShader.program),a.disableVertexAttribArray(globals.primitiveShader.aVertexPosition),a.disableVertexAttribArray(globals.primitiveShader.colorAttribute),a.enableVertexAttribArray(globals.defaultShader.aVertexPosition),a.enableVertexAttribArray(globals.defaultShader.colorAttribute),a.enableVertexAttribArray(globals.defaultShader.aTextureCoord)},exports.activateStripShader=function(){var a=globals.gl;a.useProgram(globals.stripShader.program)},exports.deactivateStripShader=function(){var a=globals.gl;a.useProgram(globals.defaultShader.program)};
},{"../../core/globals":2,"./PixiShader":49,"./PrimitiveShader":50,"./StripShader":51}],59:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function BitmapText(a,b){DisplayObjectContainer.call(this),this.setText(a),this.setStyle(b),this.updateText(),this.dirty=!1}var DisplayObjectContainer=require("../display/DisplayObjectContainer"),Sprite=require("../display/Sprite"),Point=require("../geom/Point"),proto=BitmapText.prototype=Object.create(DisplayObjectContainer.prototype,{constructor:{value:BitmapText}});proto.setText=function(a){this.text=a||" ",this.dirty=!0},proto.setStyle=function(a){a=a||{},a.align=a.align||"left",this.style=a;var b=a.font.split(" ");this.fontName=b[b.length-1],this.fontSize=b.length>=2?parseInt(b[b.length-2],10):BitmapText.fonts[this.fontName].size,this.dirty=!0},proto.updateText=function(){for(var a=BitmapText.fonts[this.fontName],b=new Point,c=null,d=[],e=0,f=[],g=0,h=this.fontSize/a.size,i=0;i<this.text.length;i++){var j=this.text.charCodeAt(i);if(/(?:\r\n|\r|\n)/.test(this.text.charAt(i)))f.push(b.x),e=Math.max(e,b.x),g++,b.x=0,b.y+=a.lineHeight,c=null;else{var k=a.chars[j];k&&(c&&k[c]&&(b.x+=k.kerning[c]),d.push({texture:k.texture,line:g,charCode:j,position:new Point(b.x+k.xOffset,b.y+k.yOffset)}),b.x+=k.xAdvance,c=j)}}f.push(b.x),e=Math.max(e,b.x);var l=[];for(i=0;g>=i;i++){var m=0;"right"===this.style.align?m=e-f[i]:"center"===this.style.align&&(m=(e-f[i])/2),l.push(m)}for(i=0;i<d.length;i++){var n=new Sprite(d[i].texture);n.position.x=(d[i].position.x+l[d[i].line])*h,n.position.y=d[i].position.y*h,n.scale.x=n.scale.y=h,this.addChild(n)}this.width=e*h,this.height=(b.y+a.lineHeight)*h},proto.updateTransform=function(){if(this.dirty){for(;this.children.length>0;)this.removeChild(this.getChildAt(0));this.updateText(),this.dirty=!1}DisplayObjectContainer.prototype.updateTransform.call(this)},BitmapText.fonts={},module.exports=BitmapText;
},{"../display/DisplayObjectContainer":4,"../display/Sprite":6,"../geom/Point":34}],60:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function Text(a,b){this.canvas=platform.createCanvas(),this.context=this.canvas.getContext("2d"),Sprite.call(this,Texture.fromCanvas(this.canvas)),this.setText(a),this.setStyle(b),this.updateText(),this.dirty=!1}var platform=require("../platform"),globals=require("../core/globals"),Point=require("../geom/Point"),Sprite=require("../display/Sprite"),Texture=require("../textures/Texture"),proto=Text.prototype=Object.create(Sprite.prototype,{constructor:{value:Text}});proto.setStyle=function(a){a=a||{},a.font=a.font||"bold 20pt Arial",a.fill=a.fill||"black",a.align=a.align||"left",a.stroke=a.stroke||"black",a.strokeThickness=a.strokeThickness||0,a.wordWrap=a.wordWrap||!1,a.wordWrapWidth=a.wordWrapWidth||100,this.style=a,this.dirty=!0},proto.setText=function(a){this.text=a.toString()||" ",this.dirty=!0},proto.updateText=function(){this.context.font=this.style.font;var a=this.text;this.style.wordWrap&&(a=this.wordWrap(this.text));for(var b=a.split(/(?:\r\n|\r|\n)/),c=[],d=0,e=0;e<b.length;e++){var f=this.context.measureText(b[e]).width;c[e]=f,d=Math.max(d,f)}this.canvas.width=d+this.style.strokeThickness;var g=this.determineFontHeight("font: "+this.style.font+";")+this.style.strokeThickness;for(this.canvas.height=g*b.length,this.context.fillStyle=this.style.fill,this.context.font=this.style.font,this.context.strokeStyle=this.style.stroke,this.context.lineWidth=this.style.strokeThickness,this.context.textBaseline="top",e=0;e<b.length;e++){var h=new Point(this.style.strokeThickness/2,this.style.strokeThickness/2+e*g);"right"===this.style.align?h.x+=d-c[e]:"center"===this.style.align&&(h.x+=(d-c[e])/2),this.style.stroke&&this.style.strokeThickness&&this.context.strokeText(b[e],h.x,h.y),this.style.fill&&this.context.fillText(b[e],h.x,h.y)}this.updateTexture()},proto.updateTexture=function(){this.texture.baseTexture.width=this.canvas.width,this.texture.baseTexture.height=this.canvas.height,this.texture.frame.width=this.canvas.width,this.texture.frame.height=this.canvas.height,this._width=this.canvas.width,this._height=this.canvas.height,globals.texturesToUpdate.push(this.texture.baseTexture)},proto.updateTransform=function(){this.dirty&&(this.updateText(),this.dirty=!1),Sprite.prototype.updateTransform.call(this)},proto.determineFontHeight=function(a){var b=Text.heightCache[a];if(!b){var c=platform.document.getElementsByTagName("body")[0],d=platform.document.createElement("div"),e=platform.document.createTextNode("M");d.appendChild(e),d.setAttribute("style",a+";position:absolute;top:0;left:0"),c.appendChild(d),b=d.offsetHeight,Text.heightCache[a]=b,c.removeChild(d)}return b},proto.wordWrap=function(a){for(var b="",c=a.split("\n"),d=0;d<c.length;d++){for(var e=this.style.wordWrapWidth,f=c[d].split(" "),g=0;g<f.length;g++){var h=this.context.measureText(f[g]).width,i=h+this.context.measureText(" ").width;i>e?(g>0&&(b+="\n"),b+=f[g]+" ",e=this.style.wordWrapWidth-h):(e-=i,b+=f[g]+" ")}b+="\n"}return b},proto.destroy=function(a){a&&this.texture.destroy()},Text.heightCache={},module.exports=Text;
},{"../core/globals":2,"../display/Sprite":6,"../geom/Point":34,"../platform":45,"../textures/Texture":63}],61:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function BaseTexture(a,b){if(EventTarget.call(this),this.width=100,this.height=100,this.scaleMode=b||BaseTexture.SCALE_MODE.DEFAULT,this.hasLoaded=!1,this.source=a,a){if("complete"in this.source)if(this.source.complete)this.hasLoaded=!0,this.width=this.source.width,this.height=this.source.height,globals.texturesToUpdate.push(this);else{var c=this;this.source.onload=function(){c.hasLoaded=!0,c.width=c.source.width,c.height=c.source.height,globals.texturesToUpdate.push(c),c.dispatchEvent({type:"loaded",content:c})}}else this.hasLoaded=!0,this.width=this.source.width,this.height=this.source.height,globals.texturesToUpdate.push(this);this.imageUrl=null,this._powerOf2=!1}}var platform=require("../platform"),globals=require("../core/globals"),EventTarget=require("../events/EventTarget"),baseTextureCache={},proto=BaseTexture.prototype;proto.destroy=function(){this.source.src&&(this.imageUrl in baseTextureCache&&delete baseTextureCache[this.imageUrl],this.imageUrl=null,this.source.src=null),this.source=null,globals.texturesToDestroy.push(this)},proto.updateSourceImage=function(a){this.hasLoaded=!1,this.source.src=null,this.source.src=a},BaseTexture.fromImage=function(a,b,c){var d=baseTextureCache[a];if(!d){var e=new platform.createImage;b&&(e.crossOrigin=""),e.src=a,d=new BaseTexture(e,c),d.imageUrl=a,baseTextureCache[a]=d}return d},BaseTexture.SCALE_MODE={DEFAULT:0,LINEAR:0,NEAREST:1},module.exports=BaseTexture;
},{"../core/globals":2,"../events/EventTarget":9,"../platform":45}],62:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function RenderTexture(a,b){EventTarget.call(this),this.width=a||100,this.height=b||100,this.identityMatrix=mat3.create(),this.frame=new Rectangle(0,0,this.width,this.height),globals.gl?this.initWebGL():this.initCanvas()}var globals=require("../core/globals"),mat3=require("../geom/matrix").mat3,Texture=require("./Texture"),BaseTexture=require("./BaseTexture"),Point=require("../geom/Point"),Rectangle=require("../geom/Rectangle"),EventTarget=require("../events/EventTarget"),CanvasRenderer=require("../renderers/canvas/CanvasRenderer"),WebGLRenderGroup=require("../renderers/webgl/WebGLRenderGroup"),proto=RenderTexture.prototype=Object.create(Texture.prototype,{constructor:{value:RenderTexture}});proto.initWebGL=function(){var a=globals.gl;this.glFramebuffer=a.createFramebuffer(),a.bindFramebuffer(a.FRAMEBUFFER,this.glFramebuffer),this.glFramebuffer.width=this.width,this.glFramebuffer.height=this.height,this.baseTexture=new BaseTexture,this.baseTexture.width=this.width,this.baseTexture.height=this.height,this.baseTexture._glTexture=a.createTexture(),a.bindTexture(a.TEXTURE_2D,this.baseTexture._glTexture),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,this.width,this.height,0,a.RGBA,a.UNSIGNED_BYTE,null),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),this.baseTexture.isRender=!0,a.bindFramebuffer(a.FRAMEBUFFER,this.glFramebuffer),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.baseTexture._glTexture,0),this.projection=new Point(this.width/2,-this.height/2),this.render=this.renderWebGL},proto.resize=function(a,b){if(this.width=a,this.height=b,globals.gl){this.projection.x=this.width/2,this.projection.y=-this.height/2;var c=globals.gl;c.bindTexture(c.TEXTURE_2D,this.baseTexture._glTexture),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,this.width,this.height,0,c.RGBA,c.UNSIGNED_BYTE,null)}else this.frame.width=this.width,this.frame.height=this.height,this.renderer.resize(this.width,this.height)},proto.initCanvas=function(){this.renderer=new CanvasRenderer(this.width,this.height,null,0),this.baseTexture=new BaseTexture(this.renderer.view),this.frame=new Rectangle(0,0,this.width,this.height),this.render=this.renderCanvas},proto.renderWebGL=function(a,b,c){var d=globals.gl;d.colorMask(!0,!0,!0,!0),d.viewport(0,0,this.width,this.height),d.bindFramebuffer(d.FRAMEBUFFER,this.glFramebuffer),c&&(d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT));var e=a.children,f=a.worldTransform;a.worldTransform=mat3.create(),a.worldTransform[4]=-1,a.worldTransform[5]=-2*this.projection.y,b&&(a.worldTransform[2]=b.x,a.worldTransform[5]-=b.y),globals.visibleCount++,a.vcount=globals.visibleCount;for(var g=0,h=e.length;h>g;g++)e[g].updateTransform();var i=a.__renderGroup;i?a===i.root?i.render(this.projection,this.glFramebuffer):i.renderSpecific(a,this.projection,this.glFramebuffer):(this.renderGroup||(this.renderGroup=new WebGLRenderGroup(d)),this.renderGroup.setRenderable(a),this.renderGroup.render(this.projection,this.glFramebuffer)),a.worldTransform=f},proto.renderCanvas=function(a,b,c){var d=a.children;a.worldTransform=mat3.create(),b&&(a.worldTransform[2]=b.x,a.worldTransform[5]=b.y);for(var e=0,f=d.length;f>e;e++)d[e].updateTransform();c&&this.renderer.context.clearRect(0,0,this.width,this.height),this.renderer.renderDisplayObject(a),this.renderer.context.setTransform(1,0,0,1,0,0)},module.exports=RenderTexture;
},{"../core/globals":2,"../events/EventTarget":9,"../geom/Point":34,"../geom/Rectangle":36,"../geom/matrix":37,"../renderers/canvas/CanvasRenderer":47,"../renderers/webgl/WebGLRenderGroup":54,"./BaseTexture":61,"./Texture":63}],63:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function Texture(a,b){if(EventTarget.call(this),b||(this.noFrame=!0,b=new Rectangle(0,0,1,1)),a instanceof Texture&&(a=a.baseTexture),this.baseTexture=a,this.frame=b,this.trim=new Point,this.scope=this,a.hasLoaded)this.noFrame&&(b=new Rectangle(0,0,a.width,a.height)),this.setFrame(b);else{var c=this;a.addEventListener("loaded",function(){c.onBaseTextureLoaded()})}}var BaseTexture=require("./BaseTexture"),Point=require("../geom/Point"),Rectangle=require("../geom/Rectangle"),EventTarget=require("../events/EventTarget"),proto=Texture.prototype;proto.onBaseTextureLoaded=function(){var a=this.baseTexture;a.removeEventListener("loaded",this.onLoaded),this.noFrame&&(this.frame=new Rectangle(0,0,a.width,a.height)),this.noFrame=!1,this.width=this.frame.width,this.height=this.frame.height,this.scope.dispatchEvent({type:"update",content:this})},proto.destroy=function(a){a&&this.baseTexture.destroy()},proto.setFrame=function(a){if(this.frame=a,this.width=a.width,this.height=a.height,a.x+a.width>this.baseTexture.width||a.y+a.height>this.baseTexture.height)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.updateFrame=!0,Texture.frameUpdates.push(this)},Texture.fromImage=function(a,b,c){var d=Texture.cache[a];return d||(d=new Texture(BaseTexture.fromImage(a,b,c)),Texture.cache[a]=d),d},Texture.fromFrame=function(a){var b=Texture.cache[a];if(!b)throw new Error('The frameId "'+a+'" does not exist in the texture cache '+this);return b},Texture.fromCanvas=function(a,b){var c=new BaseTexture(a,b);return new Texture(c)},Texture.addTextureToCache=function(a,b){Texture.cache[b]=a},Texture.removeTextureFromCache=function(a){var b=Texture.cache[a];return Texture.cache[a]=null,b},Texture.cache={},Texture.frameUpdates=[],Texture.SCALE_MODE=BaseTexture.SCALE_MODE,module.exports=Texture;
},{"../events/EventTarget":9,"../geom/Point":34,"../geom/Rectangle":36,"./BaseTexture":61}],64:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function pointInTriangle(a,b,c,d,e,f,g,h){var i=g-c,j=h-d,k=e-c,l=f-d,m=a-c,n=b-d,o=i*i+j*j,p=i*k+j*l,q=i*m+j*n,r=k*k+l*l,s=k*m+l*n,t=1/(o*r-p*p),u=(r*q-p*s)*t,v=(o*s-p*q)*t;return u>=0&&v>=0&&1>u+v}function convex(a,b,c,d,e,f,g){return(b-d)*(e-c)+(c-a)*(f-d)>=0===g}var platform=require("../platform");exports.triangulate=function(a){var b=!0,c=a.length>>1;if(3>c)return[];for(var d=[],e=[],f=0;c>f;f++)e.push(f);f=0;for(var g=c;g>3;){var h=e[(f+0)%g],i=e[(f+1)%g],j=e[(f+2)%g],k=a[2*h],l=a[2*h+1],m=a[2*i],n=a[2*i+1],o=a[2*j],p=a[2*j+1],q=!1;if(convex(k,l,m,n,o,p,b)){q=!0;for(var r=0;g>r;r++){var s=e[r];if(s!==h&&s!==i&&s!==j&&pointInTriangle(a[2*s],a[2*s+1],k,l,m,n,o,p)){q=!1;break}}}if(q)d.push(h,i,j),e.splice((f+1)%g,1),g--,f=0;else if(f++>3*g){if(!b)return platform.console.warn("PIXI Warning: shape too complex to fill"),[];for(d=[],e=[],f=0;c>f;f++)e.push(f);f=0,g=c,b=!1}}return d.push(e[0],e[1],e[2]),d};
},{"../platform":45}],65:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";var platform=require("../platform"),CanvasRenderer=require("../renderers/canvas/CanvasRenderer"),WebGLRenderer=require("../renderers/webgl/WebGLRenderer");module.exports=function(a,b,c,d,e){a||(a=800),b||(b=600);var f=function(){try{var a=platform.createCanvas();return!!platform.window.WebGLRenderingContext&&(a.getContext("webgl")||a.getContext("experimental-webgl"))}catch(b){return!1}}();if(f&&platform.navigator){var g=-1!==platform.navigator.userAgent.toLowerCase().indexOf("trident");f=!g}return f?new WebGLRenderer(a,b,c,d,e):new CanvasRenderer(a,b,c,d)};
},{"../platform":45,"../renderers/canvas/CanvasRenderer":47,"../renderers/webgl/WebGLRenderer":55}],66:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";exports.hex2rgb=function(a){return[(a>>16&255)/255,(a>>8&255)/255,(255&a)/255]};
},{}],67:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";function logGroup(a){var b=platform.console;b.groupCollapsed?b.groupCollapsed(a):b.group?b.group(a):b.log(a+" >>>>>>>>>")}function logGroupEnd(a){var b=platform.console;b.groupEnd?b.groupEnd(a):b.log(a+" _________")}var platform=require("../platform");exports.runList=function(a,b){var c=0,d=a.first;for(b="pixi.runList"+(b?"("+b+")":""),logGroup(b),platform.console.log(d);d._iNext;)if(c++,d=d._iNext,platform.console.log(d),c>100){platform.console.log("BREAK");break}logGroupEnd(b)};
},{"../platform":45}],68:[function(require,module,exports){
/**
 * pixi 0.2.1 (6aa0030)
 * http://drkibitz.github.io/node-pixi/
 * Copyright (c) 2013-2014 Dr. Kibitz, http://drkibitz.com
 * Super fast 2D rendering engine for browserify, that uses WebGL with a context 2d fallback.
 * built: Sun Jan 05 2014 01:53:58 GMT-0500 (EST)
 *
 * Pixi.js - v1.3.0
 * Copyright (c) 2012, Mat Groves
 */
"use strict";var spine=module.exports={};spine.BoneData=function(a,b){this.name=a,this.parent=b},spine.BoneData.prototype={length:0,x:0,y:0,rotation:0,scaleX:1,scaleY:1},spine.SlotData=function(a,b){this.name=a,this.boneData=b},spine.SlotData.prototype={r:1,g:1,b:1,a:1,attachmentName:null},spine.Bone=function(a,b){this.data=a,this.parent=b,this.setToSetupPose()},spine.Bone.yDown=!1,spine.Bone.prototype={x:0,y:0,rotation:0,scaleX:1,scaleY:1,m00:0,m01:0,worldX:0,m10:0,m11:0,worldY:0,worldRotation:0,worldScaleX:1,worldScaleY:1,updateWorldTransform:function(a,b){var c=this.parent;null!=c?(this.worldX=this.x*c.m00+this.y*c.m01+c.worldX,this.worldY=this.x*c.m10+this.y*c.m11+c.worldY,this.worldScaleX=c.worldScaleX*this.scaleX,this.worldScaleY=c.worldScaleY*this.scaleY,this.worldRotation=c.worldRotation+this.rotation):(this.worldX=this.x,this.worldY=this.y,this.worldScaleX=this.scaleX,this.worldScaleY=this.scaleY,this.worldRotation=this.rotation);var d=this.worldRotation*Math.PI/180,e=Math.cos(d),f=Math.sin(d);this.m00=e*this.worldScaleX,this.m10=f*this.worldScaleX,this.m01=-f*this.worldScaleY,this.m11=e*this.worldScaleY,a&&(this.m00=-this.m00,this.m01=-this.m01),b&&(this.m10=-this.m10,this.m11=-this.m11),spine.Bone.yDown&&(this.m10=-this.m10,this.m11=-this.m11)},setToSetupPose:function(){var a=this.data;this.x=a.x,this.y=a.y,this.rotation=a.rotation,this.scaleX=a.scaleX,this.scaleY=a.scaleY}},spine.Slot=function(a,b,c){this.data=a,this.skeleton=b,this.bone=c,this.setToSetupPose()},spine.Slot.prototype={r:1,g:1,b:1,a:1,_attachmentTime:0,attachment:null,setAttachment:function(a){this.attachment=a,this._attachmentTime=this.skeleton.time},setAttachmentTime:function(a){this._attachmentTime=this.skeleton.time-a},getAttachmentTime:function(){return this.skeleton.time-this._attachmentTime},setToSetupPose:function(){var a=this.data;this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a;for(var b=this.skeleton.data.slots,c=0,d=b.length;d>c;c++)if(b[c]==a){this.setAttachment(a.attachmentName?this.skeleton.getAttachmentBySlotIndex(c,a.attachmentName):null);break}}},spine.Skin=function(a){this.name=a,this.attachments={}},spine.Skin.prototype={addAttachment:function(a,b,c){this.attachments[a+":"+b]=c},getAttachment:function(a,b){return this.attachments[a+":"+b]},_attachAll:function(a,b){for(var c in b.attachments){var d=c.indexOf(":"),e=parseInt(c.substring(0,d),10),f=c.substring(d+1),g=a.slots[e];if(g.attachment&&g.attachment.name==f){var h=this.getAttachment(e,f);h&&g.setAttachment(h)}}}},spine.Animation=function(a,b,c){this.name=a,this.timelines=b,this.duration=c},spine.Animation.prototype={apply:function(a,b,c){c&&this.duration&&(b%=this.duration);for(var d=this.timelines,e=0,f=d.length;f>e;e++)d[e].apply(a,b,1)},mix:function(a,b,c,d){c&&this.duration&&(b%=this.duration);for(var e=this.timelines,f=0,g=e.length;g>f;f++)e[f].apply(a,b,d)}},spine.binarySearch=function(a,b,c){var d=0,e=Math.floor(a.length/c)-2;if(!e)return c;for(var f=e>>>1;;){if(a[(f+1)*c]<=b?d=f+1:e=f,d==e)return(d+1)*c;f=d+e>>>1}},spine.linearSearch=function(a,b,c){for(var d=0,e=a.length-c;e>=d;d+=c)if(a[d]>b)return d;return-1},spine.Curves=function(a){this.curves=[],this.curves.length=6*(a-1)},spine.Curves.prototype={setLinear:function(a){this.curves[6*a]=0},setStepped:function(a){this.curves[6*a]=-1},setCurve:function(a,b,c,d,e){var f=.1,g=f*f,h=g*f,i=3*f,j=3*g,k=6*g,l=6*h,m=2*-b+d,n=2*-c+e,o=3*(b-d)+1,p=3*(c-e)+1,q=6*a,r=this.curves;r[q]=b*i+m*j+o*h,r[q+1]=c*i+n*j+p*h,r[q+2]=m*k+o*l,r[q+3]=n*k+p*l,r[q+4]=o*l,r[q+5]=p*l},getCurvePercent:function(a,b){b=0>b?0:b>1?1:b;var c=6*a,d=this.curves,e=d[c];if(!e)return b;if(-1==e)return 0;for(var f=d[c+1],g=d[c+2],h=d[c+3],i=d[c+4],j=d[c+5],k=e,l=f,m=8;;){if(k>=b){var n=k-e,o=l-f;return o+(l-o)*(b-n)/(k-n)}if(!m)break;m--,e+=g,f+=h,g+=i,h+=j,k+=e,l+=f}return l+(1-l)*(b-k)/(1-k)}},spine.RotateTimeline=function(a){this.curves=new spine.Curves(a),this.frames=[],this.frames.length=2*a},spine.RotateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(a,b,c){a*=2,this.frames[a]=b,this.frames[a+1]=c},apply:function(a,b,c){var d,e=this.frames;if(!(b<e[0])){var f=a.bones[this.boneIndex];if(b>=e[e.length-2]){for(d=f.data.rotation+e[e.length-1]-f.rotation;d>180;)d-=360;for(;-180>d;)d+=360;return f.rotation+=d*c,void 0}var g=spine.binarySearch(e,b,2),h=e[g-1],i=e[g],j=1-(b-i)/(e[g-2]-i);for(j=this.curves.getCurvePercent(g/2-1,j),d=e[g+1]-h;d>180;)d-=360;for(;-180>d;)d+=360;for(d=f.data.rotation+(h+d*j)-f.rotation;d>180;)d-=360;for(;-180>d;)d+=360;f.rotation+=d*c}}},spine.TranslateTimeline=function(a){this.curves=new spine.Curves(a),this.frames=[],this.frames.length=3*a},spine.TranslateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(a,b,c,d){a*=3,this.frames[a]=b,this.frames[a+1]=c,this.frames[a+2]=d},apply:function(a,b,c){var d=this.frames;if(!(b<d[0])){var e=a.bones[this.boneIndex];if(b>=d[d.length-3])return e.x+=(e.data.x+d[d.length-2]-e.x)*c,e.y+=(e.data.y+d[d.length-1]-e.y)*c,void 0;var f=spine.binarySearch(d,b,3),g=d[f-2],h=d[f-1],i=d[f],j=1-(b-i)/(d[f+-3]-i);j=this.curves.getCurvePercent(f/3-1,j),e.x+=(e.data.x+g+(d[f+1]-g)*j-e.x)*c,e.y+=(e.data.y+h+(d[f+2]-h)*j-e.y)*c}}},spine.ScaleTimeline=function(a){this.curves=new spine.Curves(a),this.frames=[],this.frames.length=3*a},spine.ScaleTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(a,b,c,d){a*=3,this.frames[a]=b,this.frames[a+1]=c,this.frames[a+2]=d},apply:function(a,b,c){var d=this.frames;if(!(b<d[0])){var e=a.bones[this.boneIndex];if(b>=d[d.length-3])return e.scaleX+=(e.data.scaleX-1+d[d.length-2]-e.scaleX)*c,e.scaleY+=(e.data.scaleY-1+d[d.length-1]-e.scaleY)*c,void 0;var f=spine.binarySearch(d,b,3),g=d[f-2],h=d[f-1],i=d[f],j=1-(b-i)/(d[f+-3]-i);j=this.curves.getCurvePercent(f/3-1,j),e.scaleX+=(e.data.scaleX-1+g+(d[f+1]-g)*j-e.scaleX)*c,e.scaleY+=(e.data.scaleY-1+h+(d[f+2]-h)*j-e.scaleY)*c}}},spine.ColorTimeline=function(a){this.curves=new spine.Curves(a),this.frames=[],this.frames.length=5*a},spine.ColorTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(a,b,c,d,e,f){a*=5,this.frames[a]=b,this.frames[a+1]=c,this.frames[a+2]=d,this.frames[a+3]=e,this.frames[a+4]=f},apply:function(a,b,c){var d=this.frames;if(!(b<d[0])){var e=a.slots[this.slotIndex];if(b>=d[d.length-5]){var f=d.length-1;return e.r=d[f-3],e.g=d[f-2],e.b=d[f-1],e.a=d[f],void 0}var g=spine.binarySearch(d,b,5),h=d[g-4],i=d[g-3],j=d[g-2],k=d[g-1],l=d[g],m=1-(b-l)/(d[g-5]-l);m=this.curves.getCurvePercent(g/5-1,m);var n=h+(d[g+1]-h)*m,o=i+(d[g+2]-i)*m,p=j+(d[g+3]-j)*m,q=k+(d[g+4]-k)*m;1>c?(e.r+=(n-e.r)*c,e.g+=(o-e.g)*c,e.b+=(p-e.b)*c,e.a+=(q-e.a)*c):(e.r=n,e.g=o,e.b=p,e.a=q)}}},spine.AttachmentTimeline=function(a){this.curves=new spine.Curves(a),this.frames=[],this.frames.length=a,this.attachmentNames=[],this.attachmentNames.length=a},spine.AttachmentTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length},setFrame:function(a,b,c){this.frames[a]=b,this.attachmentNames[a]=c},apply:function(a,b){var c=this.frames;if(!(b<c[0])){var d;d=b>=c[c.length-1]?c.length-1:spine.binarySearch(c,b,1)-1;var e=this.attachmentNames[d];a.slots[this.slotIndex].setAttachment(e?a.getAttachmentBySlotIndex(this.slotIndex,e):null)}}},spine.SkeletonData=function(){this.bones=[],this.slots=[],this.skins=[],this.animations=[]},spine.SkeletonData.prototype={defaultSkin:null,findBone:function(a){for(var b=this.bones,c=0,d=b.length;d>c;c++)if(b[c].name==a)return b[c];return null},findBoneIndex:function(a){for(var b=this.bones,c=0,d=b.length;d>c;c++)if(b[c].name==a)return c;return-1},findSlot:function(a){for(var b=this.slots,c=0,d=b.length;d>c;c++)if(b[c].name==a)return b[c];return null},findSlotIndex:function(a){for(var b=this.slots,c=0,d=b.length;d>c;c++)if(b[c].name==a)return c;return-1},findSkin:function(a){for(var b=this.skins,c=0,d=b.length;d>c;c++)if(b[c].name==a)return b[c];return null},findAnimation:function(a){for(var b=this.animations,c=0,d=b.length;d>c;c++)if(b[c].name==a)return b[c];return null}},spine.Skeleton=function(a){this.data=a,this.bones=[];for(var b=0,c=a.bones.length;c>b;b++){var d=a.bones[b],e=d.parent?this.bones[a.bones.indexOf(d.parent)]:null;this.bones.push(new spine.Bone(d,e))}for(this.slots=[],this.drawOrder=[],b=0,c=a.slots.length;c>b;b++){var f=a.slots[b],g=this.bones[a.bones.indexOf(f.boneData)],h=new spine.Slot(f,this,g);this.slots.push(h),this.drawOrder.push(h)}},spine.Skeleton.prototype={x:0,y:0,skin:null,r:1,g:1,b:1,a:1,time:0,flipX:!1,flipY:!1,updateWorldTransform:function(){for(var a=this.flipX,b=this.flipY,c=this.bones,d=0,e=c.length;e>d;d++)c[d].updateWorldTransform(a,b)},setToSetupPose:function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},setBonesToSetupPose:function(){for(var a=this.bones,b=0,c=a.length;c>b;b++)a[b].setToSetupPose()},setSlotsToSetupPose:function(){for(var a=this.slots,b=0,c=a.length;c>b;b++)a[b].setToSetupPose(b)},getRootBone:function(){return this.bones.length?this.bones[0]:null},findBone:function(a){for(var b=this.bones,c=0,d=b.length;d>c;c++)if(b[c].data.name==a)return b[c];return null},findBoneIndex:function(a){for(var b=this.bones,c=0,d=b.length;d>c;c++)if(b[c].data.name==a)return c;return-1},findSlot:function(a){for(var b=this.slots,c=0,d=b.length;d>c;c++)if(b[c].data.name==a)return b[c];return null},findSlotIndex:function(a){for(var b=this.slots,c=0,d=b.length;d>c;c++)if(b[c].data.name==a)return c;return-1},setSkinByName:function(a){var b=this.data.findSkin(a);if(!b)throw"Skin not found: "+a;this.setSkin(b)},setSkin:function(a){this.skin&&a&&a._attachAll(this,this.skin),this.skin=a},getAttachmentBySlotName:function(a,b){return this.getAttachmentBySlotIndex(this.data.findSlotIndex(a),b)},getAttachmentBySlotIndex:function(a,b){if(this.skin){var c=this.skin.getAttachment(a,b);if(c)return c}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(a,b):null},setAttachment:function(a,b){for(var c=this.slots,d=0,e=c.size;e>d;d++){var f=c[d];if(f.data.name==a){var g=null;if(b&&(g=this.getAttachment(d,b),null==g))throw"Attachment not found: "+b+", for slot: "+a;return f.setAttachment(g),void 0}}throw"Slot not found: "+a},update:function(a){this.time+=a}},spine.AttachmentType={region:0},spine.RegionAttachment=function(){this.offset=[],this.offset.length=8,this.uvs=[],this.uvs.length=8},spine.RegionAttachment.prototype={x:0,y:0,rotation:0,scaleX:1,scaleY:1,width:0,height:0,rendererObject:null,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,setUVs:function(a,b,c,d,e){var f=this.uvs;e?(f[2]=a,f[3]=d,f[4]=a,f[5]=b,f[6]=c,f[7]=b,f[0]=c,f[1]=d):(f[0]=a,f[1]=d,f[2]=a,f[3]=b,f[4]=c,f[5]=b,f[6]=c,f[7]=d)},updateOffset:function(){var a=this.width/this.regionOriginalWidth*this.scaleX,b=this.height/this.regionOriginalHeight*this.scaleY,c=-this.width/2*this.scaleX+this.regionOffsetX*a,d=-this.height/2*this.scaleY+this.regionOffsetY*b,e=c+this.regionWidth*a,f=d+this.regionHeight*b,g=this.rotation*Math.PI/180,h=Math.cos(g),i=Math.sin(g),j=c*h+this.x,k=c*i,l=d*h+this.y,m=d*i,n=e*h+this.x,o=e*i,p=f*h+this.y,q=f*i,r=this.offset;r[0]=j-m,r[1]=l+k,r[2]=j-q,r[3]=p+k,r[4]=n-q,r[5]=p+o,r[6]=n-m,r[7]=l+o},computeVertices:function(a,b,c,d){a+=c.worldX,b+=c.worldY;var e=c.m00,f=c.m01,g=c.m10,h=c.m11,i=this.offset;d[0]=i[0]*e+i[1]*f+a,d[1]=i[0]*g+i[1]*h+b,d[2]=i[2]*e+i[3]*f+a,d[3]=i[2]*g+i[3]*h+b,d[4]=i[4]*e+i[5]*f+a,d[5]=i[4]*g+i[5]*h+b,d[6]=i[6]*e+i[7]*f+a,d[7]=i[6]*g+i[7]*h+b}},spine.AnimationStateData=function(a){this.skeletonData=a,this.animationToMixTime={}},spine.AnimationStateData.prototype={defaultMix:0,setMixByName:function(a,b,c){var d=this.skeletonData.findAnimation(a);if(!d)throw"Animation not found: "+a;var e=this.skeletonData.findAnimation(b);if(!e)throw"Animation not found: "+b;this.setMix(d,e,c)},setMix:function(a,b,c){this.animationToMixTime[a.name+":"+b.name]=c},getMix:function(a,b){var c=this.animationToMixTime[a.name+":"+b.name];return c?c:this.defaultMix}},spine.AnimationState=function(a){this.data=a,this.queue=[]},spine.AnimationState.prototype={current:null,previous:null,currentTime:0,previousTime:0,currentLoop:!1,previousLoop:!1,mixTime:0,mixDuration:0,update:function(a){if(this.currentTime+=a,this.previousTime+=a,this.mixTime+=a,this.queue.length>0){var b=this.queue[0];this.currentTime>=b.delay&&(this._setAnimation(b.animation,b.loop),this.queue.shift())}},apply:function(a){if(this.current)if(this.previous){this.previous.apply(a,this.previousTime,this.previousLoop);var b=this.mixTime/this.mixDuration;b>=1&&(b=1,this.previous=null),this.current.mix(a,this.currentTime,this.currentLoop,b)}else this.current.apply(a,this.currentTime,this.currentLoop)},clearAnimation:function(){this.previous=null,this.current=null,this.queue.length=0},_setAnimation:function(a,b){this.previous=null,a&&this.current&&(this.mixDuration=this.data.getMix(this.current,a),this.mixDuration>0&&(this.mixTime=0,this.previous=this.current,this.previousTime=this.currentTime,this.previousLoop=this.currentLoop)),this.current=a,this.currentLoop=b,this.currentTime=0},setAnimationByName:function(a,b){var c=this.data.skeletonData.findAnimation(a);if(!c)throw"Animation not found: "+a;this.setAnimation(c,b)},setAnimation:function(a,b){this.queue.length=0,this._setAnimation(a,b)},addAnimationByName:function(a,b,c){var d=this.data.skeletonData.findAnimation(a);if(!d)throw"Animation not found: "+a;this.addAnimation(d,b,c)},addAnimation:function(a,b,c){var d={};if(d.animation=a,d.loop=b,!c||0>=c){var e=this.queue.length?this.queue[this.queue.length-1].animation:this.current;c=null!=e?e.duration-this.data.getMix(e,a)+(c||0):0}d.delay=c,this.queue.push(d)},isComplete:function(){return!this.current||this.currentTime>=this.current.duration}},spine.SkeletonJson=function(a){this.attachmentLoader=a},spine.SkeletonJson.prototype={scale:1,readSkeletonData:function(a){for(var b,c=new spine.SkeletonData,d=a.bones,e=0,f=d.length;f>e;e++){var g=d[e],h=null;if(g.parent&&(h=c.findBone(g.parent),!h))throw"Parent bone not found: "+g.parent;b=new spine.BoneData(g.name,h),b.length=(g.length||0)*this.scale,b.x=(g.x||0)*this.scale,b.y=(g.y||0)*this.scale,b.rotation=g.rotation||0,b.scaleX=g.scaleX||1,b.scaleY=g.scaleY||1,c.bones.push(b)}var i=a.slots;for(e=0,f=i.length;f>e;e++){var j=i[e];if(b=c.findBone(j.bone),!b)throw"Slot bone not found: "+j.bone;var k=new spine.SlotData(j.name,b),l=j.color;l&&(k.r=spine.SkeletonJson.toColor(l,0),k.g=spine.SkeletonJson.toColor(l,1),k.b=spine.SkeletonJson.toColor(l,2),k.a=spine.SkeletonJson.toColor(l,3)),k.attachmentName=j.attachment,c.slots.push(k)}var m=a.skins;for(var n in m)if(m.hasOwnProperty(n)){var o=m[n],p=new spine.Skin(n);for(var q in o)if(o.hasOwnProperty(q)){var r=c.findSlotIndex(q),s=o[q];for(var t in s)if(s.hasOwnProperty(t)){var u=this.readAttachment(p,t,s[t]);null!=u&&p.addAttachment(r,t,u)}}c.skins.push(p),"default"==p.name&&(c.defaultSkin=p)}var v=a.animations;for(var w in v)v.hasOwnProperty(w)&&this.readAnimation(w,v[w],c);return c},readAttachment:function(a,b,c){b=c.name||b;var d=spine.AttachmentType[c.type||"region"];if(d==spine.AttachmentType.region){var e=new spine.RegionAttachment;return e.x=(c.x||0)*this.scale,e.y=(c.y||0)*this.scale,e.scaleX=c.scaleX||1,e.scaleY=c.scaleY||1,e.rotation=c.rotation||0,e.width=(c.width||32)*this.scale,e.height=(c.height||32)*this.scale,e.updateOffset(),e.rendererObject={},e.rendererObject.name=b,e.rendererObject.scale={},e.rendererObject.scale.x=e.scaleX,e.rendererObject.scale.y=e.scaleY,e.rendererObject.rotation=-e.rotation*Math.PI/180,e}throw"Unknown attachment type: "+d},readAnimation:function(a,b,c){var d,e,f,g,h,i,j,k=[],l=0,m=b.bones;for(var n in m)if(m.hasOwnProperty(n)){var o=c.findBoneIndex(n);if(-1==o)throw"Bone not found: "+n;var p=m[n];for(f in p)if(p.hasOwnProperty(f))if(h=p[f],"rotate"==f){for(e=new spine.RotateTimeline(h.length),e.boneIndex=o,d=0,i=0,j=h.length;j>i;i++)g=h[i],e.setFrame(d,g.time,g.angle),spine.SkeletonJson.readCurve(e,d,g),d++;k.push(e),l=Math.max(l,e.frames[2*e.getFrameCount()-2])}else{if("translate"!=f&&"scale"!=f)throw"Invalid timeline type for a bone: "+f+" ("+n+")";var q=1;for("scale"==f?e=new spine.ScaleTimeline(h.length):(e=new spine.TranslateTimeline(h.length),q=this.scale),e.boneIndex=o,d=0,i=0,j=h.length;j>i;i++){g=h[i];var r=(g.x||0)*q,s=(g.y||0)*q;e.setFrame(d,g.time,r,s),spine.SkeletonJson.readCurve(e,d,g),d++}k.push(e),l=Math.max(l,e.frames[3*e.getFrameCount()-3])}}var t=b.slots;for(var u in t)if(t.hasOwnProperty(u)){var v=t[u],w=c.findSlotIndex(u);for(f in v)if(v.hasOwnProperty(f))if(h=v[f],"color"==f){for(e=new spine.ColorTimeline(h.length),e.slotIndex=w,d=0,i=0,j=h.length;j>i;i++){g=h[i];var x=g.color,y=spine.SkeletonJson.toColor(x,0),z=spine.SkeletonJson.toColor(x,1),A=spine.SkeletonJson.toColor(x,2),B=spine.SkeletonJson.toColor(x,3);e.setFrame(d,g.time,y,z,A,B),spine.SkeletonJson.readCurve(e,d,g),d++}k.push(e),l=Math.max(l,e.frames[5*e.getFrameCount()-5])}else{if("attachment"!=f)throw"Invalid timeline type for a slot: "+f+" ("+u+")";for(e=new spine.AttachmentTimeline(h.length),e.slotIndex=w,d=0,i=0,j=h.length;j>i;i++)g=h[i],e.setFrame(d++,g.time,g.name);k.push(e),l=Math.max(l,e.frames[e.getFrameCount()-1])}}c.animations.push(new spine.Animation(a,k,l))}},spine.SkeletonJson.readCurve=function(a,b,c){var d=c.curve;d&&("stepped"==d?a.curves.setStepped(b):d instanceof Array&&a.curves.setCurve(b,d[0],d[1],d[2],d[3]))},spine.SkeletonJson.toColor=function(a,b){if(8!=a.length)throw"Color hexidecimal length must be 8, recieved: "+a;return parseInt(a.substring(2*b,2),16)/255},spine.Atlas=function(a,b){this.textureLoader=b,this.pages=[],this.regions=[];var c=new spine.AtlasReader(a),d=[];d.length=4;for(var e=null;;){var f=c.readLine();if(null==f)break;if(f=c.trim(f),f.length)if(e){var g=new spine.AtlasRegion;g.name=f,g.page=e,g.rotate="true"==c.readValue(),c.readTuple(d);var h=parseInt(d[0],10),i=parseInt(d[1],10);c.readTuple(d);var j=parseInt(d[0],10),k=parseInt(d[1],10);g.u=h/e.width,g.v=i/e.height,g.rotate?(g.u2=(h+k)/e.width,g.v2=(i+j)/e.height):(g.u2=(h+j)/e.width,g.v2=(i+k)/e.height),g.x=h,g.y=i,g.width=Math.abs(j),g.height=Math.abs(k),4==c.readTuple(d)&&(g.splits=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10)],4==c.readTuple(d)&&(g.pads=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10)],c.readTuple(d))),g.originalWidth=parseInt(d[0],10),g.originalHeight=parseInt(d[1],10),c.readTuple(d),g.offsetX=parseInt(d[0],10),g.offsetY=parseInt(d[1],10),g.index=parseInt(c.readValue(),10),this.regions.push(g)}else{e=new spine.AtlasPage,e.name=f,e.format=spine.Atlas.Format[c.readValue()],c.readTuple(d),e.minFilter=spine.Atlas.TextureFilter[d[0]],e.magFilter=spine.Atlas.TextureFilter[d[1]];var l=c.readValue();e.uWrap=spine.Atlas.TextureWrap.clampToEdge,e.vWrap=spine.Atlas.TextureWrap.clampToEdge,"x"==l?e.uWrap=spine.Atlas.TextureWrap.repeat:"y"==l?e.vWrap=spine.Atlas.TextureWrap.repeat:"xy"==l&&(e.uWrap=e.vWrap=spine.Atlas.TextureWrap.repeat),b.load(e,f),this.pages.push(e)}else e=null}},spine.Atlas.prototype={findRegion:function(a){for(var b=this.regions,c=0,d=b.length;d>c;c++)if(b[c].name==a)return b[c];return null},dispose:function(){for(var a=this.pages,b=0,c=a.length;c>b;b++)this.textureLoader.unload(a[b].rendererObject)},updateUVs:function(a){for(var b=this.regions,c=0,d=b.length;d>c;c++){var e=b[c];e.page==a&&(e.u=e.x/a.width,e.v=e.y/a.height,e.rotate?(e.u2=(e.x+e.height)/a.width,e.v2=(e.y+e.width)/a.height):(e.u2=(e.x+e.width)/a.width,e.v2=(e.y+e.height)/a.height))}}},spine.Atlas.Format={alpha:0,intensity:1,luminanceAlpha:2,rgb565:3,rgba4444:4,rgb888:5,rgba8888:6},spine.Atlas.TextureFilter={nearest:0,linear:1,mipMap:2,mipMapNearestNearest:3,mipMapLinearNearest:4,mipMapNearestLinear:5,mipMapLinearLinear:6},spine.Atlas.TextureWrap={mirroredRepeat:0,clampToEdge:1,repeat:2},spine.AtlasPage=function(){},spine.AtlasPage.prototype={name:null,format:null,minFilter:null,magFilter:null,uWrap:null,vWrap:null,rendererObject:null,width:0,height:0},spine.AtlasRegion=function(){},spine.AtlasRegion.prototype={page:null,name:null,x:0,y:0,width:0,height:0,u:0,v:0,u2:0,v2:0,offsetX:0,offsetY:0,originalWidth:0,originalHeight:0,index:0,rotate:!1,splits:null,pads:null},spine.AtlasReader=function(a){this.lines=a.split(/\r\n|\r|\n/)},spine.AtlasReader.prototype={index:0,trim:function(a){return a.replace(/^\s+|\s+$/g,"")},readLine:function(){return this.index>=this.lines.length?null:this.lines[this.index++]},readValue:function(){var a=this.readLine(),b=a.indexOf(":");if(-1==b)throw"Invalid line: "+a;return this.trim(a.substring(b+1))},readTuple:function(a){var b=this.readLine(),c=b.indexOf(":");if(-1==c)throw"Invalid line: "+b;for(var d=0,e=c+1;3>d;d++){var f=b.indexOf(",",e);if(-1==f){if(!d)throw"Invalid line: "+b;break}a[d]=this.trim(b.substr(e,f-e)),e=f+1}return a[d]=this.trim(b.substring(e)),d+1}},spine.AtlasAttachmentLoader=function(a){this.atlas=a},spine.AtlasAttachmentLoader.prototype={newAttachment:function(a,b,c){switch(b){case spine.AttachmentType.region:var d=this.atlas.findRegion(c);if(!d)throw"Region not found in atlas: "+c+" ("+b+")";var e=new spine.RegionAttachment(c);return e.rendererObject=d,e.setUVs(d.u,d.v,d.u2,d.v2,d.rotate),e.regionOffsetX=d.offsetX,e.regionOffsetY=d.offsetY,e.regionWidth=d.width,e.regionHeight=d.height,e.regionOriginalWidth=d.originalWidth,e.regionOriginalHeight=d.originalHeight,e}throw"Unknown attachment type: "+b}},spine.Bone.yDown=!0;
},{}],69:[function(require,module,exports){
var PIXI = require("pixi");
var FunctionUtil = require("../../utils/FunctionUtil");
var PixiApp = require("../../utils/PixiApp");
var NetPokerClientView = require("../view/NetPokerClientView");
var NetPokerClientController = require("../controller/NetPokerClientController");
var MessageWebSocketConnection = require("../../utils/MessageWebSocketConnection");
var ProtoConnection = require("../../proto/ProtoConnection");

/**
 * Main entry point for client.
 * @class NetPokerClient
 */
function NetPokerClient() {
	PixiApp.call(this, 960, 720);

	var assets = [
		"table.png",
		"components.png"
	];

	this.assetLoader = new PIXI.AssetLoader(assets);
	this.assetLoader.addEventListener("onComplete", this.onAssetLoaderComplete.bind(this));
	this.assetLoader.load();
}

FunctionUtil.extend(NetPokerClient, PixiApp);

NetPokerClient.prototype.onAssetLoaderComplete = function() {
	console.log("asset loader complete...");

	this.netPokerClientView = new NetPokerClientView();
	this.addChild(this.netPokerClientView);

	this.netPokerClientController = new NetPokerClientController(this.netPokerClientView);

	this.connection = new MessageWebSocketConnection();
	this.connection.on(MessageWebSocketConnection.CONNECT, this.onConnectionConnect, this);
	this.connection.connect(NET_POKER_URL);
}

NetPokerClient.prototype.onConnectionConnect = function() {
	console.log("**** connected");
	this.protoConnection = new ProtoConnection(this.connection);
	this.netPokerClientController.setProtoConnection(this.protoConnection);
}

module.exports = NetPokerClient;
},{"../../proto/ProtoConnection":79,"../../utils/FunctionUtil":89,"../../utils/MessageWebSocketConnection":90,"../../utils/PixiApp":91,"../controller/NetPokerClientController":72,"../view/NetPokerClientView":77,"pixi":38}],70:[function(require,module,exports){
var EventDispatcher = require("../../utils/EventDispatcher");
var FunctionUtil = require("../../utils/FunctionUtil");
var Sequencer = require("../../utils/Sequencer");

/**
 * An item in a message sequence.
 * @class MessageSequenceItem
 */
function MessageSequenceItem(message) {
	EventDispatcher.call(this);
	this.message = message;
	this.waitTarget = null;
	this.waitEvent = null;
	this.waitClosure = null;
}

FunctionUtil.extend(MessageSequenceItem, EventDispatcher);

/**
 * Get message.
 */
MessageSequenceItem.prototype.getMessage = function() {
	//console.log("getting: " + this.message.type);

	return this.message;
}

/**
 * Are we waiting for an event?
 */
MessageSequenceItem.prototype.isWaiting = function() {
	return this.waitEvent != null;
}

/**
 * Notify complete.
 * @method notifyComplete
 */
MessageSequenceItem.prototype.notifyComplete = function() {
	this.trigger(Sequencer.COMPLETE);
}

/**
 * Wait for event.
 */
MessageSequenceItem.prototype.waitFor = function(target, event) {
	this.waitTarget = target;
	this.waitEvent = event;
	this.waitClosure = this.onTargetComplete.bind(this);

	this.waitTarget.addEventListener(this.waitEvent, this.waitClosure);
}

/**
 * Wait target complete.
 * @method onTargetComplete
 * @private
 */
MessageSequenceItem.prototype.onTargetComplete = function() {
	//console.log("target is complete");
	this.waitTarget.removeEventListener(this.waitEvent, this.waitClosure);
	this.notifyComplete();
}

module.exports = MessageSequenceItem;
},{"../../utils/EventDispatcher":86,"../../utils/FunctionUtil":89,"../../utils/Sequencer":93}],71:[function(require,module,exports){
var Sequencer = require("../../utils/Sequencer");
var EventDispatcher = require("../../utils/Eventdispatcher");
var MessageSequenceItem = require("./MessageSequenceItem");

/**
 * Sequences messages.
 */
function MessageSequencer() {
	this.sequencer = new Sequencer();
	this.messageDispatcher = new EventDispatcher();
	this.currentItem = null;
}

/**
 * Add a message for procesing.
 * @method enqueue
 */
MessageSequencer.prototype.enqueue = function(message) {
	if (!message.type)
		throw "Message doesn't have a type";

	var sequenceItem = new MessageSequenceItem(message);

	sequenceItem.on(Sequencer.START, this.onSequenceItemStart, this);

	this.sequencer.enqueue(sequenceItem);
}

/**
 * Sequence item start.
 * @method onSequenceItemStart
 * @private
 */
MessageSequencer.prototype.onSequenceItemStart = function(e) {
	//console.log("starting item...");
	var item = e.target;

	item.off(Sequencer.START, this.onSequenceItemStart, this);

	this.currentItem = item;
	this.messageDispatcher.trigger(item.getMessage());
	this.currentItem = null;

	if (!item.isWaiting())
		item.notifyComplete();
}

/**
 * Add message handler.
 * @method addMessageHandler
 */
MessageSequencer.prototype.addMessageHandler = function(messageType, handler, scope) {
	this.messageDispatcher.on(messageType, handler, scope);
}

/**
 * Wait for event.
 */
MessageSequencer.prototype.waitFor = function(target, event) {
	if (!this.currentItem)
		throw "Not waiting for event";

	this.currentItem.waitFor(target, event);
}

module.exports = MessageSequencer;
},{"../../utils/Eventdispatcher":87,"../../utils/Sequencer":93,"./MessageSequenceItem":70}],72:[function(require,module,exports){
var FunctionUtil = require("../../utils/FunctionUtil");
var MessageSequencer = require("./MessageSequencer");
var TableController = require("./TableController");
var ProtoConnection = require("../../proto/ProtoConnection");

/**
 * Main controller
 * @class NetPokerClientController
 */
function NetPokerClientController(view) {
	this.netPokerClientView = view;
	this.protoConnection = null;
	this.messageSequencer = new MessageSequencer();

	this.tableController = new TableController(this.messageSequencer, this.netPokerClientView);
}

/**
 * Set connection.
 * @method setProtoConnection
 */
NetPokerClientController.prototype.setProtoConnection = function(protoConnection) {
	if (this.protoConnection) {
		this.protoConnection.off(ProtoConnection.MESSAGE, this.onProtoConnectionMessage, this);
	}

	this.protoConnection = protoConnection;

	if (this.protoConnection) {
		//console.log("waiting for message: "+ProtoConnection.MESSAGE);
		this.protoConnection.on(ProtoConnection.MESSAGE, this.onProtoConnectionMessage, this);
	}
}

/**
 * Incoming message.
 * Enqueue for processing.
 * @private
 */
NetPokerClientController.prototype.onProtoConnectionMessage = function(e) {
	//console.log("proto connection message...");
	this.messageSequencer.enqueue(e.message);
}

module.exports = NetPokerClientController;
},{"../../proto/ProtoConnection":79,"../../utils/FunctionUtil":89,"./MessageSequencer":71,"./TableController":73}],73:[function(require,module,exports){
var SeatInfoMessage = require("../../proto/messages/SeatInfoMessage");
var CommunityCardsMessage = require("../../proto/messages/CommunityCardsMessage");

/**
 * Control the table
 * @class TableController
 */
function TableController(messageSequencer, view) {
	this.messageSequencer = messageSequencer;
	this.view = view;

	this.messageSequencer.addMessageHandler(SeatInfoMessage.TYPE, this.onSeatInfoMessage, this);
	this.messageSequencer.addMessageHandler(CommunityCardsMessage.TYPE, this.onCommunityCardsMessage, this);
}

/**
 * Seat info message.
 */
TableController.prototype.onSeatInfoMessage = function(m) {
	var seatView = this.view.getSeatViewByIndex(m.getSeatIndex());

	seatView.setName(m.getName());
	seatView.setChips(m.getChips());
	seatView.setActive(m.isActive());
	seatView.setSitout(m.isSitout());
}

/**
 * Seat info message.
 */
TableController.prototype.onCommunityCardsMessage = function(m) {
	var i;

	for (i = 0; i < m.getCards().length; i++) {
		var cardData = m.getCards()[i];
		var cardView = this.view.getCommunityCards()[m.getFirstIndex() + i];

		cardView.setCardData(cardData);
	}
}

module.exports = TableController;
},{"../../proto/messages/CommunityCardsMessage":81,"../../proto/messages/SeatInfoMessage":83}],74:[function(require,module,exports){
var NetPokerClient = require("./app/NetPokerClient");
var netPokerClient = new NetPokerClient();

},{"./app/NetPokerClient":69}],75:[function(require,module,exports){
"use strict";

var PIXI = require("pixi");
var Point = require("../../utils/Point");

/**
 * Client resources
 * @class Resources.
 */
function Resources() {
	this.componentsTexture = new PIXI.Texture.fromImage("components.png");
	this.tableBackground = PIXI.Sprite.fromImage("table.png");

	this.seatPositions = [
		Point(287, 118), Point(483, 112), Point(676, 118),
		Point(844, 247), Point(817, 413), Point(676, 490),
		Point(483, 495), Point(287, 490), Point(140, 413),
		Point(123, 247)
	];

	this.seatPlate = this.getComponentsPart(40, 116, 160, 70);

	this.communityCardsPosition = Point(255, 190);

	this.cardFrame = this.getComponentsPart(498, 256, 87, 122);
	this.cardBack = this.getComponentsPart(402, 256, 87, 122);
}

/**
 * Get part from components atlas.
 * @method getComponentsPart
 * @private
 */
Resources.prototype.getComponentsPart = function(x, y, w, h) {
	var frame = {
		x: x,
		y: y,
		width: w,
		height: h
	};

	return new PIXI.Texture(this.componentsTexture, frame);
}

/**
 * Get singleton instance.
 * @method getInstance
 */
Resources.getInstance = function() {
	if (!Resources.instance)
		Resources.instance = new Resources();

	return Resources.instance;
}

module.exports = Resources;
},{"../../utils/Point":92,"pixi":38}],76:[function(require,module,exports){
var PIXI = require("pixi");
var FunctionUtil = require("../../utils/FunctionUtil");
var Resources = require("../resources/Resources");

/**
 * A card view.
 * @class CardView
 */
function CardView() {
	PIXI.DisplayObjectContainer.call(this);
	this.targetPosition = null;

	this.frame = new PIXI.Sprite(Resources.getInstance().cardFrame);
	this.addChild(this.frame);

	this.back = new PIXI.Sprite(Resources.getInstance().cardBack);
	this.addChild(this.back);
}

FunctionUtil.extend(CardView, PIXI.DisplayObjectContainer);

/**
 * Set card data.
 * @method setCardData
 */
CardView.prototype.setCardData = function(cardData) {
	this.cardData = cardData;

	if (this.cardData.isShown()) {
		this.back.visible = false;
		this.frame.visible = true;
	} else {
		this.back.visible = true;
		this.frame.visible = false;
	}
}

/**
 * Set card data.
 * @method setCardData
 */
CardView.prototype.setTargetPosition = function(point) {
	this.targetPosition = point;

	this.position.x = point.x;
	this.position.y = point.y;
}

module.exports = CardView;
},{"../../utils/FunctionUtil":89,"../resources/Resources":75,"pixi":38}],77:[function(require,module,exports){
var PIXI = require("pixi");
var FunctionUtil = require("../../utils/FunctionUtil");
var Resources = require("../resources/Resources");
var SeatView = require("./SeatView");
var CardView = require("./CardView");
var Point = require("../../utils/Point");

/**
 * Net poker client view.
 * @class NetPokerClientView
 */
function NetPokerClientView() {
	var i;

	PIXI.DisplayObjectContainer.call(this);

	this.tableContainer = new PIXI.DisplayObjectContainer();
	this.addChild(this.tableContainer);

	this.tableContainer.addChild(Resources.getInstance().tableBackground);

	this.setupSeats();
	this.setupCommunityCards();
}

FunctionUtil.extend(NetPokerClientView, PIXI.DisplayObjectContainer);

/**
 * Setup seats.
 */
NetPokerClientView.prototype.setupSeats = function() {
	this.seatViews = [];

	for (i = 0; i < Resources.getInstance().seatPositions.length; i++) {
		var seatView = new SeatView(i);

		this.tableContainer.addChild(seatView);
		this.seatViews.push(seatView);
	}
}

/**
 * Setup community cards.
 */
NetPokerClientView.prototype.setupCommunityCards = function() {
	this.communityCards = [];

	var p = Resources.getInstance().communityCardsPosition;

	for (i = 0; i < 5; i++) {
		var cardView = new CardView();
		cardView.setTargetPosition(Point(p.x + i * 90, p.y));

		this.communityCards.push(cardView);
		this.tableContainer.addChild(cardView);
	}
}

/**
 * Get seat view by index.
 * @method getSeatViewByIndex
 */
NetPokerClientView.prototype.getSeatViewByIndex = function(index) {
	return this.seatViews[index];
}

/**
 * Get seat view by index.
 * @method getSeatViewByIndex
 */
NetPokerClientView.prototype.getCommunityCards = function() {
	return this.communityCards;
}

module.exports = NetPokerClientView;
},{"../../utils/FunctionUtil":89,"../../utils/Point":92,"../resources/Resources":75,"./CardView":76,"./SeatView":78,"pixi":38}],78:[function(require,module,exports){
var PIXI = require("pixi");
var FunctionUtil = require("../../utils/FunctionUtil");
var Resources = require("../resources/Resources");

/**
 * A seat view.
 * @class SeatView
 */
function SeatView(seatIndex) {
	PIXI.DisplayObjectContainer.call(this);

	this.seatIndex = seatIndex;

	var seatTexture = Resources.getInstance().seatPlate;
	var seatSprite = new PIXI.Sprite(seatTexture);

	seatSprite.position.x = -seatTexture.width / 2;
	seatSprite.position.y = -seatTexture.height / 2;

	this.addChild(seatSprite);

	var pos = Resources.getInstance().seatPositions[this.seatIndex];

	this.position.x = pos.x;
	this.position.y = pos.y;

	var style;

	style = {
		font: "bold 20px Arial"
	};

	this.nameField = new PIXI.Text("[name]", style);
	this.nameField.position.y = -20;
	this.addChild(this.nameField);

	style = {
		font: "normal 12px Arial"
	};

	this.chipsField = new PIXI.Text("[name]", style);
	this.chipsField.position.y = 5;
	this.addChild(this.chipsField);

	this.setName("");
	this.setChips("");
}

FunctionUtil.extend(SeatView, PIXI.DisplayObjectContainer);

/**
 * Set name.
 */
SeatView.prototype.setName = function(name) {
	this.nameField.setText(name);
	this.nameField.updateTransform();

	this.nameField.position.x = -this.nameField.canvas.width / 2;
}

/**
 * Set name.
 */
SeatView.prototype.setChips = function(chips) {
	this.chipsField.setText(chips);
	this.chipsField.updateTransform();

	this.chipsField.position.x = -this.chipsField.canvas.width / 2;
}

/**
 * Set sitout.
 */
SeatView.prototype.setSitout = function(sitout) {
	if (sitout)
		this.alpha=.5;

	else
		this.alpha=1;
}

/**
 * Set sitout.
 */
SeatView.prototype.setActive = function(active) {
	this.visible=active;
}

module.exports = SeatView;
},{"../../utils/FunctionUtil":89,"../resources/Resources":75,"pixi":38}],79:[function(require,module,exports){
var EventDispatcher = require("../utils/EventDispatcher");
var FunctionUtil = require("../utils/FunctionUtil");

var InitMessage = require("./messages/InitMessage");
var StateCompleteMessage = require("./messages/StateCompleteMessage");
var SeatInfoMessage = require("./messages/SeatInfoMessage");
var CommunityCardsMessage = require("./messages/CommunityCardsMessage");

/**
 * @class ProtoConnection
 * A protocol connection with an underlying connection.
 */
function ProtoConnection(connection) {
	EventDispatcher.call(this);

	this.messageDispatcher = new EventDispatcher();
	this.connection = connection;
	this.connection.addEventListener("message", this.onConnectionMessage, this);
	this.connection.addEventListener("close", this.onConnectionClose, this);
}

FunctionUtil.extend(ProtoConnection, EventDispatcher);

ProtoConnection.CLOSE = "close";
ProtoConnection.MESSAGE = "message";

ProtoConnection.MESSAGE_TYPES = {};
ProtoConnection.MESSAGE_TYPES[InitMessage.TYPE] = InitMessage;
ProtoConnection.MESSAGE_TYPES[StateCompleteMessage.TYPE] = StateCompleteMessage;
ProtoConnection.MESSAGE_TYPES[SeatInfoMessage.TYPE] = SeatInfoMessage;
ProtoConnection.MESSAGE_TYPES[CommunityCardsMessage.TYPE] = CommunityCardsMessage;

/**
 * Add message handler.
 */
ProtoConnection.prototype.addMessageHandler = function(messageType, handler, scope) {
	this.messageDispatcher.on(messageType, handler, scope);
}

/**
 * Connection message.
 * @method onConnectionMessage
 */
ProtoConnection.prototype.onConnectionMessage = function(ev) {
	//console.log("incoming connection message");

	var message = ev.message;
	var constructor;

	for (type in ProtoConnection.MESSAGE_TYPES) {
		if (message.type == type)
			constructor = ProtoConnection.MESSAGE_TYPES[type]
	}

	if (!constructor) {
		console.warn("unknown message: " + message.type);
		return;
	}

	var o = new constructor();
	o.unserialize(message);
	o.type = message.type;

	this.messageDispatcher.trigger(o);

	this.trigger({
		type: ProtoConnection.MESSAGE,
		message: o
	});
}

/**
 * Connection close.
 * @method onConnectionClose
 */
ProtoConnection.prototype.onConnectionClose = function(ev) {
	this.connection.off("message", this.onConnectionMessage, this);
	this.connection.off("close", this.onConnectionClose, this);
	this.connection = null;

	this.trigger(ProtoConnection.CLOSE);
}

/**
 * Send a message.
 */
ProtoConnection.prototype.send = function(message) {
	var serialized = message.serialize();

	for (type in ProtoConnection.MESSAGE_TYPES) {
		if (message instanceof ProtoConnection.MESSAGE_TYPES[type])
			serialized.type = type;
	}

	if (!serialized.type)
		throw new Error("Unknown message type");

	this.connection.send(serialized);
}

/**
 * Close the connection.
 * @method close
 */
ProtoConnection.prototype.close = function() {
	this.connection.close();
}

module.exports = ProtoConnection;
},{"../utils/EventDispatcher":86,"../utils/FunctionUtil":89,"./messages/CommunityCardsMessage":81,"./messages/InitMessage":82,"./messages/SeatInfoMessage":83,"./messages/StateCompleteMessage":84}],80:[function(require,module,exports){
/**
 * Card data.
 * @class CardData
 */
function CardData(value) {
	this.value=value;
}

/**
 * Shown?
 */
CardData.prototype.isShown=function() {
	return this.value>=0;
}

module.exports=CardData;
},{}],81:[function(require,module,exports){
var CardData=require("../data/CardData");

/**
 * @class SeatInfoMessage
 */
function CommunityCardsMessage() {
	this.animate = false;
	this.cards = [];
	this.firstIndex = 0;
}

CommunityCardsMessage.TYPE = "communityCards";

/**
 * Get card data.
 */
CommunityCardsMessage.prototype.getCards = function() {
	return this.cards;
}

/**
 * Get first index.
 */
CommunityCardsMessage.prototype.getFirstIndex = function() {
	return this.firstIndex;
}

/**
 * Un-serialize.
 * @method unserialize.
 */
CommunityCardsMessage.prototype.unserialize = function(data) {
	var i;

	this.animate = data.animate;
	this.firstIndex = parseInt(data.firstIndex);
	this.cards=[];

	for (i=0; i<data.cards.length; i++)
		this.cards.push(new CardData(data.cards[i]));
}

/**
 * Serialize message.
 * @method serialize
 */
CommunityCardsMessage.prototype.serialize = function() {
	var cards=[];

	for (i=0; i<this.cards.length; i++)
		cards.push(this.cards[i].getValue());

	return {
		animate: this.seatIndex,
		firstIndex: this.firstIndex,
		cards: cards
	};
}

module.exports = CommunityCardsMessage;
},{"../data/CardData":80}],82:[function(require,module,exports){
/**
 * @class InitMessage
 */
function InitMessage(token) {
	this.token = token;
	this.tableId = null;
}

InitMessage.TYPE = "init";

/**
 * get token.
 * @method getToken
 */
InitMessage.prototype.getToken = function() {
	return this.token;
}

/**
 * Set table id.
 * @method setTableId
 */
InitMessage.prototype.setTableId = function(id) {
	this.tableId = id;
}

/**
 * Get table id.
 * @method getTableId
 */
InitMessage.prototype.getTableId = function() {
	return this.tableId;
}

/**
 * Un-serialize.
 * @method unserialize.
 */
InitMessage.prototype.unserialize = function(data) {
	this.token = data.token;
	this.tableId = data.tableId;
}

/**
 * Serialize message.
 * @method serialize
 */
InitMessage.prototype.serialize = function() {
	return {
		token: this.token,
		tableId: this.tableId
	};
}

module.exports = InitMessage;
},{}],83:[function(require,module,exports){
/**
 * @class SeatInfoMessage
 */
function SeatInfoMessage() {
	this.active = true;
}

SeatInfoMessage.TYPE = "seatInfo";

/**
 * Getter.
 */
SeatInfoMessage.prototype.getSeatIndex = function() {
	return this.seatIndex;
}

/**
 * Getter.
 */
SeatInfoMessage.prototype.getName = function() {
	return this.name;
}

/**
 * Getter.
 */
SeatInfoMessage.prototype.getChips = function() {
	return this.chips;
}

/**
 * Getter.
 */
SeatInfoMessage.prototype.isSitout = function() {
	return this.sitout;
}

/**
 * Getter.
 */
SeatInfoMessage.prototype.isActive = function() {
	return this.active;
}

/**
 * Un-serialize.
 * @method unserialize.
 */
SeatInfoMessage.prototype.unserialize = function(data) {
	this.seatIndex = data.seatIndex;
	this.name = data.name;
	this.chips = data.chips;
	this.sitout = data.sitout;
	this.active = data.active;
}

/**
 * Serialize message.
 * @method serialize
 */
SeatInfoMessage.prototype.serialize = function() {
	return {
		seatIndex: this.seatIndex,
		name: this.name,
		chips: this.chips,
		sitout: this.sitout,
		active: this.active
	};
}

module.exports = SeatInfoMessage;
},{}],84:[function(require,module,exports){
/**
 * @class StateCompleteMessage
 */
function StateCompleteMessage() {}

StateCompleteMessage.TYPE = "stateComplete";

/**
 * Un-serialize.
 * @method unserialize.
 */
StateCompleteMessage.prototype.unserialize = function(data) {}

/**
 * Serialize message.
 * @method serialize
 */
StateCompleteMessage.prototype.serialize = function() {
	return {};
}

module.exports = StateCompleteMessage;
},{}],85:[function(require,module,exports){
var PIXI=require("pixi");
var FunctionUtil=require("../utils/FunctionUtil");

function ContentScaler(content) {
	PIXI.DisplayObjectContainer.call(this);

	this.contentWidth=100;
	this.contentHeight=100;

	this.screenWidth=100;
	this.screenHeight=100;

	this.theMask=null;

	if (content)
		this.setContent(content);
}

FunctionUtil.extend(ContentScaler,PIXI.DisplayObjectContainer);

ContentScaler.prototype.setContent=function(content) {
	this.content=content;

	this.addChild(this.content);

	if (this.theMask) {
		this.removeChild(this.theMask);
		this.theMask=null;
	}

	this.theMask=new PIXI.Graphics();
	//this.addChild(this.theMask);

	this.updateScale();
}

ContentScaler.prototype.setContentSize=function(contentWidth, contentHeight) {
	this.contentWidth=contentWidth;
	this.contentHeight=contentHeight;

	this.updateScale();
}

ContentScaler.prototype.setScreenSize=function(screenWidth, screenHeight) {
	this.screenWidth=screenWidth;
	this.screenHeight=screenHeight;

	this.updateScale();
}

ContentScaler.prototype.updateScale=function() {
	var scale;

	if (this.screenWidth/this.contentWidth<this.screenHeight/this.contentHeight)
		scale=this.screenWidth/this.contentWidth;

	else
		scale=this.screenHeight/this.contentHeight;

	this.content.scale.x=scale;
	this.content.scale.y=scale;

	var scaledWidth=this.contentWidth*scale;
	var scaledHeight=this.contentHeight*scale;

	this.content.position.x=(this.screenWidth-scaledWidth)/2;
	this.content.position.y=(this.screenHeight-scaledHeight)/2;

	var r=new PIXI.Rectangle(this.content.position.x,this.content.position.y,scaledWidth,scaledHeight);
	var right=r.x+r.width;
	var bottom=r.y+r.height;

	this.theMask.clear();
	this.theMask.beginFill();
	this.theMask.drawRect(0,0,this.screenWidth,r.y);
	this.theMask.drawRect(0,0,r.x,this.screenHeight);
	this.theMask.drawRect(right,0,this.screenWidth-right,this.screenHeight);
	this.theMask.drawRect(0,bottom,this.screenWidth,this.screenHeight-bottom);
	this.theMask.endFill();
}

module.exports=ContentScaler;
},{"../utils/FunctionUtil":89,"pixi":38}],86:[function(require,module,exports){
"use strict";

/**
 * AS3 style event dispatcher.
 */
function EventDispatcher() {
	this.listenerMap = {};
}

/**
 * Add event listener.
 */
EventDispatcher.prototype.addEventListener = function(eventType, listener, scope) {
	if (!eventType)
		throw new Error("Event type required for event dispatcher");

	if (!listener)
		throw new Error("Listener required for event dispatcher");

	this.removeEventListener(eventType, listener, scope);

	if (!this.listenerMap.hasOwnProperty(eventType))
		this.listenerMap[eventType] = [];

	this.listenerMap[eventType].push({
		listener: listener,
		scope: scope
	});
}

/**
 * Remove event listener.
 */
EventDispatcher.prototype.removeEventListener = function(eventType, listener, scope) {
	if (!this.listenerMap.hasOwnProperty(eventType))
		return;

	var listeners = this.listenerMap[eventType];

	for (var i = 0; i < listeners.length; i++) {
		var listenerObj = listeners[i];

		if (listener == listenerObj.listener && scope == listenerObj.scope) {
			listeners.splice(i, 1);
			i--;
		}
	}

	if (!listeners.length)
		delete this.listenerMap[eventType];
}

/**
 * Dispatch event.
 */
EventDispatcher.prototype.dispatchEvent = function(event, data) {
	if (typeof event == "string") {
		event = {
			type: event
		};
	}

	if (!this.listenerMap.hasOwnProperty(event.type))
		return;

	if (data == undefined)
		data = event;

	data.target = this;

	for (var i in this.listenerMap[event.type]) {
		var listenerObj = this.listenerMap[event.type][i];

		listenerObj.listener.call(listenerObj.scope, data);
	}
}

/**
 * Jquery style alias.
 */
EventDispatcher.prototype.on = EventDispatcher.prototype.addEventListener;
EventDispatcher.prototype.off = EventDispatcher.prototype.removeEventListener;
EventDispatcher.prototype.trigger = EventDispatcher.prototype.dispatchEvent;

module.exports = EventDispatcher;
},{}],87:[function(require,module,exports){
module.exports=require(86)
},{}],88:[function(require,module,exports){
"use strict";

var EventDispatcher=require("./EventDispatcher");
var FunctionUtil=require("./FunctionUtil");

/**
 * Frame timer.
 */
function FrameTimer() {
	EventDispatcher.call(this);

	this.intervalId=setInterval(FunctionUtil.createDelegate(this.onInterval,this),1000/60);
}

FunctionUtil.extend(FrameTimer,EventDispatcher);

FrameTimer.TIMER="timer";
FrameTimer.RENDER="render";

/**
 * On interval.
 */
FrameTimer.prototype.onInterval=function() {
	this.dispatchEvent(FrameTimer.TIMER);
	this.dispatchEvent(FrameTimer.RENDER);
}

/**
 * Get singleton instance.
 */
FrameTimer.getInstance=function() {
	if (!FrameTimer.instance)
		FrameTimer.instance=new FrameTimer();

	return FrameTimer.instance;
}

module.exports=FrameTimer;
},{"./EventDispatcher":86,"./FunctionUtil":89}],89:[function(require,module,exports){
/**
 * Function utils.
 */
function FunctionUtil() {
}

/**
 * Extend a class.
 * Don't forget to call super.
 */
FunctionUtil.extend=function(target, base) {
	target.prototype=Object.create(base.prototype);
	target.prototype.constructor=target;
}

/**
 * Create delegate function.
 */
FunctionUtil.createDelegate=function(func, scope) {
	return function() {
		func.apply(scope,arguments);
	};
}

module.exports=FunctionUtil;

},{}],90:[function(require,module,exports){
var EventDispatcher = require("./EventDispatcher");
var FunctionUtil = require("./FunctionUtil");
var Thenable = require("./Thenable");

/**
 * Message connection in a browser.
 * @class MessageWebSocketConnection
 */
function MessageWebSocketConnection() {
	EventDispatcher.call(this);
}

FunctionUtil.extend(MessageWebSocketConnection, EventDispatcher);

MessageWebSocketConnection.CONNECT = "connect";
MessageWebSocketConnection.MESSAGE = "message";
MessageWebSocketConnection.CLOSE = "close";

/**
 * Connect.
 * @method connect
 */
MessageWebSocketConnection.prototype.connect = function(url) {
	this.webSocket = new WebSocket(url);
	this.webSocket.onopen = this.onWebSocketOpen.bind(this);
	this.webSocket.onmessage = this.onWebSocketMessage.bind(this);
	this.webSocket.onclose = this.onWebSocketClose.bind(this);
	this.webSocket.onerror = this.onWebSocketError.bind(this);
}

/**
 * Web socket open.
 * @private
 */
MessageWebSocketConnection.prototype.onWebSocketOpen = function() {
	this.trigger(MessageWebSocketConnection.CONNECT);
}

/**
 * Web socket message.
 * @private
 */
MessageWebSocketConnection.prototype.onWebSocketMessage = function(e) {
	var message = JSON.parse(e.data);

	this.trigger({
		type: MessageWebSocketConnection.MESSAGE,
		message: message
	});
}

/**
 * Web socket close.
 * @private
 */
MessageWebSocketConnection.prototype.onWebSocketClose = function() {
	console.log("web socket close...");
	this.webSocket.close();
	this.webSocket = null;

	this.trigger(MessageWebSocketConnection.CLOSE);
}

/**
 * Web socket error.
 * @private
 */
MessageWebSocketConnection.prototype.onWebSocketError = function() {
	this.webSocket.close();
	this.webSocket = null;

	this.trigger(MessageWebSocketConnection.CLOSE);
}

module.exports = MessageWebSocketConnection;
},{"./EventDispatcher":86,"./FunctionUtil":89,"./Thenable":94}],91:[function(require,module,exports){
"use strict";

var PIXI=require("pixi");
var FunctionUtil=require("./FunctionUtil");
var ContentScaler=require("./ContentScaler");
var FrameTimer=require("./FrameTimer");

/**
 * Pixi full window app.
 * Can operate using window coordinates or scaled to specific area.
 */
function PixiApp(width, height) {
	if (PixiApp.instance)
		throw new Error("Only one PixiApp per app");

	PixiApp.instance=this;

	PIXI.DisplayObjectContainer.call(this);

	var view;

	if (navigator.isCocoonJS)
		view=document.createElement('screencanvas');

	else
		view=document.createElement('canvas');

//	this.renderer=new PIXI.WebGLRenderer(window.innerWidth,window.innerHeight,view);
	this.renderer=new PIXI.autoDetectRenderer(window.innerWidth,window.innerHeight,view);

	console.log("appending child, document: "+document);
	console.log("appending child, document.body: "+document.body);

	document.body.appendChild(this.renderer.view);

	document.body.style.margin=0;
	document.body.style.padding=0;

	document.body.onresize=FunctionUtil.createDelegate(this.onWindowResize,this);
	window.onresize=FunctionUtil.createDelegate(this.onWindowResize,this);

/*	var s=document.createElement("div");
	s.innerHTML="hello";
	s.style.background="#ffffff";
	s.style.position="absolute";
	s.style.left="0";
	s.style.top="30px";

	document.body.appendChild(s);*/

	this.contentScaler=null;

	this.appStage=new PIXI.Stage(0,true);

	//console.log("im: "+this.appStage.interactionManager);

	if (!width || !height)
		this.useNoScaling();

	else
		this.useScaling(width,height);

	FrameTimer.getInstance().addEventListener(FrameTimer.RENDER,this.onAnimationFrame,this);
}

FunctionUtil.extend(PixiApp,PIXI.DisplayObjectContainer);

/**
 * Use scaling mode.
 */
PixiApp.prototype.useScaling=function(w, h) {
	this.removeContent();

	this.contentScaler=new ContentScaler(this);
	this.contentScaler.setContentSize(w,h);
	this.contentScaler.setScreenSize(window.innerWidth,window.innerHeight);
	this.appStage.addChild(this.contentScaler);
}

/**
 * Use no scaling mode.
 */
PixiApp.prototype.useNoScaling=function() {
	this.removeContent();

	this.appStage.addChild(this);
}

/**
 * Remove any content.
 * Internal.
 */
PixiApp.prototype.removeContent=function() {
	if (this.appStage.children.indexOf(this)>=0)
		this.appStage.removeChild(this);

	if (this.contentScaler) {
		this.appStage.removeChild(this.contentScaler)
		this.contentScaler=null;
	}
}

/**
 * Window resize.
 */
PixiApp.prototype.onWindowResize=function() {
	if (this.contentScaler)
		this.contentScaler.setScreenSize(window.innerWidth,window.innerHeight);

	this.renderer.resize(window.innerWidth,window.innerHeight);

	this.renderer.render(this.appStage);
}

/**
 * Animation frame.
 */
PixiApp.prototype.onAnimationFrame=function() {
	this.renderer.render(this.appStage);
}

/**
 * Get canvas.
 */
PixiApp.prototype.getCanvas=function() {
	return this.renderer.view;
}

/**
 * Get stage.
 */
PixiApp.prototype.getStage=function() {
	return this.appStage;
}

module.exports=PixiApp;
},{"./ContentScaler":85,"./FrameTimer":88,"./FunctionUtil":89,"pixi":38}],92:[function(require,module,exports){
/**
 * Represents a point.
 * @class Point
 */
function Point(x, y) {
	if (!(this instanceof Point))
		return new Point(x, y);

	this.x = x;
	this.y = y;
}

module.exports = Point;
},{}],93:[function(require,module,exports){
var FunctionUtil = require("./FunctionUtil");
var EventDispatcher = require("./EventDispatcher");

/**
 * Perform tasks in a sequence.
 * Tasks, which should be event dispatchers,
 * are euqueued with the enqueue function,
 * a START event is dispatcher upon task
 * start, and the task is considered complete
 * as it dispatches a COMPLETE event.
 * @class Sequencer
 */
function Sequencer() {
	EventDispatcher.call(this);

	this.queue = [];
	this.currentTask = null;
	this.onTaskCompleteClosure = this.onTaskComplete.bind(this);
}

FunctionUtil.extend(Sequencer, EventDispatcher);

Sequencer.START = "start";
Sequencer.COMPLETE = "complete";

/**
 * Enqueue a task to be performed.
 * @method enqueue
 */
Sequencer.prototype.enqueue = function(task) {
	if (!this.currentTask)
		this.startTask(task)

	else
		this.queue.push(task);
}

/**
 * Start the task.
 * @private
 */
Sequencer.prototype.startTask = function(task) {
	this.currentTask = task;

	this.currentTask.addEventListener(Sequencer.COMPLETE, this.onTaskCompleteClosure);
	this.currentTask.dispatchEvent({
		type: Sequencer.START
	});
}

/**
 * The current task is complete.
 *@private
 */
Sequencer.prototype.onTaskComplete = function() {
	this.currentTask.removeEventListener(Sequencer.COMPLETE, this.onTaskCompleteClosure);
	this.currentTask = null;

	if (this.queue.length > 0)
		this.startTask(this.queue.shift());

	else
		this.trigger(Sequencer.COMPLETE);

}

/**
 * Abort the sequence.
 * @method abort
 */
Sequencer.prototype.abort = function() {
	if (this.currentTask) {
		this.currentTask.removeEventListener(Sequencer.COMPLETE, this.onTaskCompleteClosure);
		this.currentTask = null;
	}

	this.queue = [];
}

module.exports = Sequencer;
},{"./EventDispatcher":86,"./FunctionUtil":89}],94:[function(require,module,exports){
var EventDispatcher=require("./EventDispatcher");
var FunctionUtil=require("./FunctionUtil");

/**
 * An implementation of promises as defined here:
 * http://promises-aplus.github.io/promises-spec/
 * @class Thenable
 * @internal
 */
function Thenable() {
	EventDispatcher.call(this)

	this.successHandlers=[];
	this.errorHandlers=[];
	this.notified=false;
	this.handlersCalled=false;
	this.notifyParam=null;
}

FunctionUtil.extend(Thenable,EventDispatcher);

/**
 * Set resolution handlers.
 * @method then
 * @param success The function called to handle success.
 * @param error The function called to handle error.
 * @return This Thenable for chaining.
 */
Thenable.prototype.then=function(success, error) {
	if (this.handlersCalled)
		throw new Error("This thenable is already used.");

	this.successHandlers.push(success);
	this.errorHandlers.push(error);

	return this;
}

/**
 * Notify success of the operation.
 * @method notifySuccess
 */
Thenable.prototype.notifySuccess=function(param) {
	if (this.handlersCalled)
		throw new Error("This thenable is already notified.");

	this.notifyParam=param;
	setTimeout(this.doNotifySuccess.bind(this),0);
}

/**
 * Notify failure of the operation.
 * @method notifyError
 */
Thenable.prototype.notifyError=function(param) {
	if (this.handlersCalled)
		throw new Error("This thenable is already notified.");

	this.notifyParam=param;
	setTimeout(this.doNotifyError.bind(this),0);
}

/**
 * Actually notify success.
 * @method doNotifySuccess
 * @private
 */
Thenable.prototype.doNotifySuccess=function() {
	this.callHandlers(this.successHandlers);
}

/**
 * Actually notify error.
 * @method doNotifyError
 * @private
 */
Thenable.prototype.doNotifyError=function() {
	this.callHandlers(this.errorHandlers);
}

/**
 * Call handlers.
 * @method callHandlers
 * @private
 */
Thenable.prototype.callHandlers=function(handlers) {
	if (this.handlersCalled)
		throw new Error("Should never happen.");

	this.handlersCalled=true;

	for (var i in handlers) {
		if (handlers[i]) {
			try {
				handlers[i].call(null,this.notifyParam);
			}

			catch (e) {
				console.error("Exception in Thenable handler: "+e);
				console.log(e.stack);
				throw e;
			}
		}
	}
}

module.exports=Thenable;
},{"./EventDispatcher":86,"./FunctionUtil":89}]},{},[74])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvbm9kZV9tb2R1bGVzL3BpeGkvSW50ZXJhY3Rpb25NYW5hZ2VyLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9ub2RlX21vZHVsZXMvcGl4aS9jb3JlL2dsb2JhbHMuanMiLCIvVXNlcnMvbWlrYWVsL0RvY3VtZW50cy9yZXBvL25ldHBva2VyL25vZGVfbW9kdWxlcy9waXhpL2Rpc3BsYXkvRGlzcGxheU9iamVjdC5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvbm9kZV9tb2R1bGVzL3BpeGkvZGlzcGxheS9EaXNwbGF5T2JqZWN0Q29udGFpbmVyLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9ub2RlX21vZHVsZXMvcGl4aS9kaXNwbGF5L01vdmllQ2xpcC5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvbm9kZV9tb2R1bGVzL3BpeGkvZGlzcGxheS9TcHJpdGUuanMiLCIvVXNlcnMvbWlrYWVsL0RvY3VtZW50cy9yZXBvL25ldHBva2VyL25vZGVfbW9kdWxlcy9waXhpL2Rpc3BsYXkvU3RhZ2UuanMiLCIvVXNlcnMvbWlrYWVsL0RvY3VtZW50cy9yZXBvL25ldHBva2VyL25vZGVfbW9kdWxlcy9waXhpL2Rpc3BsYXkvYmxlbmRNb2Rlcy5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvbm9kZV9tb2R1bGVzL3BpeGkvZXZlbnRzL0V2ZW50VGFyZ2V0LmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9ub2RlX21vZHVsZXMvcGl4aS9leHRyYXMvQ3VzdG9tUmVuZGVyYWJsZS5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvbm9kZV9tb2R1bGVzL3BpeGkvZXh0cmFzL1JvcGUuanMiLCIvVXNlcnMvbWlrYWVsL0RvY3VtZW50cy9yZXBvL25ldHBva2VyL25vZGVfbW9kdWxlcy9waXhpL2V4dHJhcy9TcGluZS5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvbm9kZV9tb2R1bGVzL3BpeGkvZXh0cmFzL1N0cmlwLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9ub2RlX21vZHVsZXMvcGl4aS9leHRyYXMvVGlsaW5nU3ByaXRlLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9ub2RlX21vZHVsZXMvcGl4aS9maWx0ZXJzL0Fic3RyYWN0RmlsdGVyLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9ub2RlX21vZHVsZXMvcGl4aS9maWx0ZXJzL0JsdXJGaWx0ZXIuanMiLCIvVXNlcnMvbWlrYWVsL0RvY3VtZW50cy9yZXBvL25ldHBva2VyL25vZGVfbW9kdWxlcy9waXhpL2ZpbHRlcnMvQmx1clhGaWx0ZXIuanMiLCIvVXNlcnMvbWlrYWVsL0RvY3VtZW50cy9yZXBvL25ldHBva2VyL25vZGVfbW9kdWxlcy9waXhpL2ZpbHRlcnMvQmx1cllGaWx0ZXIuanMiLCIvVXNlcnMvbWlrYWVsL0RvY3VtZW50cy9yZXBvL25ldHBva2VyL25vZGVfbW9kdWxlcy9waXhpL2ZpbHRlcnMvQ29sb3JNYXRyaXhGaWx0ZXIuanMiLCIvVXNlcnMvbWlrYWVsL0RvY3VtZW50cy9yZXBvL25ldHBva2VyL25vZGVfbW9kdWxlcy9waXhpL2ZpbHRlcnMvQ29sb3JTdGVwRmlsdGVyLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9ub2RlX21vZHVsZXMvcGl4aS9maWx0ZXJzL0Nyb3NzSGF0Y2hGaWx0ZXIuanMiLCIvVXNlcnMvbWlrYWVsL0RvY3VtZW50cy9yZXBvL25ldHBva2VyL25vZGVfbW9kdWxlcy9waXhpL2ZpbHRlcnMvRGlzcGxhY2VtZW50RmlsdGVyLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9ub2RlX21vZHVsZXMvcGl4aS9maWx0ZXJzL0RvdFNjcmVlbkZpbHRlci5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvbm9kZV9tb2R1bGVzL3BpeGkvZmlsdGVycy9GaWx0ZXJCbG9jay5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvbm9kZV9tb2R1bGVzL3BpeGkvZmlsdGVycy9HcmF5RmlsdGVyLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9ub2RlX21vZHVsZXMvcGl4aS9maWx0ZXJzL0ludmVydEZpbHRlci5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvbm9kZV9tb2R1bGVzL3BpeGkvZmlsdGVycy9QaXhlbGF0ZUZpbHRlci5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvbm9kZV9tb2R1bGVzL3BpeGkvZmlsdGVycy9SR0JTcGxpdEZpbHRlci5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvbm9kZV9tb2R1bGVzL3BpeGkvZmlsdGVycy9TZXBpYUZpbHRlci5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvbm9kZV9tb2R1bGVzL3BpeGkvZmlsdGVycy9TbWFydEJsdXJGaWx0ZXIuanMiLCIvVXNlcnMvbWlrYWVsL0RvY3VtZW50cy9yZXBvL25ldHBva2VyL25vZGVfbW9kdWxlcy9waXhpL2ZpbHRlcnMvVHdpc3RGaWx0ZXIuanMiLCIvVXNlcnMvbWlrYWVsL0RvY3VtZW50cy9yZXBvL25ldHBva2VyL25vZGVfbW9kdWxlcy9waXhpL2dlb20vQ2lyY2xlLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9ub2RlX21vZHVsZXMvcGl4aS9nZW9tL0VsbGlwc2UuanMiLCIvVXNlcnMvbWlrYWVsL0RvY3VtZW50cy9yZXBvL25ldHBva2VyL25vZGVfbW9kdWxlcy9waXhpL2dlb20vUG9pbnQuanMiLCIvVXNlcnMvbWlrYWVsL0RvY3VtZW50cy9yZXBvL25ldHBva2VyL25vZGVfbW9kdWxlcy9waXhpL2dlb20vUG9seWdvbi5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvbm9kZV9tb2R1bGVzL3BpeGkvZ2VvbS9SZWN0YW5nbGUuanMiLCIvVXNlcnMvbWlrYWVsL0RvY3VtZW50cy9yZXBvL25ldHBva2VyL25vZGVfbW9kdWxlcy9waXhpL2dlb20vbWF0cml4LmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9ub2RlX21vZHVsZXMvcGl4aS9pbmRleC5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvbm9kZV9tb2R1bGVzL3BpeGkvbG9hZGVycy9Bc3NldExvYWRlci5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvbm9kZV9tb2R1bGVzL3BpeGkvbG9hZGVycy9CaXRtYXBGb250TG9hZGVyLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9ub2RlX21vZHVsZXMvcGl4aS9sb2FkZXJzL0ltYWdlTG9hZGVyLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9ub2RlX21vZHVsZXMvcGl4aS9sb2FkZXJzL0pzb25Mb2FkZXIuanMiLCIvVXNlcnMvbWlrYWVsL0RvY3VtZW50cy9yZXBvL25ldHBva2VyL25vZGVfbW9kdWxlcy9waXhpL2xvYWRlcnMvU3BpbmVMb2FkZXIuanMiLCIvVXNlcnMvbWlrYWVsL0RvY3VtZW50cy9yZXBvL25ldHBva2VyL25vZGVfbW9kdWxlcy9waXhpL2xvYWRlcnMvU3ByaXRlU2hlZXRMb2FkZXIuanMiLCIvVXNlcnMvbWlrYWVsL0RvY3VtZW50cy9yZXBvL25ldHBva2VyL25vZGVfbW9kdWxlcy9waXhpL3BsYXRmb3JtLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9ub2RlX21vZHVsZXMvcGl4aS9wcmltaXRpdmVzL0dyYXBoaWNzLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9ub2RlX21vZHVsZXMvcGl4aS9yZW5kZXJlcnMvY2FudmFzL0NhbnZhc1JlbmRlcmVyLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9ub2RlX21vZHVsZXMvcGl4aS9yZW5kZXJlcnMvY2FudmFzL2dyYXBoaWNzLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9ub2RlX21vZHVsZXMvcGl4aS9yZW5kZXJlcnMvd2ViZ2wvUGl4aVNoYWRlci5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvbm9kZV9tb2R1bGVzL3BpeGkvcmVuZGVyZXJzL3dlYmdsL1ByaW1pdGl2ZVNoYWRlci5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvbm9kZV9tb2R1bGVzL3BpeGkvcmVuZGVyZXJzL3dlYmdsL1N0cmlwU2hhZGVyLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9ub2RlX21vZHVsZXMvcGl4aS9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xCYXRjaC5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvbm9kZV9tb2R1bGVzL3BpeGkvcmVuZGVyZXJzL3dlYmdsL1dlYkdMRmlsdGVyTWFuYWdlci5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvbm9kZV9tb2R1bGVzL3BpeGkvcmVuZGVyZXJzL3dlYmdsL1dlYkdMUmVuZGVyR3JvdXAuanMiLCIvVXNlcnMvbWlrYWVsL0RvY3VtZW50cy9yZXBvL25ldHBva2VyL25vZGVfbW9kdWxlcy9waXhpL3JlbmRlcmVycy93ZWJnbC9XZWJHTFJlbmRlcmVyLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9ub2RlX21vZHVsZXMvcGl4aS9yZW5kZXJlcnMvd2ViZ2wvY29tcGlsZS5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvbm9kZV9tb2R1bGVzL3BpeGkvcmVuZGVyZXJzL3dlYmdsL2dyYXBoaWNzLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9ub2RlX21vZHVsZXMvcGl4aS9yZW5kZXJlcnMvd2ViZ2wvc2hhZGVycy5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvbm9kZV9tb2R1bGVzL3BpeGkvdGV4dC9CaXRtYXBUZXh0LmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9ub2RlX21vZHVsZXMvcGl4aS90ZXh0L1RleHQuanMiLCIvVXNlcnMvbWlrYWVsL0RvY3VtZW50cy9yZXBvL25ldHBva2VyL25vZGVfbW9kdWxlcy9waXhpL3RleHR1cmVzL0Jhc2VUZXh0dXJlLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9ub2RlX21vZHVsZXMvcGl4aS90ZXh0dXJlcy9SZW5kZXJUZXh0dXJlLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9ub2RlX21vZHVsZXMvcGl4aS90ZXh0dXJlcy9UZXh0dXJlLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9ub2RlX21vZHVsZXMvcGl4aS91dGlscy9Qb2x5ay5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvbm9kZV9tb2R1bGVzL3BpeGkvdXRpbHMvYXV0b0RldGVjdFJlbmRlcmVyLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9ub2RlX21vZHVsZXMvcGl4aS91dGlscy9jb2xvci5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvbm9kZV9tb2R1bGVzL3BpeGkvdXRpbHMvZGVidWcuanMiLCIvVXNlcnMvbWlrYWVsL0RvY3VtZW50cy9yZXBvL25ldHBva2VyL25vZGVfbW9kdWxlcy9waXhpL3V0aWxzL3NwaW5lLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9zcmMvanMvY2xpZW50L2FwcC9OZXRQb2tlckNsaWVudC5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvc3JjL2pzL2NsaWVudC9jb250cm9sbGVyL01lc3NhZ2VTZXF1ZW5jZUl0ZW0uanMiLCIvVXNlcnMvbWlrYWVsL0RvY3VtZW50cy9yZXBvL25ldHBva2VyL3NyYy9qcy9jbGllbnQvY29udHJvbGxlci9NZXNzYWdlU2VxdWVuY2VyLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9zcmMvanMvY2xpZW50L2NvbnRyb2xsZXIvTmV0UG9rZXJDbGllbnRDb250cm9sbGVyLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9zcmMvanMvY2xpZW50L2NvbnRyb2xsZXIvVGFibGVDb250cm9sbGVyLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9zcmMvanMvY2xpZW50L25ldHBva2VyY2xpZW50LmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9zcmMvanMvY2xpZW50L3Jlc291cmNlcy9SZXNvdXJjZXMuanMiLCIvVXNlcnMvbWlrYWVsL0RvY3VtZW50cy9yZXBvL25ldHBva2VyL3NyYy9qcy9jbGllbnQvdmlldy9DYXJkVmlldy5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvc3JjL2pzL2NsaWVudC92aWV3L05ldFBva2VyQ2xpZW50Vmlldy5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvc3JjL2pzL2NsaWVudC92aWV3L1NlYXRWaWV3LmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9zcmMvanMvcHJvdG8vUHJvdG9Db25uZWN0aW9uLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9zcmMvanMvcHJvdG8vZGF0YS9DYXJkRGF0YS5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvc3JjL2pzL3Byb3RvL21lc3NhZ2VzL0NvbW11bml0eUNhcmRzTWVzc2FnZS5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvc3JjL2pzL3Byb3RvL21lc3NhZ2VzL0luaXRNZXNzYWdlLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9zcmMvanMvcHJvdG8vbWVzc2FnZXMvU2VhdEluZm9NZXNzYWdlLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9zcmMvanMvcHJvdG8vbWVzc2FnZXMvU3RhdGVDb21wbGV0ZU1lc3NhZ2UuanMiLCIvVXNlcnMvbWlrYWVsL0RvY3VtZW50cy9yZXBvL25ldHBva2VyL3NyYy9qcy91dGlscy9Db250ZW50U2NhbGVyLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9zcmMvanMvdXRpbHMvRXZlbnREaXNwYXRjaGVyLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9zcmMvanMvdXRpbHMvRnJhbWVUaW1lci5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvc3JjL2pzL3V0aWxzL0Z1bmN0aW9uVXRpbC5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvc3JjL2pzL3V0aWxzL01lc3NhZ2VXZWJTb2NrZXRDb25uZWN0aW9uLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9zcmMvanMvdXRpbHMvUGl4aUFwcC5qcyIsIi9Vc2Vycy9taWthZWwvRG9jdW1lbnRzL3JlcG8vbmV0cG9rZXIvc3JjL2pzL3V0aWxzL1BvaW50LmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9zcmMvanMvdXRpbHMvU2VxdWVuY2VyLmpzIiwiL1VzZXJzL21pa2FlbC9Eb2N1bWVudHMvcmVwby9uZXRwb2tlci9zcmMvanMvdXRpbHMvVGhlbmFibGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekNBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ3BGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8qKlxuICogcGl4aSAwLjIuMSAoNmFhMDAzMClcbiAqIGh0dHA6Ly9kcmtpYml0ei5naXRodWIuaW8vbm9kZS1waXhpL1xuICogQ29weXJpZ2h0IChjKSAyMDEzLTIwMTQgRHIuIEtpYml0eiwgaHR0cDovL2Rya2liaXR6LmNvbVxuICogU3VwZXIgZmFzdCAyRCByZW5kZXJpbmcgZW5naW5lIGZvciBicm93c2VyaWZ5LCB0aGF0IHVzZXMgV2ViR0wgd2l0aCBhIGNvbnRleHQgMmQgZmFsbGJhY2suXG4gKiBidWlsdDogU3VuIEphbiAwNSAyMDE0IDAxOjUzOjU4IEdNVC0wNTAwIChFU1QpXG4gKlxuICogUGl4aS5qcyAtIHYxLjMuMFxuICogQ29weXJpZ2h0IChjKSAyMDEyLCBNYXQgR3JvdmVzXG4gKi9cblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIEludGVyYWN0aW9uRGF0YSgpe3RoaXMuZ2xvYmFsPW5ldyBQb2ludCx0aGlzLmxvY2FsPW5ldyBQb2ludCx0aGlzLnRhcmdldD1udWxsLHRoaXMub3JpZ2luYWxFdmVudD1udWxsfWZ1bmN0aW9uIEludGVyYWN0aW9uTWFuYWdlcihhKXt0aGlzLnN0YWdlPWEsdGhpcy5tb3VzZT1uZXcgSW50ZXJhY3Rpb25EYXRhLHRoaXMudG91Y2hzPXt9LHRoaXMudGVtcFBvaW50PW5ldyBQb2ludCx0aGlzLm1vdXNlb3ZlckVuYWJsZWQ9ITAsdGhpcy5wb29sPVtdLHRoaXMuaW50ZXJhY3RpdmVJdGVtcz1bXSx0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudD1udWxsLHRoaXMubGFzdD0wfXZhciBnbG9iYWxzPXJlcXVpcmUoXCIuL2NvcmUvZ2xvYmFsc1wiKSxQb2ludD1yZXF1aXJlKFwiLi9nZW9tL1BvaW50XCIpLFNwcml0ZT1yZXF1aXJlKFwiLi9kaXNwbGF5L1Nwcml0ZVwiKSxwbGF0Zm9ybT1yZXF1aXJlKFwiLi9wbGF0Zm9ybVwiKTtJbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLmdldExvY2FsUG9zaXRpb249ZnVuY3Rpb24oYSl7dmFyIGI9YS53b3JsZFRyYW5zZm9ybSxjPXRoaXMuZ2xvYmFsLGQ9YlswXSxlPWJbMV0sZj1iWzJdLGc9YlszXSxoPWJbNF0saT1iWzVdLGo9MS8oZCpoK2UqLWcpO3JldHVybiBuZXcgUG9pbnQoaCpqKmMueCstZSpqKmMueSsoaSplLWYqaCkqaixkKmoqYy55Ky1nKmoqYy54KygtaSpkK2YqZykqail9O3ZhciBwcm90bz1JbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlO3Byb3RvLmhhbmRsZUV2ZW50PWZ1bmN0aW9uKGEpe3N3aXRjaChhLnR5cGUpe2Nhc2VcIm1vdXNlZG93blwiOnRoaXMub25Nb3VzZURvd24oYSk7YnJlYWs7Y2FzZVwibW91c2Vtb3ZlXCI6dGhpcy5vbk1vdXNlTW92ZShhKTticmVhaztjYXNlXCJtb3VzZXVwXCI6dGhpcy5vbk1vdXNlVXAoYSk7YnJlYWs7Y2FzZVwibW91c2VvdXRcIjp0aGlzLm9uTW91c2VPdXQoYSk7YnJlYWs7Y2FzZVwidG91Y2hzdGFydFwiOnRoaXMub25Ub3VjaFN0YXJ0KGEpO2JyZWFrO2Nhc2VcInRvdWNobW92ZVwiOnRoaXMub25Ub3VjaE1vdmUoYSk7YnJlYWs7Y2FzZVwidG91Y2hlbmRcIjp0aGlzLm9uVG91Y2hFbmQoYSl9fSxwcm90by5jb2xsZWN0SW50ZXJhY3RpdmVTcHJpdGU9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9YS5jaGlsZHJlbixkPWMubGVuZ3RoLTE7ZD49MDtkLS0pe3ZhciBlPWNbZF07ZS5pbnRlcmFjdGl2ZT8oYi5pbnRlcmFjdGl2ZUNoaWxkcmVuPSEwLHRoaXMuaW50ZXJhY3RpdmVJdGVtcy5wdXNoKGUpLGUuY2hpbGRyZW4ubGVuZ3RoPjAmJnRoaXMuY29sbGVjdEludGVyYWN0aXZlU3ByaXRlKGUsZSkpOihlLl9faVBhcmVudD1udWxsLGUuY2hpbGRyZW4ubGVuZ3RoPjAmJnRoaXMuY29sbGVjdEludGVyYWN0aXZlU3ByaXRlKGUsYikpfX0scHJvdG8uc2V0VGFyZ2V0PWZ1bmN0aW9uKGEpe2E/bnVsbD09PXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50JiZ0aGlzLnNldFRhcmdldERvbUVsZW1lbnQoYS52aWV3KTpudWxsIT09dGhpcy50YXJnZXQmJnBsYXRmb3JtLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMsITApLHBsYXRmb3JtLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMsITApLHRoaXMudGFyZ2V0PWF9LHByb3RvLnNldFRhcmdldERvbUVsZW1lbnQ9ZnVuY3Rpb24oYSl7bnVsbCE9PXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50JiYodGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbXCItbXMtY29udGVudC16b29taW5nXCJdPVwiXCIsdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbXCItbXMtdG91Y2gtYWN0aW9uXCJdPVwiXCIsdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMsITApLHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLCEwKSx0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIix0aGlzLCEwKSx0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHRoaXMsITApLHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMsITApLHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIix0aGlzLCEwKSk7dmFyIGI9cGxhdGZvcm0ubmF2aWdhdG9yO2ImJmIubXNQb2ludGVyRW5hYmxlZCYmKGEuc3R5bGVbXCItbXMtY29udGVudC16b29taW5nXCJdPVwibm9uZVwiLGEuc3R5bGVbXCItbXMtdG91Y2gtYWN0aW9uXCJdPVwibm9uZVwiKSxhLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLCEwKSxhLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLCEwKSxhLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLHRoaXMsITApLGEuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLCEwKSxhLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMsITApLGEuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMsITApLHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50PWF9LHByb3RvLnVwZGF0ZT1mdW5jdGlvbigpe2lmKHRoaXMudGFyZ2V0KXt2YXIgYT1EYXRlLm5vdygpLGI9YS10aGlzLmxhc3Q7aWYoYj0zMCpiLzFlMywhKDE+Yikpe3RoaXMubGFzdD1hO3ZhciBjLGQ7aWYodGhpcy5kaXJ0eSl7Zm9yKHRoaXMuZGlydHk9ITEsYz0wLGQ9dGhpcy5pbnRlcmFjdGl2ZUl0ZW1zLmxlbmd0aDtkPmM7YysrKXRoaXMuaW50ZXJhY3RpdmVJdGVtc1tjXS5pbnRlcmFjdGl2ZUNoaWxkcmVuPSExO3RoaXMuaW50ZXJhY3RpdmVJdGVtcz1bXSx0aGlzLnN0YWdlLmludGVyYWN0aXZlJiZ0aGlzLmludGVyYWN0aXZlSXRlbXMucHVzaCh0aGlzLnN0YWdlKSx0aGlzLmNvbGxlY3RJbnRlcmFjdGl2ZVNwcml0ZSh0aGlzLnN0YWdlLHRoaXMuc3RhZ2UpfWZvcih0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZS5jdXJzb3I9XCJpbmhlcml0XCIsYz0wLGQ9dGhpcy5pbnRlcmFjdGl2ZUl0ZW1zLmxlbmd0aDtkPmM7YysrKXt2YXIgZT10aGlzLmludGVyYWN0aXZlSXRlbXNbY107KGUubW91c2VvdmVyfHxlLm1vdXNlb3V0fHxlLmJ1dHRvbk1vZGUpJiYoZS5fX2hpdD10aGlzLmhpdFRlc3QoZSx0aGlzLm1vdXNlKSx0aGlzLm1vdXNlLnRhcmdldD1lLGUuX19oaXQ/KGUuYnV0dG9uTW9kZSYmKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLmN1cnNvcj1lLmRlZmF1bHRDdXJzb3IpLGUuX19pc092ZXJ8fChlLm1vdXNlb3ZlciYmZS5tb3VzZW92ZXIodGhpcy5tb3VzZSksZS5fX2lzT3Zlcj0hMCkpOmUuX19pc092ZXImJihlLm1vdXNlb3V0JiZlLm1vdXNlb3V0KHRoaXMubW91c2UpLGUuX19pc092ZXI9ITEpKX19fX0scHJvdG8ub25Nb3VzZU1vdmU9ZnVuY3Rpb24oYSl7dGhpcy5tb3VzZS5vcmlnaW5hbEV2ZW50PWE7dmFyIGI9dGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dGhpcy5tb3VzZS5nbG9iYWwueD0oYS5jbGllbnRYLWIubGVmdCkqKHRoaXMudGFyZ2V0LndpZHRoL2Iud2lkdGgpLHRoaXMubW91c2UuZ2xvYmFsLnk9KGEuY2xpZW50WS1iLnRvcCkqKHRoaXMudGFyZ2V0LmhlaWdodC9iLmhlaWdodCk7Zm9yKHZhciBjPTAsZD10aGlzLmludGVyYWN0aXZlSXRlbXMubGVuZ3RoO2Q+YztjKyspe3ZhciBlPXRoaXMuaW50ZXJhY3RpdmVJdGVtc1tjXTtlLm1vdXNlbW92ZSYmZS5tb3VzZW1vdmUodGhpcy5tb3VzZSl9fSxwcm90by5vbk1vdXNlRG93bj1mdW5jdGlvbihhKXt0aGlzLm1vdXNlLm9yaWdpbmFsRXZlbnQ9YTtmb3IodmFyIGI9MCxjPXRoaXMuaW50ZXJhY3RpdmVJdGVtcy5sZW5ndGg7Yz5iO2IrKyl7dmFyIGQ9dGhpcy5pbnRlcmFjdGl2ZUl0ZW1zW2JdO2lmKChkLm1vdXNlZG93bnx8ZC5jbGljaykmJihkLl9fbW91c2VJc0Rvd249ITAsZC5fX2hpdD10aGlzLmhpdFRlc3QoZCx0aGlzLm1vdXNlKSxkLl9faGl0JiYoZC5tb3VzZWRvd24mJmQubW91c2Vkb3duKHRoaXMubW91c2UpLGQuX19pc0Rvd249ITAsIWQuaW50ZXJhY3RpdmVDaGlsZHJlbikpKWJyZWFrfX0scHJvdG8ub25Nb3VzZU91dD1mdW5jdGlvbigpe3RoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLmN1cnNvcj1cImluaGVyaXRcIjtmb3IodmFyIGE9MCxiPXRoaXMuaW50ZXJhY3RpdmVJdGVtcy5sZW5ndGg7Yj5hO2ErKyl7dmFyIGM9dGhpcy5pbnRlcmFjdGl2ZUl0ZW1zW2FdO2MuX19pc092ZXImJih0aGlzLm1vdXNlLnRhcmdldD1jLGMubW91c2VvdXQmJmMubW91c2VvdXQodGhpcy5tb3VzZSksYy5fX2lzT3Zlcj0hMSl9fSxwcm90by5vbk1vdXNlVXA9ZnVuY3Rpb24oYSl7dGhpcy5tb3VzZS5vcmlnaW5hbEV2ZW50PWE7Zm9yKHZhciBiPSExLGM9MCxkPXRoaXMuaW50ZXJhY3RpdmVJdGVtcy5sZW5ndGg7ZD5jO2MrKyl7dmFyIGU9dGhpcy5pbnRlcmFjdGl2ZUl0ZW1zW2NdOyhlLm1vdXNldXB8fGUubW91c2V1cG91dHNpZGV8fGUuY2xpY2spJiYoZS5fX2hpdD10aGlzLmhpdFRlc3QoZSx0aGlzLm1vdXNlKSxlLl9faGl0JiYhYj8oZS5tb3VzZXVwJiZlLm1vdXNldXAodGhpcy5tb3VzZSksZS5fX2lzRG93biYmZS5jbGljayYmZS5jbGljayh0aGlzLm1vdXNlKSxlLmludGVyYWN0aXZlQ2hpbGRyZW58fChiPSEwKSk6ZS5fX2lzRG93biYmZS5tb3VzZXVwb3V0c2lkZSYmZS5tb3VzZXVwb3V0c2lkZSh0aGlzLm1vdXNlKSxlLl9faXNEb3duPSExKX19LHByb3RvLmhpdFRlc3Q9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmdsb2JhbDtpZihhLnZjb3VudCE9PWdsb2JhbHMudmlzaWJsZUNvdW50KXJldHVybiExO3ZhciBkPWEgaW5zdGFuY2VvZiBTcHJpdGUsZT1hLndvcmxkVHJhbnNmb3JtLGY9ZVswXSxnPWVbMV0saD1lWzJdLGk9ZVszXSxqPWVbNF0saz1lWzVdLGw9MS8oZipqK2cqLWkpLG09aipsKmMueCstZypsKmMueSsoaypnLWgqaikqbCxuPWYqbCpjLnkrLWkqbCpjLngrKC1rKmYraCppKSpsO2lmKGIudGFyZ2V0PWEsYS5oaXRBcmVhJiZhLmhpdEFyZWEuY29udGFpbnMpcmV0dXJuIGEuaGl0QXJlYS5jb250YWlucyhtLG4pPyhiLnRhcmdldD1hLCEwKTohMTtpZihkKXt2YXIgbyxwPWEudGV4dHVyZS5mcmFtZS53aWR0aCxxPWEudGV4dHVyZS5mcmFtZS5oZWlnaHQscj0tcCphLmFuY2hvci54O2lmKG0+ciYmcitwPm0mJihvPS1xKmEuYW5jaG9yLnksbj5vJiZvK3E+bikpcmV0dXJuIGIudGFyZ2V0PWEsITB9Zm9yKHZhciBzPTAsdD1hLmNoaWxkcmVuLmxlbmd0aDt0PnM7cysrKXt2YXIgdT1hLmNoaWxkcmVuW3NdLHY9dGhpcy5oaXRUZXN0KHUsYik7aWYodilyZXR1cm4gYi50YXJnZXQ9YSwhMH1yZXR1cm4hMX0scHJvdG8ub25Ub3VjaE1vdmU9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaT10aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxqPWEuY2hhbmdlZFRvdWNoZXM7Zm9yKGI9MCxjPWoubGVuZ3RoO2M+YjtiKyspZm9yKGQ9altiXSxlPXRoaXMudG91Y2hzW2QuaWRlbnRpZmllcl0sZS5vcmlnaW5hbEV2ZW50PWEsZS5nbG9iYWwueD0oZC5jbGllbnRYLWkubGVmdCkqKHRoaXMudGFyZ2V0LndpZHRoL2kud2lkdGgpLGUuZ2xvYmFsLnk9KGQuY2xpZW50WS1pLnRvcCkqKHRoaXMudGFyZ2V0LmhlaWdodC9pLmhlaWdodCksZj0wLGc9dGhpcy5pbnRlcmFjdGl2ZUl0ZW1zLmxlbmd0aDtnPmY7ZisrKWg9dGhpcy5pbnRlcmFjdGl2ZUl0ZW1zW2JdLGgudG91Y2htb3ZlJiZoLnRvdWNobW92ZShlKX0scHJvdG8ub25Ub3VjaFN0YXJ0PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxjPWEuY2hhbmdlZFRvdWNoZXMsZD0wLGU9Yy5sZW5ndGg7ZT5kO2QrKyl7dmFyIGY9Y1tkXSxnPXRoaXMucG9vbC5wb3AoKTtnfHwoZz1uZXcgSW50ZXJhY3Rpb25EYXRhKSxnLm9yaWdpbmFsRXZlbnQ9YSx0aGlzLnRvdWNoc1tmLmlkZW50aWZpZXJdPWcsZy5nbG9iYWwueD0oZi5jbGllbnRYLWIubGVmdCkqKHRoaXMudGFyZ2V0LndpZHRoL2Iud2lkdGgpLGcuZ2xvYmFsLnk9KGYuY2xpZW50WS1iLnRvcCkqKHRoaXMudGFyZ2V0LmhlaWdodC9iLmhlaWdodCk7Zm9yKHZhciBoPTAsaT10aGlzLmludGVyYWN0aXZlSXRlbXMubGVuZ3RoO2k+aDtoKyspe3ZhciBqPXRoaXMuaW50ZXJhY3RpdmVJdGVtc1toXTtpZigoai50b3VjaHN0YXJ0fHxqLnRhcCkmJihqLl9faGl0PXRoaXMuaGl0VGVzdChqLGcpLGouX19oaXQmJihqLnRvdWNoc3RhcnQmJmoudG91Y2hzdGFydChnKSxqLl9faXNEb3duPSEwLGouX190b3VjaERhdGE9Zywhai5pbnRlcmFjdGl2ZUNoaWxkcmVuKSkpYnJlYWt9fX0scHJvdG8ub25Ub3VjaEVuZD1mdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYz1hLmNoYW5nZWRUb3VjaGVzLGQ9MCxlPWMubGVuZ3RoO2U+ZDtkKyspe3ZhciBmPWNbZF0sZz10aGlzLnRvdWNoc1tmLmlkZW50aWZpZXJdLGg9ITE7Zy5nbG9iYWwueD0oZi5jbGllbnRYLWIubGVmdCkqKHRoaXMudGFyZ2V0LndpZHRoL2Iud2lkdGgpLGcuZ2xvYmFsLnk9KGYuY2xpZW50WS1iLnRvcCkqKHRoaXMudGFyZ2V0LmhlaWdodC9iLmhlaWdodCk7Zm9yKHZhciBpPTAsaj10aGlzLmludGVyYWN0aXZlSXRlbXMubGVuZ3RoO2o+aTtpKyspe3ZhciBrPXRoaXMuaW50ZXJhY3RpdmVJdGVtc1tpXSxsPWsuX190b3VjaERhdGE7ay5fX2hpdD10aGlzLmhpdFRlc3QoayxnKSxsPT09ZyYmKGcub3JpZ2luYWxFdmVudD1hLChrLnRvdWNoZW5kfHxrLnRhcCkmJihrLl9faGl0JiYhaD8oay50b3VjaGVuZCYmay50b3VjaGVuZChnKSxrLl9faXNEb3duJiZrLnRhcCYmay50YXAoZyksay5pbnRlcmFjdGl2ZUNoaWxkcmVufHwoaD0hMCkpOmsuX19pc0Rvd24mJmsudG91Y2hlbmRvdXRzaWRlJiZrLnRvdWNoZW5kb3V0c2lkZShnKSxrLl9faXNEb3duPSExKSxrLl9fdG91Y2hEYXRhPW51bGwpfXRoaXMucG9vbC5wdXNoKGcpLHRoaXMudG91Y2hzW2YuaWRlbnRpZmllcl09bnVsbH19LG1vZHVsZS5leHBvcnRzPUludGVyYWN0aW9uTWFuYWdlcjsiLCIvKipcbiAqIHBpeGkgMC4yLjEgKDZhYTAwMzApXG4gKiBodHRwOi8vZHJraWJpdHouZ2l0aHViLmlvL25vZGUtcGl4aS9cbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE0IERyLiBLaWJpdHosIGh0dHA6Ly9kcmtpYml0ei5jb21cbiAqIFN1cGVyIGZhc3QgMkQgcmVuZGVyaW5nIGVuZ2luZSBmb3IgYnJvd3NlcmlmeSwgdGhhdCB1c2VzIFdlYkdMIHdpdGggYSBjb250ZXh0IDJkIGZhbGxiYWNrLlxuICogYnVpbHQ6IFN1biBKYW4gMDUgMjAxNCAwMTo1Mzo1OCBHTVQtMDUwMCAoRVNUKVxuICpcbiAqIFBpeGkuanMgLSB2MS4zLjBcbiAqIENvcHlyaWdodCAoYykgMjAxMiwgTWF0IEdyb3Zlc1xuICovXG5cInVzZSBzdHJpY3RcIjttb2R1bGUuZXhwb3J0cz17Z2w6bnVsbCxwcmltaXRpdmVTaGFkZXI6bnVsbCxzdHJpcFNoYWRlcjpudWxsLGRlZmF1bHRTaGFkZXI6bnVsbCxvZmZzZXQ6bnVsbCxwcm9qZWN0aW9uOm51bGwsdGV4dHVyZXNUb1VwZGF0ZTpbXSx0ZXh0dXJlc1RvRGVzdHJveTpbXSx2aXNpYmxlQ291bnQ6MH07IiwiLyoqXG4gKiBwaXhpIDAuMi4xICg2YWEwMDMwKVxuICogaHR0cDovL2Rya2liaXR6LmdpdGh1Yi5pby9ub2RlLXBpeGkvXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNCBEci4gS2liaXR6LCBodHRwOi8vZHJraWJpdHouY29tXG4gKiBTdXBlciBmYXN0IDJEIHJlbmRlcmluZyBlbmdpbmUgZm9yIGJyb3dzZXJpZnksIHRoYXQgdXNlcyBXZWJHTCB3aXRoIGEgY29udGV4dCAyZCBmYWxsYmFjay5cbiAqIGJ1aWx0OiBTdW4gSmFuIDA1IDIwMTQgMDE6NTM6NTggR01ULTA1MDAgKEVTVClcbiAqXG4gKiBQaXhpLmpzIC0gdjEuMy4wXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIsIE1hdCBHcm92ZXNcbiAqL1xuZnVuY3Rpb24gRGlzcGxheU9iamVjdCgpe3RoaXMubGFzdD10aGlzLHRoaXMuZmlyc3Q9dGhpcyx0aGlzLnBvc2l0aW9uPW5ldyBQb2ludCx0aGlzLnNjYWxlPW5ldyBQb2ludCgxLDEpLHRoaXMucGl2b3Q9bmV3IFBvaW50KDAsMCksdGhpcy5yb3RhdGlvbj0wLHRoaXMuYWxwaGE9MSx0aGlzLnZpc2libGU9ITAsdGhpcy5oaXRBcmVhPW51bGwsdGhpcy5idXR0b25Nb2RlPSExLHRoaXMucmVuZGVyYWJsZT0hMSx0aGlzLnBhcmVudD1udWxsLHRoaXMuc3RhZ2U9bnVsbCx0aGlzLndvcmxkQWxwaGE9MSx0aGlzLl9pbnRlcmFjdGl2ZT0hMSx0aGlzLmRlZmF1bHRDdXJzb3I9XCJwb2ludGVyXCIsdGhpcy53b3JsZFRyYW5zZm9ybT1tYXQzLmNyZWF0ZSgpLHRoaXMubG9jYWxUcmFuc2Zvcm09bWF0My5jcmVhdGUoKSx0aGlzLmNvbG9yPVtdLHRoaXMuZHluYW1pYz0hMCx0aGlzLl9zcj0wLHRoaXMuX2NyPTEsdGhpcy5maWx0ZXJBcmVhPW5ldyBSZWN0YW5nbGUoMCwwLDEsMSl9dmFyIGdsb2JhbHM9cmVxdWlyZShcIi4uL2NvcmUvZ2xvYmFsc1wiKSxtYXQzPXJlcXVpcmUoXCIuLi9nZW9tL21hdHJpeFwiKS5tYXQzLEZpbHRlckJsb2NrPXJlcXVpcmUoXCIuLi9maWx0ZXJzL0ZpbHRlckJsb2NrXCIpLFBvaW50PXJlcXVpcmUoXCIuLi9nZW9tL1BvaW50XCIpLFJlY3RhbmdsZT1yZXF1aXJlKFwiLi4vZ2VvbS9SZWN0YW5nbGVcIikscHJvdG89RGlzcGxheU9iamVjdC5wcm90b3R5cGU7cHJvdG8uc2V0SW50ZXJhY3RpdmU9ZnVuY3Rpb24oYSl7dGhpcy5pbnRlcmFjdGl2ZT1hfSxPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sXCJpbnRlcmFjdGl2ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJhY3RpdmV9LHNldDpmdW5jdGlvbihhKXt0aGlzLl9pbnRlcmFjdGl2ZT1hLHRoaXMuc3RhZ2UmJih0aGlzLnN0YWdlLmRpcnR5PSEwKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sXCJtYXNrXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXNrfSxzZXQ6ZnVuY3Rpb24oYSl7YT90aGlzLl9tYXNrPyhhLnN0YXJ0PXRoaXMuX21hc2suc3RhcnQsYS5lbmQ9dGhpcy5fbWFzay5lbmQpOih0aGlzLmFkZEZpbHRlcihhKSxhLnJlbmRlcmFibGU9ITEpOih0aGlzLnJlbW92ZUZpbHRlcih0aGlzLl9tYXNrKSx0aGlzLl9tYXNrLnJlbmRlcmFibGU9ITApLHRoaXMuX21hc2s9YX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sXCJmaWx0ZXJzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWx0ZXJzfSxzZXQ6ZnVuY3Rpb24oYSl7aWYoYSl7dGhpcy5fZmlsdGVycyYmdGhpcy5yZW1vdmVGaWx0ZXIodGhpcy5fZmlsdGVycyksdGhpcy5hZGRGaWx0ZXIoYSk7Zm9yKHZhciBiPVtdLGM9MDtjPGEubGVuZ3RoO2MrKylmb3IodmFyIGQ9YVtjXS5wYXNzZXMsZT0wO2U8ZC5sZW5ndGg7ZSsrKWIucHVzaChkW2VdKTthLnN0YXJ0LmZpbHRlclBhc3Nlcz1ifWVsc2UgdGhpcy5fZmlsdGVycyYmdGhpcy5yZW1vdmVGaWx0ZXIodGhpcy5fZmlsdGVycyk7dGhpcy5fZmlsdGVycz1hfX0pLHByb3RvLmFkZEZpbHRlcj1mdW5jdGlvbihhKXt2YXIgYj1uZXcgRmlsdGVyQmxvY2ssYz1uZXcgRmlsdGVyQmxvY2s7YS5zdGFydD1iLGEuZW5kPWMsYi5kYXRhPWEsYy5kYXRhPWEsYi5maXJzdD1iLmxhc3Q9dGhpcyxjLmZpcnN0PWMubGFzdD10aGlzLGIub3Blbj0hMCxiLnRhcmdldD10aGlzO3ZhciBkLGUsZj1iLGc9YjtlPXRoaXMuZmlyc3QuX2lQcmV2LGU/KGQ9ZS5faU5leHQsZi5faVByZXY9ZSxlLl9pTmV4dD1mKTpkPXRoaXMsZCYmKGQuX2lQcmV2PWcsZy5faU5leHQ9ZCksZj1jLGc9YyxkPW51bGwsZT1udWxsLGU9dGhpcy5sYXN0LGQ9ZS5faU5leHQsZCYmKGQuX2lQcmV2PWcsZy5faU5leHQ9ZCksZi5faVByZXY9ZSxlLl9pTmV4dD1mO2Zvcih2YXIgaD10aGlzLGk9dGhpcy5sYXN0O2g7KWgubGFzdD09PWkmJihoLmxhc3Q9YyksaD1oLnBhcmVudDt0aGlzLmZpcnN0PWIsdGhpcy5fX3JlbmRlckdyb3VwJiZ0aGlzLl9fcmVuZGVyR3JvdXAuYWRkRmlsdGVyQmxvY2tzKGIsYyl9LHByb3RvLnJlbW92ZUZpbHRlcj1mdW5jdGlvbihhKXt2YXIgYj1hLnN0YXJ0LGM9Yi5faU5leHQsZD1iLl9pUHJldjtjJiYoYy5faVByZXY9ZCksZCYmKGQuX2lOZXh0PWMpLHRoaXMuZmlyc3Q9Yi5faU5leHQ7dmFyIGU9YS5lbmQ7Yz1lLl9pTmV4dCxkPWUuX2lQcmV2LGMmJihjLl9pUHJldj1kKSxkLl9pTmV4dD1jO2Zvcih2YXIgZj1lLl9pUHJldixnPXRoaXM7Zy5sYXN0PT09ZSYmKGcubGFzdD1mLGc9Zy5wYXJlbnQpOyk7dGhpcy5fX3JlbmRlckdyb3VwJiZ0aGlzLl9fcmVuZGVyR3JvdXAucmVtb3ZlRmlsdGVyQmxvY2tzKGIsZSl9LHByb3RvLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbigpe3RoaXMucm90YXRpb24hPT10aGlzLnJvdGF0aW9uQ2FjaGUmJih0aGlzLnJvdGF0aW9uQ2FjaGU9dGhpcy5yb3RhdGlvbix0aGlzLl9zcj1NYXRoLnNpbih0aGlzLnJvdGF0aW9uKSx0aGlzLl9jcj1NYXRoLmNvcyh0aGlzLnJvdGF0aW9uKSk7dmFyIGE9dGhpcy5sb2NhbFRyYW5zZm9ybSxiPXRoaXMucGFyZW50LndvcmxkVHJhbnNmb3JtLGM9dGhpcy53b3JsZFRyYW5zZm9ybTthWzBdPXRoaXMuX2NyKnRoaXMuc2NhbGUueCxhWzFdPS10aGlzLl9zcip0aGlzLnNjYWxlLnksYVszXT10aGlzLl9zcip0aGlzLnNjYWxlLngsYVs0XT10aGlzLl9jcip0aGlzLnNjYWxlLnk7dmFyIGQ9dGhpcy5waXZvdC54LGU9dGhpcy5waXZvdC55LGY9YVswXSxnPWFbMV0saD10aGlzLnBvc2l0aW9uLngtYVswXSpkLWUqYVsxXSxpPWFbM10saj1hWzRdLGs9dGhpcy5wb3NpdGlvbi55LWFbNF0qZS1kKmFbM10sbD1iWzBdLG09YlsxXSxuPWJbMl0sbz1iWzNdLHA9Yls0XSxxPWJbNV07YVsyXT1oLGFbNV09ayxjWzBdPWwqZittKmksY1sxXT1sKmcrbSpqLGNbMl09bCpoK20qaytuLGNbM109bypmK3AqaSxjWzRdPW8qZytwKmosY1s1XT1vKmgrcCprK3EsdGhpcy53b3JsZEFscGhhPXRoaXMuYWxwaGEqdGhpcy5wYXJlbnQud29ybGRBbHBoYSx0aGlzLnZjb3VudD1nbG9iYWxzLnZpc2libGVDb3VudH0sbW9kdWxlLmV4cG9ydHM9RGlzcGxheU9iamVjdDsiLCIvKipcbiAqIHBpeGkgMC4yLjEgKDZhYTAwMzApXG4gKiBodHRwOi8vZHJraWJpdHouZ2l0aHViLmlvL25vZGUtcGl4aS9cbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE0IERyLiBLaWJpdHosIGh0dHA6Ly9kcmtpYml0ei5jb21cbiAqIFN1cGVyIGZhc3QgMkQgcmVuZGVyaW5nIGVuZ2luZSBmb3IgYnJvd3NlcmlmeSwgdGhhdCB1c2VzIFdlYkdMIHdpdGggYSBjb250ZXh0IDJkIGZhbGxiYWNrLlxuICogYnVpbHQ6IFN1biBKYW4gMDUgMjAxNCAwMTo1Mzo1OCBHTVQtMDUwMCAoRVNUKVxuICpcbiAqIFBpeGkuanMgLSB2MS4zLjBcbiAqIENvcHlyaWdodCAoYykgMjAxMiwgTWF0IEdyb3Zlc1xuICovXG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBEaXNwbGF5T2JqZWN0Q29udGFpbmVyKCl7RGlzcGxheU9iamVjdC5jYWxsKHRoaXMpLHRoaXMuY2hpbGRyZW49W119dmFyIERpc3BsYXlPYmplY3Q9cmVxdWlyZShcIi4vRGlzcGxheU9iamVjdFwiKSxwcm90bz1EaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKERpc3BsYXlPYmplY3QucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6RGlzcGxheU9iamVjdENvbnRhaW5lcn19KTtwcm90by5hZGRDaGlsZD1mdW5jdGlvbihhKXtpZihhLnBhcmVudCYmYS5wYXJlbnQhPT10aGlzJiZhLnBhcmVudC5yZW1vdmVDaGlsZChhKSxhLnBhcmVudD10aGlzLHRoaXMuY2hpbGRyZW4ucHVzaChhKSx0aGlzLnN0YWdlKXt2YXIgYj1hO2RvIGIuaW50ZXJhY3RpdmUmJih0aGlzLnN0YWdlLmRpcnR5PSEwKSxiLnN0YWdlPXRoaXMuc3RhZ2UsYj1iLl9pTmV4dDt3aGlsZShiKX12YXIgYyxkLGU9YS5maXJzdCxmPWEubGFzdDtkPXRoaXMuX2ZpbHRlcnN8fHRoaXMuX21hc2s/dGhpcy5sYXN0Ll9pUHJldjp0aGlzLmxhc3QsYz1kLl9pTmV4dDtmb3IodmFyIGc9dGhpcyxoPWQ7ZzspZy5sYXN0PT09aCYmKGcubGFzdD1hLmxhc3QpLGc9Zy5wYXJlbnQ7YyYmKGMuX2lQcmV2PWYsZi5faU5leHQ9YyksZS5faVByZXY9ZCxkLl9pTmV4dD1lLHRoaXMuX19yZW5kZXJHcm91cCYmKGEuX19yZW5kZXJHcm91cCYmYS5fX3JlbmRlckdyb3VwLnJlbW92ZURpc3BsYXlPYmplY3RBbmRDaGlsZHJlbihhKSx0aGlzLl9fcmVuZGVyR3JvdXAuYWRkRGlzcGxheU9iamVjdEFuZENoaWxkcmVuKGEpKX0scHJvdG8uYWRkQ2hpbGRBdD1mdW5jdGlvbihhLGIpe2lmKCEoYj49MCYmYjw9dGhpcy5jaGlsZHJlbi5sZW5ndGgpKXRocm93IG5ldyBFcnJvcihhK1wiIFRoZSBpbmRleCBcIitiK1wiIHN1cHBsaWVkIGlzIG91dCBvZiBib3VuZHMgXCIrdGhpcy5jaGlsZHJlbi5sZW5ndGgpO2lmKHZvaWQgMCE9PWEucGFyZW50JiZhLnBhcmVudC5yZW1vdmVDaGlsZChhKSxhLnBhcmVudD10aGlzLHRoaXMuc3RhZ2Upe3ZhciBjPWE7ZG8gYy5pbnRlcmFjdGl2ZSYmKHRoaXMuc3RhZ2UuZGlydHk9ITApLGMuc3RhZ2U9dGhpcy5zdGFnZSxjPWMuX2lOZXh0O3doaWxlKGMpfXZhciBkLGUsZj1hLmZpcnN0LGc9YS5sYXN0O2lmKGI9PT10aGlzLmNoaWxkcmVuLmxlbmd0aCl7ZT10aGlzLmxhc3Q7Zm9yKHZhciBoPXRoaXMsaT10aGlzLmxhc3Q7aDspaC5sYXN0PT09aSYmKGgubGFzdD1hLmxhc3QpLGg9aC5wYXJlbnR9ZWxzZSBlPTA9PT1iP3RoaXM6dGhpcy5jaGlsZHJlbltiLTFdLmxhc3Q7ZD1lLl9pTmV4dCxkJiYoZC5faVByZXY9ZyxnLl9pTmV4dD1kKSxmLl9pUHJldj1lLGUuX2lOZXh0PWYsdGhpcy5jaGlsZHJlbi5zcGxpY2UoYiwwLGEpLHRoaXMuX19yZW5kZXJHcm91cCYmKGEuX19yZW5kZXJHcm91cCYmYS5fX3JlbmRlckdyb3VwLnJlbW92ZURpc3BsYXlPYmplY3RBbmRDaGlsZHJlbihhKSx0aGlzLl9fcmVuZGVyR3JvdXAuYWRkRGlzcGxheU9iamVjdEFuZENoaWxkcmVuKGEpKX0scHJvdG8uc3dhcENoaWxkcmVuPWZ1bmN0aW9uKGEsYil7aWYoYSE9PWIpe3ZhciBjPXRoaXMuY2hpbGRyZW4uaW5kZXhPZihhKSxkPXRoaXMuY2hpbGRyZW4uaW5kZXhPZihiKTtpZigwPmN8fDA+ZCl0aHJvdyBuZXcgRXJyb3IoXCJzd2FwQ2hpbGRyZW46IEJvdGggdGhlIHN1cHBsaWVkIERpc3BsYXlPYmplY3RzIG11c3QgYmUgYSBjaGlsZCBvZiB0aGUgY2FsbGVyLlwiKTt0aGlzLnJlbW92ZUNoaWxkKGEpLHRoaXMucmVtb3ZlQ2hpbGQoYiksZD5jPyh0aGlzLmFkZENoaWxkQXQoYixjKSx0aGlzLmFkZENoaWxkQXQoYSxkKSk6KHRoaXMuYWRkQ2hpbGRBdChhLGQpLHRoaXMuYWRkQ2hpbGRBdChiLGMpKX19LHByb3RvLmdldENoaWxkQXQ9ZnVuY3Rpb24oYSl7aWYoYT49MCYmYTx0aGlzLmNoaWxkcmVuLmxlbmd0aClyZXR1cm4gdGhpcy5jaGlsZHJlblthXTt0aHJvdyBuZXcgRXJyb3IoXCJCb3RoIHRoZSBzdXBwbGllZCBEaXNwbGF5T2JqZWN0cyBtdXN0IGJlIGEgY2hpbGQgb2YgdGhlIGNhbGxlciBcIit0aGlzKX0scHJvdG8ucmVtb3ZlQ2hpbGQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jaGlsZHJlbi5pbmRleE9mKGEpO2lmKC0xPT09Yil0aHJvdyBuZXcgRXJyb3IoYStcIiBUaGUgc3VwcGxpZWQgRGlzcGxheU9iamVjdCBtdXN0IGJlIGEgY2hpbGQgb2YgdGhlIGNhbGxlciBcIit0aGlzKTt2YXIgYz1hLmZpcnN0LGQ9YS5sYXN0LGU9ZC5faU5leHQsZj1jLl9pUHJldjtpZihlJiYoZS5faVByZXY9ZiksZi5faU5leHQ9ZSx0aGlzLmxhc3Q9PT1kKWZvcih2YXIgZz1jLl9pUHJldixoPXRoaXM7aC5sYXN0PT09ZCYmKGgubGFzdD1nLGg9aC5wYXJlbnQpOyk7aWYoZC5faU5leHQ9bnVsbCxjLl9pUHJldj1udWxsLHRoaXMuc3RhZ2Upe3ZhciBpPWE7ZG8gaS5pbnRlcmFjdGl2ZSYmKHRoaXMuc3RhZ2UuZGlydHk9ITApLGkuc3RhZ2U9bnVsbCxpPWkuX2lOZXh0O3doaWxlKGkpfWEuX19yZW5kZXJHcm91cCYmYS5fX3JlbmRlckdyb3VwLnJlbW92ZURpc3BsYXlPYmplY3RBbmRDaGlsZHJlbihhKSxhLnBhcmVudD12b2lkIDAsdGhpcy5jaGlsZHJlbi5zcGxpY2UoYiwxKX0scHJvdG8udXBkYXRlVHJhbnNmb3JtPWZ1bmN0aW9uKCl7aWYodGhpcy52aXNpYmxlKXtEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0uY2FsbCh0aGlzKTtmb3IodmFyIGE9MCxiPXRoaXMuY2hpbGRyZW4ubGVuZ3RoO2I+YTthKyspdGhpcy5jaGlsZHJlblthXS51cGRhdGVUcmFuc2Zvcm0oKX19LG1vZHVsZS5leHBvcnRzPURpc3BsYXlPYmplY3RDb250YWluZXI7IiwiLyoqXG4gKiBwaXhpIDAuMi4xICg2YWEwMDMwKVxuICogaHR0cDovL2Rya2liaXR6LmdpdGh1Yi5pby9ub2RlLXBpeGkvXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNCBEci4gS2liaXR6LCBodHRwOi8vZHJraWJpdHouY29tXG4gKiBTdXBlciBmYXN0IDJEIHJlbmRlcmluZyBlbmdpbmUgZm9yIGJyb3dzZXJpZnksIHRoYXQgdXNlcyBXZWJHTCB3aXRoIGEgY29udGV4dCAyZCBmYWxsYmFjay5cbiAqIGJ1aWx0OiBTdW4gSmFuIDA1IDIwMTQgMDE6NTM6NTggR01ULTA1MDAgKEVTVClcbiAqXG4gKiBQaXhpLmpzIC0gdjEuMy4wXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIsIE1hdCBHcm92ZXNcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gTW92aWVDbGlwKGEpe1Nwcml0ZS5jYWxsKHRoaXMsYVswXSksdGhpcy50ZXh0dXJlcz1hLHRoaXMuYW5pbWF0aW9uU3BlZWQ9MSx0aGlzLmxvb3A9ITAsdGhpcy5vbkNvbXBsZXRlPW51bGwsdGhpcy5jdXJyZW50RnJhbWU9MCx0aGlzLnBsYXlpbmc9ITF9dmFyIFNwcml0ZT1yZXF1aXJlKFwiLi9TcHJpdGVcIikscHJvdG89TW92aWVDbGlwLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFNwcml0ZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpNb3ZpZUNsaXB9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLFwidG90YWxGcmFtZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dHVyZXMubGVuZ3RofX0pLHByb3RvLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLnBsYXlpbmc9ITF9LHByb3RvLnBsYXk9ZnVuY3Rpb24oKXt0aGlzLnBsYXlpbmc9ITB9LHByb3RvLmdvdG9BbmRTdG9wPWZ1bmN0aW9uKGEpe3RoaXMucGxheWluZz0hMSx0aGlzLmN1cnJlbnRGcmFtZT1hO3ZhciBiPXRoaXMuY3VycmVudEZyYW1lKy41fDA7dGhpcy5zZXRUZXh0dXJlKHRoaXMudGV4dHVyZXNbYiV0aGlzLnRleHR1cmVzLmxlbmd0aF0pfSxwcm90by5nb3RvQW5kUGxheT1mdW5jdGlvbihhKXt0aGlzLmN1cnJlbnRGcmFtZT1hLHRoaXMucGxheWluZz0hMH0scHJvdG8udXBkYXRlVHJhbnNmb3JtPWZ1bmN0aW9uKCl7aWYoU3ByaXRlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0uY2FsbCh0aGlzKSx0aGlzLnBsYXlpbmcpe3RoaXMuY3VycmVudEZyYW1lKz10aGlzLmFuaW1hdGlvblNwZWVkO3ZhciBhPXRoaXMuY3VycmVudEZyYW1lKy41fDA7dGhpcy5sb29wfHxhPHRoaXMudGV4dHVyZXMubGVuZ3RoP3RoaXMuc2V0VGV4dHVyZSh0aGlzLnRleHR1cmVzW2EldGhpcy50ZXh0dXJlcy5sZW5ndGhdKTphPj10aGlzLnRleHR1cmVzLmxlbmd0aCYmKHRoaXMuZ290b0FuZFN0b3AodGhpcy50ZXh0dXJlcy5sZW5ndGgtMSksdGhpcy5vbkNvbXBsZXRlJiZ0aGlzLm9uQ29tcGxldGUoKSl9fSxtb2R1bGUuZXhwb3J0cz1Nb3ZpZUNsaXA7IiwiLyoqXG4gKiBwaXhpIDAuMi4xICg2YWEwMDMwKVxuICogaHR0cDovL2Rya2liaXR6LmdpdGh1Yi5pby9ub2RlLXBpeGkvXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNCBEci4gS2liaXR6LCBodHRwOi8vZHJraWJpdHouY29tXG4gKiBTdXBlciBmYXN0IDJEIHJlbmRlcmluZyBlbmdpbmUgZm9yIGJyb3dzZXJpZnksIHRoYXQgdXNlcyBXZWJHTCB3aXRoIGEgY29udGV4dCAyZCBmYWxsYmFjay5cbiAqIGJ1aWx0OiBTdW4gSmFuIDA1IDIwMTQgMDE6NTM6NTggR01ULTA1MDAgKEVTVClcbiAqXG4gKiBQaXhpLmpzIC0gdjEuMy4wXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIsIE1hdCBHcm92ZXNcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gU3ByaXRlKGEpe2lmKERpc3BsYXlPYmplY3RDb250YWluZXIuY2FsbCh0aGlzKSx0aGlzLmFuY2hvcj1uZXcgUG9pbnQsdGhpcy50ZXh0dXJlPWEsdGhpcy5ibGVuZE1vZGU9YmxlbmRNb2Rlcy5OT1JNQUwsdGhpcy5fd2lkdGg9MCx0aGlzLl9oZWlnaHQ9MCxhLmJhc2VUZXh0dXJlLmhhc0xvYWRlZCl0aGlzLnVwZGF0ZUZyYW1lPSEwO2Vsc2V7dmFyIGI9dGhpczt0aGlzLnRleHR1cmUuYWRkRXZlbnRMaXN0ZW5lcihcInVwZGF0ZVwiLGZ1bmN0aW9uKCl7Yi5vblRleHR1cmVVcGRhdGUoKX0pfXRoaXMucmVuZGVyYWJsZT0hMH12YXIgYmxlbmRNb2Rlcz1yZXF1aXJlKFwiLi9ibGVuZE1vZGVzXCIpLERpc3BsYXlPYmplY3RDb250YWluZXI9cmVxdWlyZShcIi4vRGlzcGxheU9iamVjdENvbnRhaW5lclwiKSxQb2ludD1yZXF1aXJlKFwiLi4vZ2VvbS9Qb2ludFwiKSxUZXh0dXJlPXJlcXVpcmUoXCIuLi90ZXh0dXJlcy9UZXh0dXJlXCIpLHByb3RvPVNwcml0ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShEaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOlNwcml0ZX19KTtPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sXCJ3aWR0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zY2FsZS54KnRoaXMudGV4dHVyZS5mcmFtZS53aWR0aH0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuc2NhbGUueD1hL3RoaXMudGV4dHVyZS5mcmFtZS53aWR0aCx0aGlzLl93aWR0aD1hfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90byxcImhlaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zY2FsZS55KnRoaXMudGV4dHVyZS5mcmFtZS5oZWlnaHR9LHNldDpmdW5jdGlvbihhKXt0aGlzLnNjYWxlLnk9YS90aGlzLnRleHR1cmUuZnJhbWUuaGVpZ2h0LHRoaXMuX2hlaWdodD1hfX0pLHByb3RvLnNldFRleHR1cmU9ZnVuY3Rpb24oYSl7dGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlIT09YS5iYXNlVGV4dHVyZT8odGhpcy50ZXh0dXJlQ2hhbmdlPSEwLHRoaXMudGV4dHVyZT1hLHRoaXMuX19yZW5kZXJHcm91cCYmdGhpcy5fX3JlbmRlckdyb3VwLnVwZGF0ZVRleHR1cmUodGhpcykpOnRoaXMudGV4dHVyZT1hLHRoaXMudXBkYXRlRnJhbWU9ITB9LHByb3RvLm9uVGV4dHVyZVVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuX3dpZHRoJiYodGhpcy5zY2FsZS54PXRoaXMuX3dpZHRoL3RoaXMudGV4dHVyZS5mcmFtZS53aWR0aCksdGhpcy5faGVpZ2h0JiYodGhpcy5zY2FsZS55PXRoaXMuX2hlaWdodC90aGlzLnRleHR1cmUuZnJhbWUuaGVpZ2h0KSx0aGlzLnVwZGF0ZUZyYW1lPSEwfSxTcHJpdGUuZnJvbUZyYW1lPWZ1bmN0aW9uKGEpe3ZhciBiPVRleHR1cmUuY2FjaGVbYV07aWYoIWIpdGhyb3cgbmV3IEVycm9yKCdUaGUgZnJhbWVJZCBcIicrYSsnXCIgZG9lcyBub3QgZXhpc3QgaW4gdGhlIHRleHR1cmUgY2FjaGUnK3RoaXMpO3JldHVybiBuZXcgU3ByaXRlKGIpfSxTcHJpdGUuZnJvbUltYWdlPWZ1bmN0aW9uKGEpe3ZhciBiPVRleHR1cmUuZnJvbUltYWdlKGEpO3JldHVybiBuZXcgU3ByaXRlKGIpfSxtb2R1bGUuZXhwb3J0cz1TcHJpdGU7IiwiLyoqXG4gKiBwaXhpIDAuMi4xICg2YWEwMDMwKVxuICogaHR0cDovL2Rya2liaXR6LmdpdGh1Yi5pby9ub2RlLXBpeGkvXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNCBEci4gS2liaXR6LCBodHRwOi8vZHJraWJpdHouY29tXG4gKiBTdXBlciBmYXN0IDJEIHJlbmRlcmluZyBlbmdpbmUgZm9yIGJyb3dzZXJpZnksIHRoYXQgdXNlcyBXZWJHTCB3aXRoIGEgY29udGV4dCAyZCBmYWxsYmFjay5cbiAqIGJ1aWx0OiBTdW4gSmFuIDA1IDIwMTQgMDE6NTM6NTggR01ULTA1MDAgKEVTVClcbiAqXG4gKiBQaXhpLmpzIC0gdjEuMy4wXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIsIE1hdCBHcm92ZXNcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gU3RhZ2UoYSl7RGlzcGxheU9iamVjdENvbnRhaW5lci5jYWxsKHRoaXMpLHRoaXMud29ybGRUcmFuc2Zvcm09bWF0My5jcmVhdGUoKSx0aGlzLmludGVyYWN0aXZlPSEwLHRoaXMuaW50ZXJhY3Rpb25NYW5hZ2VyPW5ldyBJbnRlcmFjdGlvbk1hbmFnZXIodGhpcyksdGhpcy5kaXJ0eT0hMCx0aGlzLl9fY2hpbGRyZW5BZGRlZD1bXSx0aGlzLl9fY2hpbGRyZW5SZW1vdmVkPVtdLHRoaXMuc3RhZ2U9dGhpcyx0aGlzLnN0YWdlLmhpdEFyZWE9bmV3IFJlY3RhbmdsZSgwLDAsMWU1LDFlNSksdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IoYSksdGhpcy53b3JsZFZpc2libGU9ITB9dmFyIGdsb2JhbHM9cmVxdWlyZShcIi4uL2NvcmUvZ2xvYmFsc1wiKSxtYXQzPXJlcXVpcmUoXCIuLi9nZW9tL21hdHJpeFwiKS5tYXQzLGhleDJyZ2I9cmVxdWlyZShcIi4uL3V0aWxzL2NvbG9yXCIpLmhleDJyZ2IsRGlzcGxheU9iamVjdENvbnRhaW5lcj1yZXF1aXJlKFwiLi9EaXNwbGF5T2JqZWN0Q29udGFpbmVyXCIpLEludGVyYWN0aW9uTWFuYWdlcj1yZXF1aXJlKFwiLi4vSW50ZXJhY3Rpb25NYW5hZ2VyXCIpLFJlY3RhbmdsZT1yZXF1aXJlKFwiLi4vZ2VvbS9SZWN0YW5nbGVcIikscHJvdG89U3RhZ2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRGlzcGxheU9iamVjdENvbnRhaW5lci5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpTdGFnZX19KTtwcm90by5zZXRJbnRlcmFjdGlvbkRlbGVnYXRlPWZ1bmN0aW9uKGEpe3RoaXMuaW50ZXJhY3Rpb25NYW5hZ2VyLnNldFRhcmdldERvbUVsZW1lbnQoYSl9LHByb3RvLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbigpe3RoaXMud29ybGRBbHBoYT0xLHRoaXMudmNvdW50PWdsb2JhbHMudmlzaWJsZUNvdW50O2Zvcih2YXIgYT0wLGI9dGhpcy5jaGlsZHJlbi5sZW5ndGg7Yj5hO2ErKyl0aGlzLmNoaWxkcmVuW2FdLnVwZGF0ZVRyYW5zZm9ybSgpO3RoaXMuZGlydHkmJih0aGlzLmRpcnR5PSExLHRoaXMuaW50ZXJhY3Rpb25NYW5hZ2VyLmRpcnR5PSEwKSx0aGlzLmludGVyYWN0aXZlJiZ0aGlzLmludGVyYWN0aW9uTWFuYWdlci51cGRhdGUoKX0scHJvdG8uc2V0QmFja2dyb3VuZENvbG9yPWZ1bmN0aW9uKGEpe3RoaXMuYmFja2dyb3VuZENvbG9yPWF8fDAsdGhpcy5iYWNrZ3JvdW5kQ29sb3JTcGxpdD1oZXgycmdiKHRoaXMuYmFja2dyb3VuZENvbG9yKTt2YXIgYj10aGlzLmJhY2tncm91bmRDb2xvci50b1N0cmluZygxNik7Yj1cIjAwMDAwMFwiLnN1YnN0cigwLDYtYi5sZW5ndGgpK2IsdGhpcy5iYWNrZ3JvdW5kQ29sb3JTdHJpbmc9XCIjXCIrYn0scHJvdG8uZ2V0TW91c2VQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVyYWN0aW9uTWFuYWdlci5tb3VzZS5nbG9iYWx9LG1vZHVsZS5leHBvcnRzPVN0YWdlOyIsIi8qKlxuICogcGl4aSAwLjIuMSAoNmFhMDAzMClcbiAqIGh0dHA6Ly9kcmtpYml0ei5naXRodWIuaW8vbm9kZS1waXhpL1xuICogQ29weXJpZ2h0IChjKSAyMDEzLTIwMTQgRHIuIEtpYml0eiwgaHR0cDovL2Rya2liaXR6LmNvbVxuICogU3VwZXIgZmFzdCAyRCByZW5kZXJpbmcgZW5naW5lIGZvciBicm93c2VyaWZ5LCB0aGF0IHVzZXMgV2ViR0wgd2l0aCBhIGNvbnRleHQgMmQgZmFsbGJhY2suXG4gKiBidWlsdDogU3VuIEphbiAwNSAyMDE0IDAxOjUzOjU4IEdNVC0wNTAwIChFU1QpXG4gKlxuICogUGl4aS5qcyAtIHYxLjMuMFxuICogQ29weXJpZ2h0IChjKSAyMDEyLCBNYXQgR3JvdmVzXG4gKi9cblwidXNlIHN0cmljdFwiO21vZHVsZS5leHBvcnRzPXtOT1JNQUw6MCxTQ1JFRU46MX07IiwiLyoqXG4gKiBwaXhpIDAuMi4xICg2YWEwMDMwKVxuICogaHR0cDovL2Rya2liaXR6LmdpdGh1Yi5pby9ub2RlLXBpeGkvXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNCBEci4gS2liaXR6LCBodHRwOi8vZHJraWJpdHouY29tXG4gKiBTdXBlciBmYXN0IDJEIHJlbmRlcmluZyBlbmdpbmUgZm9yIGJyb3dzZXJpZnksIHRoYXQgdXNlcyBXZWJHTCB3aXRoIGEgY29udGV4dCAyZCBmYWxsYmFjay5cbiAqIGJ1aWx0OiBTdW4gSmFuIDA1IDIwMTQgMDE6NTM6NTggR01ULTA1MDAgKEVTVClcbiAqXG4gKiBQaXhpLmpzIC0gdjEuMy4wXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIsIE1hdCBHcm92ZXNcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gRXZlbnRUYXJnZXQoKXt2YXIgYT17fTt0aGlzLmFkZEV2ZW50TGlzdGVuZXI9dGhpcy5vbj1mdW5jdGlvbihiLGMpe3ZvaWQgMD09PWFbYl0mJihhW2JdPVtdKSwtMT09PWFbYl0uaW5kZXhPZihjKSYmYVtiXS5wdXNoKGMpfSx0aGlzLmRpc3BhdGNoRXZlbnQ9dGhpcy5lbWl0PWZ1bmN0aW9uKGIpe2lmKGFbYi50eXBlXSYmYVtiLnR5cGVdLmxlbmd0aClmb3IodmFyIGM9MCxkPWFbYi50eXBlXS5sZW5ndGg7ZD5jO2MrKylhW2IudHlwZV1bY10oYil9LHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcj10aGlzLm9mZj1mdW5jdGlvbihiLGMpe3ZhciBkPWFbYl0uaW5kZXhPZihjKTstMSE9PWQmJmFbYl0uc3BsaWNlKGQsMSl9LHRoaXMucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnM9ZnVuY3Rpb24oYil7dmFyIGM9YVtiXTtjJiYoYy5sZW5ndGg9MCl9fW1vZHVsZS5leHBvcnRzPUV2ZW50VGFyZ2V0OyIsIi8qKlxuICogcGl4aSAwLjIuMSAoNmFhMDAzMClcbiAqIGh0dHA6Ly9kcmtpYml0ei5naXRodWIuaW8vbm9kZS1waXhpL1xuICogQ29weXJpZ2h0IChjKSAyMDEzLTIwMTQgRHIuIEtpYml0eiwgaHR0cDovL2Rya2liaXR6LmNvbVxuICogU3VwZXIgZmFzdCAyRCByZW5kZXJpbmcgZW5naW5lIGZvciBicm93c2VyaWZ5LCB0aGF0IHVzZXMgV2ViR0wgd2l0aCBhIGNvbnRleHQgMmQgZmFsbGJhY2suXG4gKiBidWlsdDogU3VuIEphbiAwNSAyMDE0IDAxOjUzOjU4IEdNVC0wNTAwIChFU1QpXG4gKlxuICogUGl4aS5qcyAtIHYxLjMuMFxuICogQ29weXJpZ2h0IChjKSAyMDEyLCBNYXQgR3JvdmVzXG4gKi9cblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIEN1c3RvbVJlbmRlcmFibGUoKXtEaXNwbGF5T2JqZWN0LmNhbGwodGhpcyksdGhpcy5yZW5kZXJhYmxlPSEwfXZhciBEaXNwbGF5T2JqZWN0PXJlcXVpcmUoXCIuLi9kaXNwbGF5L0Rpc3BsYXlPYmplY3RcIikscHJvdG89Q3VzdG9tUmVuZGVyYWJsZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOkN1c3RvbVJlbmRlcmFibGV9fSk7cHJvdG8ucmVuZGVyQ2FudmFzPWZ1bmN0aW9uKCl7fSxwcm90by5pbml0V2ViR0w9ZnVuY3Rpb24oKXt9LHByb3RvLnJlbmRlcldlYkdMPWZ1bmN0aW9uKCl7fSxtb2R1bGUuZXhwb3J0cz1DdXN0b21SZW5kZXJhYmxlOyIsIi8qKlxuICogcGl4aSAwLjIuMSAoNmFhMDAzMClcbiAqIGh0dHA6Ly9kcmtpYml0ei5naXRodWIuaW8vbm9kZS1waXhpL1xuICogQ29weXJpZ2h0IChjKSAyMDEzLTIwMTQgRHIuIEtpYml0eiwgaHR0cDovL2Rya2liaXR6LmNvbVxuICogU3VwZXIgZmFzdCAyRCByZW5kZXJpbmcgZW5naW5lIGZvciBicm93c2VyaWZ5LCB0aGF0IHVzZXMgV2ViR0wgd2l0aCBhIGNvbnRleHQgMmQgZmFsbGJhY2suXG4gKiBidWlsdDogU3VuIEphbiAwNSAyMDE0IDAxOjUzOjU4IEdNVC0wNTAwIChFU1QpXG4gKlxuICogUGl4aS5qcyAtIHYxLjMuMFxuICogQ29weXJpZ2h0IChjKSAyMDEyLCBNYXQgR3JvdmVzXG4gKi9cblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIFJvcGUoYSxiKXtTdHJpcC5jYWxsKHRoaXMsYSksdGhpcy5wb2ludHM9Yjt0cnl7dGhpcy52ZXJ0aWNpZXM9bmV3IEZsb2F0MzJBcnJheSg0KmIubGVuZ3RoKSx0aGlzLnV2cz1uZXcgRmxvYXQzMkFycmF5KDQqYi5sZW5ndGgpLHRoaXMuY29sb3JzPW5ldyBGbG9hdDMyQXJyYXkoMipiLmxlbmd0aCksdGhpcy5pbmRpY2VzPW5ldyBVaW50MTZBcnJheSgyKmIubGVuZ3RoKX1jYXRjaChjKXt0aGlzLnZlcnRpY2llcz1uZXcgQXJyYXkoNCpiLmxlbmd0aCksdGhpcy51dnM9bmV3IEFycmF5KDQqYi5sZW5ndGgpLHRoaXMuY29sb3JzPW5ldyBBcnJheSgyKmIubGVuZ3RoKSx0aGlzLmluZGljZXM9bmV3IEFycmF5KDIqYi5sZW5ndGgpfXRoaXMucmVmcmVzaCgpfXZhciBTdHJpcD1yZXF1aXJlKFwiLi9TdHJpcFwiKSxEaXNwbGF5T2JqZWN0Q29udGFpbmVyPXJlcXVpcmUoXCIuLi9kaXNwbGF5L0Rpc3BsYXlPYmplY3RDb250YWluZXJcIikscHJvdG89Um9wZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShTdHJpcC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpSb3BlfX0pO3Byb3RvLnJlZnJlc2g9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBvaW50cztpZighKGEubGVuZ3RoPDEpKXt2YXIgYj10aGlzLnV2cyxjPWFbMF0sZD10aGlzLmluZGljZXMsZT10aGlzLmNvbG9yczt0aGlzLmNvdW50LT0uMixiWzBdPTAsYlsxXT0xLGJbMl09MCxiWzNdPTEsZVswXT0xLGVbMV09MSxkWzBdPTAsZFsxXT0xO2Zvcih2YXIgZixnLGgsaT1hLmxlbmd0aCxqPTE7aT5qO2orKylmPWFbal0sZz00KmosaD1qLyhpLTEpLGolMj8oYltnXT1oLGJbZysxXT0wLGJbZysyXT1oLGJbZyszXT0xKTooYltnXT1oLGJbZysxXT0wLGJbZysyXT1oLGJbZyszXT0xKSxnPTIqaixlW2ddPTEsZVtnKzFdPTEsZz0yKmosZFtnXT1nLGRbZysxXT1nKzEsYz1mfX0scHJvdG8udXBkYXRlVHJhbnNmb3JtPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5wb2ludHM7aWYoIShhLmxlbmd0aDwxKSl7dmFyIGIsYz1hWzBdLGQ9e3g6MCx5OjB9O3RoaXMuY291bnQtPS4yO3ZhciBlPXRoaXMudmVydGljaWVzO2VbMF09Yy54K2QueCxlWzFdPWMueStkLnksZVsyXT1jLngtZC54LGVbM109Yy55LWQueTtmb3IodmFyIGYsZyxoLGksaixrPWEubGVuZ3RoLGw9MTtrPmw7bCsrKWY9YVtsXSxnPTQqbCxiPWw8YS5sZW5ndGgtMT9hW2wrMV06ZixkLnk9LShiLngtYy54KSxkLng9Yi55LWMueSxoPTEwKigxLWwvKGstMSkpLGg+MSYmKGg9MSksaT1NYXRoLnNxcnQoZC54KmQueCtkLnkqZC55KSxqPXRoaXMudGV4dHVyZS5oZWlnaHQvMixkLngvPWksZC55Lz1pLGQueCo9aixkLnkqPWosZVtnXT1mLngrZC54LGVbZysxXT1mLnkrZC55LGVbZysyXT1mLngtZC54LGVbZyszXT1mLnktZC55LGM9ZjtEaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0uY2FsbCh0aGlzKX19LHByb3RvLnNldFRleHR1cmU9ZnVuY3Rpb24oYSl7dGhpcy50ZXh0dXJlPWEsdGhpcy51cGRhdGVGcmFtZT0hMH0sbW9kdWxlLmV4cG9ydHM9Um9wZTsiLCIvKipcbiAqIHBpeGkgMC4yLjEgKDZhYTAwMzApXG4gKiBodHRwOi8vZHJraWJpdHouZ2l0aHViLmlvL25vZGUtcGl4aS9cbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE0IERyLiBLaWJpdHosIGh0dHA6Ly9kcmtpYml0ei5jb21cbiAqIFN1cGVyIGZhc3QgMkQgcmVuZGVyaW5nIGVuZ2luZSBmb3IgYnJvd3NlcmlmeSwgdGhhdCB1c2VzIFdlYkdMIHdpdGggYSBjb250ZXh0IDJkIGZhbGxiYWNrLlxuICogYnVpbHQ6IFN1biBKYW4gMDUgMjAxNCAwMTo1Mzo1OCBHTVQtMDUwMCAoRVNUKVxuICpcbiAqIFBpeGkuanMgLSB2MS4zLjBcbiAqIENvcHlyaWdodCAoYykgMjAxMiwgTWF0IEdyb3Zlc1xuICovXG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBTcGluZShhKXtpZihEaXNwbGF5T2JqZWN0Q29udGFpbmVyLmNhbGwodGhpcyksdGhpcy5zcGluZURhdGE9U3BpbmUuYW5pbUNhY2hlW2FdLCF0aGlzLnNwaW5lRGF0YSl0aHJvdyBuZXcgRXJyb3IoXCJTcGluZSBkYXRhIG11c3QgYmUgcHJlbG9hZGVkIHVzaW5nIFNwaW5lTG9hZGVyIG9yIEFzc2V0TG9hZGVyOiBcIithKTt0aGlzLnNrZWxldG9uPW5ldyBzcGluZS5Ta2VsZXRvbih0aGlzLnNwaW5lRGF0YSksdGhpcy5za2VsZXRvbi51cGRhdGVXb3JsZFRyYW5zZm9ybSgpLHRoaXMuc3RhdGVEYXRhPW5ldyBzcGluZS5BbmltYXRpb25TdGF0ZURhdGEodGhpcy5zcGluZURhdGEpLHRoaXMuc3RhdGU9bmV3IHNwaW5lLkFuaW1hdGlvblN0YXRlKHRoaXMuc3RhdGVEYXRhKSx0aGlzLnNsb3RDb250YWluZXJzPVtdO2Zvcih2YXIgYj0wLGM9dGhpcy5za2VsZXRvbi5kcmF3T3JkZXIubGVuZ3RoO2M+YjtiKyspe3ZhciBkPXRoaXMuc2tlbGV0b24uZHJhd09yZGVyW2JdLGU9ZC5hdHRhY2htZW50LGY9bmV3IERpc3BsYXlPYmplY3RDb250YWluZXI7aWYodGhpcy5zbG90Q29udGFpbmVycy5wdXNoKGYpLHRoaXMuYWRkQ2hpbGQoZiksZSBpbnN0YW5jZW9mIHNwaW5lLlJlZ2lvbkF0dGFjaG1lbnQpe3ZhciBnPWUucmVuZGVyZXJPYmplY3QubmFtZSxoPXRoaXMuY3JlYXRlU3ByaXRlKGQsZS5yZW5kZXJlck9iamVjdCk7ZC5jdXJyZW50U3ByaXRlPWgsZC5jdXJyZW50U3ByaXRlTmFtZT1nLGYuYWRkQ2hpbGQoaCl9fX12YXIgc3BpbmU9cmVxdWlyZShcIi4uL3V0aWxzL3NwaW5lXCIpLERpc3BsYXlPYmplY3RDb250YWluZXI9cmVxdWlyZShcIi4uL2Rpc3BsYXkvRGlzcGxheU9iamVjdENvbnRhaW5lclwiKSxTcHJpdGU9cmVxdWlyZShcIi4uL2Rpc3BsYXkvU3ByaXRlXCIpLFRleHR1cmU9cmVxdWlyZShcIi4uL3RleHR1cmVzL1RleHR1cmVcIikscHJvdG89U3BpbmUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRGlzcGxheU9iamVjdENvbnRhaW5lci5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpTcGluZX19KTtwcm90by51cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24oKXt0aGlzLmxhc3RUaW1lPXRoaXMubGFzdFRpbWV8fERhdGUubm93KCk7dmFyIGE9LjAwMSooRGF0ZS5ub3coKS10aGlzLmxhc3RUaW1lKTt0aGlzLmxhc3RUaW1lPURhdGUubm93KCksdGhpcy5zdGF0ZS51cGRhdGUoYSksdGhpcy5zdGF0ZS5hcHBseSh0aGlzLnNrZWxldG9uKSx0aGlzLnNrZWxldG9uLnVwZGF0ZVdvcmxkVHJhbnNmb3JtKCk7Zm9yKHZhciBiPXRoaXMuc2tlbGV0b24uZHJhd09yZGVyLGM9MCxkPWIubGVuZ3RoO2Q+YztjKyspe3ZhciBlPWJbY10sZj1lLmF0dGFjaG1lbnQsZz10aGlzLnNsb3RDb250YWluZXJzW2NdO2lmKGYgaW5zdGFuY2VvZiBzcGluZS5SZWdpb25BdHRhY2htZW50KXtpZihmLnJlbmRlcmVyT2JqZWN0JiYoIWUuY3VycmVudFNwcml0ZU5hbWV8fGUuY3VycmVudFNwcml0ZU5hbWUhPT1mLm5hbWUpKXt2YXIgaD1mLnJlbmRlcmVyT2JqZWN0Lm5hbWU7aWYodm9pZCAwIT09ZS5jdXJyZW50U3ByaXRlJiYoZS5jdXJyZW50U3ByaXRlLnZpc2libGU9ITEpLGUuc3ByaXRlcz1lLnNwcml0ZXN8fHt9LHZvaWQgMCE9PWUuc3ByaXRlc1toXSllLnNwcml0ZXNbaF0udmlzaWJsZT0hMDtlbHNle3ZhciBpPXRoaXMuY3JlYXRlU3ByaXRlKGUsZi5yZW5kZXJlck9iamVjdCk7Zy5hZGRDaGlsZChpKX1lLmN1cnJlbnRTcHJpdGU9ZS5zcHJpdGVzW2hdLGUuY3VycmVudFNwcml0ZU5hbWU9aH1nLnZpc2libGU9ITA7dmFyIGo9ZS5ib25lO2cucG9zaXRpb24ueD1qLndvcmxkWCtmLngqai5tMDArZi55KmoubTAxLGcucG9zaXRpb24ueT1qLndvcmxkWStmLngqai5tMTArZi55KmoubTExLGcuc2NhbGUueD1qLndvcmxkU2NhbGVYLGcuc2NhbGUueT1qLndvcmxkU2NhbGVZLGcucm90YXRpb249LShlLmJvbmUud29ybGRSb3RhdGlvbipNYXRoLlBJLzE4MCl9ZWxzZSBnLnZpc2libGU9ITF9RGlzcGxheU9iamVjdENvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtLmNhbGwodGhpcyl9LHByb3RvLmNyZWF0ZVNwcml0ZT1mdW5jdGlvbihhLGIpe3ZhciBjPVRleHR1cmUuY2FjaGVbYi5uYW1lXT9iLm5hbWU6Yi5uYW1lK1wiLnBuZ1wiLGQ9bmV3IFNwcml0ZShUZXh0dXJlLmZyb21GcmFtZShjKSk7cmV0dXJuIGQuc2NhbGU9Yi5zY2FsZSxkLnJvdGF0aW9uPWIucm90YXRpb24sZC5hbmNob3IueD1kLmFuY2hvci55PS41LGEuc3ByaXRlcz1hLnNwcml0ZXN8fHt9LGEuc3ByaXRlc1tiLm5hbWVdPWQsZH0sU3BpbmUuYW5pbUNhY2hlPXt9LG1vZHVsZS5leHBvcnRzPVNwaW5lOyIsIi8qKlxuICogcGl4aSAwLjIuMSAoNmFhMDAzMClcbiAqIGh0dHA6Ly9kcmtpYml0ei5naXRodWIuaW8vbm9kZS1waXhpL1xuICogQ29weXJpZ2h0IChjKSAyMDEzLTIwMTQgRHIuIEtpYml0eiwgaHR0cDovL2Rya2liaXR6LmNvbVxuICogU3VwZXIgZmFzdCAyRCByZW5kZXJpbmcgZW5naW5lIGZvciBicm93c2VyaWZ5LCB0aGF0IHVzZXMgV2ViR0wgd2l0aCBhIGNvbnRleHQgMmQgZmFsbGJhY2suXG4gKiBidWlsdDogU3VuIEphbiAwNSAyMDE0IDAxOjUzOjU4IEdNVC0wNTAwIChFU1QpXG4gKlxuICogUGl4aS5qcyAtIHYxLjMuMFxuICogQ29weXJpZ2h0IChjKSAyMDEyLCBNYXQgR3JvdmVzXG4gKi9cblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIFN0cmlwKGEsYixjKXtEaXNwbGF5T2JqZWN0Q29udGFpbmVyLmNhbGwodGhpcyksdGhpcy50ZXh0dXJlPWEsdGhpcy5ibGVuZE1vZGU9YmxlbmRNb2Rlcy5OT1JNQUw7dHJ5e3RoaXMudXZzPW5ldyBGbG9hdDMyQXJyYXkoWzAsMSwxLDEsMSwwLDAsMV0pLHRoaXMudmVydGljaWVzPW5ldyBGbG9hdDMyQXJyYXkoWzAsMCwwLDAsMCwwLDAsMCwwXSksdGhpcy5jb2xvcnM9bmV3IEZsb2F0MzJBcnJheShbMSwxLDEsMV0pLHRoaXMuaW5kaWNlcz1uZXcgVWludDE2QXJyYXkoWzAsMSwyLDNdKX1jYXRjaChkKXt0aGlzLnV2cz1bMCwxLDEsMSwxLDAsMCwxXSx0aGlzLnZlcnRpY2llcz1bMCwwLDAsMCwwLDAsMCwwLDBdLHRoaXMuY29sb3JzPVsxLDEsMSwxXSx0aGlzLmluZGljZXM9WzAsMSwyLDNdfWlmKHRoaXMud2lkdGg9Yix0aGlzLmhlaWdodD1jLGEuYmFzZVRleHR1cmUuaGFzTG9hZGVkKXRoaXMud2lkdGg9dGhpcy50ZXh0dXJlLmZyYW1lLndpZHRoLHRoaXMuaGVpZ2h0PXRoaXMudGV4dHVyZS5mcmFtZS5oZWlnaHQsdGhpcy51cGRhdGVGcmFtZT0hMDtlbHNle3ZhciBlPXRoaXM7dGhpcy50ZXh0dXJlLmFkZEV2ZW50TGlzdGVuZXIoXCJ1cGRhdGVcIixmdW5jdGlvbigpe2Uub25UZXh0dXJlVXBkYXRlKCl9KX10aGlzLnJlbmRlcmFibGU9ITB9dmFyIGJsZW5kTW9kZXM9cmVxdWlyZShcIi4uL2Rpc3BsYXkvYmxlbmRNb2Rlc1wiKSxEaXNwbGF5T2JqZWN0Q29udGFpbmVyPXJlcXVpcmUoXCIuLi9kaXNwbGF5L0Rpc3BsYXlPYmplY3RDb250YWluZXJcIikscHJvdG89U3RyaXAucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRGlzcGxheU9iamVjdENvbnRhaW5lci5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpTdHJpcH19KTtwcm90by5zZXRUZXh0dXJlPWZ1bmN0aW9uKGEpe3RoaXMudGV4dHVyZT1hLHRoaXMud2lkdGg9YS5mcmFtZS53aWR0aCx0aGlzLmhlaWdodD1hLmZyYW1lLmhlaWdodCx0aGlzLnVwZGF0ZUZyYW1lPSEwfSxwcm90by5vblRleHR1cmVVcGRhdGU9ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZUZyYW1lPSEwfSxtb2R1bGUuZXhwb3J0cz1TdHJpcDsiLCIvKipcbiAqIHBpeGkgMC4yLjEgKDZhYTAwMzApXG4gKiBodHRwOi8vZHJraWJpdHouZ2l0aHViLmlvL25vZGUtcGl4aS9cbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE0IERyLiBLaWJpdHosIGh0dHA6Ly9kcmtpYml0ei5jb21cbiAqIFN1cGVyIGZhc3QgMkQgcmVuZGVyaW5nIGVuZ2luZSBmb3IgYnJvd3NlcmlmeSwgdGhhdCB1c2VzIFdlYkdMIHdpdGggYSBjb250ZXh0IDJkIGZhbGxiYWNrLlxuICogYnVpbHQ6IFN1biBKYW4gMDUgMjAxNCAwMTo1Mzo1OCBHTVQtMDUwMCAoRVNUKVxuICpcbiAqIFBpeGkuanMgLSB2MS4zLjBcbiAqIENvcHlyaWdodCAoYykgMjAxMiwgTWF0IEdyb3Zlc1xuICovXG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBUaWxpbmdTcHJpdGUoYSxiLGMpe0Rpc3BsYXlPYmplY3RDb250YWluZXIuY2FsbCh0aGlzKSx0aGlzLnRleHR1cmU9YSx0aGlzLndpZHRoPWIsdGhpcy5oZWlnaHQ9Yyx0aGlzLnRpbGVTY2FsZT1uZXcgUG9pbnQoMSwxKSx0aGlzLnRpbGVQb3NpdGlvbj1uZXcgUG9pbnQoMCwwKSx0aGlzLnJlbmRlcmFibGU9ITAsdGhpcy5ibGVuZE1vZGU9YmxlbmRNb2Rlcy5OT1JNQUx9dmFyIGJsZW5kTW9kZXM9cmVxdWlyZShcIi4uL2Rpc3BsYXkvYmxlbmRNb2Rlc1wiKSxEaXNwbGF5T2JqZWN0Q29udGFpbmVyPXJlcXVpcmUoXCIuLi9kaXNwbGF5L0Rpc3BsYXlPYmplY3RDb250YWluZXJcIiksUG9pbnQ9cmVxdWlyZShcIi4uL2dlb20vUG9pbnRcIikscHJvdG89VGlsaW5nU3ByaXRlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKERpc3BsYXlPYmplY3RDb250YWluZXIucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6VGlsaW5nU3ByaXRlfX0pO3Byb3RvLnNldFRleHR1cmU9ZnVuY3Rpb24oYSl7dGhpcy50ZXh0dXJlPWEsdGhpcy51cGRhdGVGcmFtZT0hMH0scHJvdG8ub25UZXh0dXJlVXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVGcmFtZT0hMH0sbW9kdWxlLmV4cG9ydHM9VGlsaW5nU3ByaXRlOyIsIi8qKlxuICogcGl4aSAwLjIuMSAoNmFhMDAzMClcbiAqIGh0dHA6Ly9kcmtpYml0ei5naXRodWIuaW8vbm9kZS1waXhpL1xuICogQ29weXJpZ2h0IChjKSAyMDEzLTIwMTQgRHIuIEtpYml0eiwgaHR0cDovL2Rya2liaXR6LmNvbVxuICogU3VwZXIgZmFzdCAyRCByZW5kZXJpbmcgZW5naW5lIGZvciBicm93c2VyaWZ5LCB0aGF0IHVzZXMgV2ViR0wgd2l0aCBhIGNvbnRleHQgMmQgZmFsbGJhY2suXG4gKiBidWlsdDogU3VuIEphbiAwNSAyMDE0IDAxOjUzOjU4IEdNVC0wNTAwIChFU1QpXG4gKlxuICogUGl4aS5qcyAtIHYxLjMuMFxuICogQ29weXJpZ2h0IChjKSAyMDEyLCBNYXQgR3JvdmVzXG4gKi9cblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIEFic3RyYWN0RmlsdGVyKGEsYil7dGhpcy5wYXNzZXM9W3RoaXNdLHRoaXMuZGlydHk9ITAsdGhpcy5wYWRkaW5nPTAsdGhpcy51bmlmb3Jtcz1ifHx7fSx0aGlzLmZyYWdtZW50U3JjPWF8fFtdfW1vZHVsZS5leHBvcnRzPUFic3RyYWN0RmlsdGVyOyIsIi8qKlxuICogcGl4aSAwLjIuMSAoNmFhMDAzMClcbiAqIGh0dHA6Ly9kcmtpYml0ei5naXRodWIuaW8vbm9kZS1waXhpL1xuICogQ29weXJpZ2h0IChjKSAyMDEzLTIwMTQgRHIuIEtpYml0eiwgaHR0cDovL2Rya2liaXR6LmNvbVxuICogU3VwZXIgZmFzdCAyRCByZW5kZXJpbmcgZW5naW5lIGZvciBicm93c2VyaWZ5LCB0aGF0IHVzZXMgV2ViR0wgd2l0aCBhIGNvbnRleHQgMmQgZmFsbGJhY2suXG4gKiBidWlsdDogU3VuIEphbiAwNSAyMDE0IDAxOjUzOjU4IEdNVC0wNTAwIChFU1QpXG4gKlxuICogUGl4aS5qcyAtIHYxLjMuMFxuICogQ29weXJpZ2h0IChjKSAyMDEyLCBNYXQgR3JvdmVzXG4gKi9cblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIEJsdXJGaWx0ZXIoKXt0aGlzLmJsdXJYRmlsdGVyPW5ldyBCbHVyWEZpbHRlcix0aGlzLmJsdXJZRmlsdGVyPW5ldyBCbHVyWUZpbHRlcix0aGlzLnBhc3Nlcz1bdGhpcy5ibHVyWEZpbHRlcix0aGlzLmJsdXJZRmlsdGVyXX12YXIgQmx1clhGaWx0ZXI9cmVxdWlyZShcIi4vQmx1clhGaWx0ZXJcIiksQmx1cllGaWx0ZXI9cmVxdWlyZShcIi4vQmx1cllGaWx0ZXJcIikscHJvdG89Qmx1ckZpbHRlci5wcm90b3R5cGU7T2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLFwiYmx1clwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5ibHVyfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5ibHVyWEZpbHRlci5ibHVyPXRoaXMuYmx1cllGaWx0ZXIuYmx1cj1hfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90byxcImJsdXJYXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJsdXJYRmlsdGVyLmJsdXJ9LHNldDpmdW5jdGlvbihhKXt0aGlzLmJsdXJYRmlsdGVyLmJsdXI9YX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sXCJibHVyWVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ibHVyWUZpbHRlci5ibHVyfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5ibHVyWUZpbHRlci5ibHVyPWF9fSksbW9kdWxlLmV4cG9ydHM9Qmx1ckZpbHRlcjsiLCIvKipcbiAqIHBpeGkgMC4yLjEgKDZhYTAwMzApXG4gKiBodHRwOi8vZHJraWJpdHouZ2l0aHViLmlvL25vZGUtcGl4aS9cbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE0IERyLiBLaWJpdHosIGh0dHA6Ly9kcmtpYml0ei5jb21cbiAqIFN1cGVyIGZhc3QgMkQgcmVuZGVyaW5nIGVuZ2luZSBmb3IgYnJvd3NlcmlmeSwgdGhhdCB1c2VzIFdlYkdMIHdpdGggYSBjb250ZXh0IDJkIGZhbGxiYWNrLlxuICogYnVpbHQ6IFN1biBKYW4gMDUgMjAxNCAwMTo1Mzo1OCBHTVQtMDUwMCAoRVNUKVxuICpcbiAqIFBpeGkuanMgLSB2MS4zLjBcbiAqIENvcHlyaWdodCAoYykgMjAxMiwgTWF0IEdyb3Zlc1xuICovXG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBCbHVyWEZpbHRlcigpe0Fic3RyYWN0RmlsdGVyLmNhbGwodGhpcyksdGhpcy5wYXNzZXM9W3RoaXNdLHRoaXMudW5pZm9ybXM9e2JsdXI6e3R5cGU6XCIxZlwiLHZhbHVlOjEvNTEyfX0sdGhpcy5mcmFnbWVudFNyYz1bXCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcIixcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1wiLFwidmFyeWluZyBmbG9hdCB2Q29sb3I7XCIsXCJ1bmlmb3JtIGZsb2F0IGJsdXI7XCIsXCJ1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcIixcInZvaWQgbWFpbih2b2lkKSB7XCIsXCIgICB2ZWM0IHN1bSA9IHZlYzQoMC4wKTtcIixcIiAgIHN1bSArPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZlYzIodlRleHR1cmVDb29yZC54IC0gNC4wKmJsdXIsIHZUZXh0dXJlQ29vcmQueSkpICogMC4wNTtcIixcIiAgIHN1bSArPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZlYzIodlRleHR1cmVDb29yZC54IC0gMy4wKmJsdXIsIHZUZXh0dXJlQ29vcmQueSkpICogMC4wOTtcIixcIiAgIHN1bSArPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZlYzIodlRleHR1cmVDb29yZC54IC0gMi4wKmJsdXIsIHZUZXh0dXJlQ29vcmQueSkpICogMC4xMjtcIixcIiAgIHN1bSArPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZlYzIodlRleHR1cmVDb29yZC54IC0gYmx1ciwgdlRleHR1cmVDb29yZC55KSkgKiAwLjE1O1wiLFwiICAgc3VtICs9IHRleHR1cmUyRCh1U2FtcGxlciwgdmVjMih2VGV4dHVyZUNvb3JkLngsIHZUZXh0dXJlQ29vcmQueSkpICogMC4xNjtcIixcIiAgIHN1bSArPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZlYzIodlRleHR1cmVDb29yZC54ICsgYmx1ciwgdlRleHR1cmVDb29yZC55KSkgKiAwLjE1O1wiLFwiICAgc3VtICs9IHRleHR1cmUyRCh1U2FtcGxlciwgdmVjMih2VGV4dHVyZUNvb3JkLnggKyAyLjAqYmx1ciwgdlRleHR1cmVDb29yZC55KSkgKiAwLjEyO1wiLFwiICAgc3VtICs9IHRleHR1cmUyRCh1U2FtcGxlciwgdmVjMih2VGV4dHVyZUNvb3JkLnggKyAzLjAqYmx1ciwgdlRleHR1cmVDb29yZC55KSkgKiAwLjA5O1wiLFwiICAgc3VtICs9IHRleHR1cmUyRCh1U2FtcGxlciwgdmVjMih2VGV4dHVyZUNvb3JkLnggKyA0LjAqYmx1ciwgdlRleHR1cmVDb29yZC55KSkgKiAwLjA1O1wiLFwiICAgZ2xfRnJhZ0NvbG9yID0gc3VtO1wiLFwifVwiXX12YXIgQWJzdHJhY3RGaWx0ZXI9cmVxdWlyZShcIi4vQWJzdHJhY3RGaWx0ZXJcIikscHJvdG89Qmx1clhGaWx0ZXIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQWJzdHJhY3RGaWx0ZXIucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6Qmx1clhGaWx0ZXJ9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLFwiYmx1clwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmlmb3Jtcy5ibHVyLnZhbHVlLygxLzdlMyl9LHNldDpmdW5jdGlvbihhKXt0aGlzLmRpcnR5PSEwLHRoaXMudW5pZm9ybXMuYmx1ci52YWx1ZT0xLzdlMyphfX0pLG1vZHVsZS5leHBvcnRzPUJsdXJYRmlsdGVyOyIsIi8qKlxuICogcGl4aSAwLjIuMSAoNmFhMDAzMClcbiAqIGh0dHA6Ly9kcmtpYml0ei5naXRodWIuaW8vbm9kZS1waXhpL1xuICogQ29weXJpZ2h0IChjKSAyMDEzLTIwMTQgRHIuIEtpYml0eiwgaHR0cDovL2Rya2liaXR6LmNvbVxuICogU3VwZXIgZmFzdCAyRCByZW5kZXJpbmcgZW5naW5lIGZvciBicm93c2VyaWZ5LCB0aGF0IHVzZXMgV2ViR0wgd2l0aCBhIGNvbnRleHQgMmQgZmFsbGJhY2suXG4gKiBidWlsdDogU3VuIEphbiAwNSAyMDE0IDAxOjUzOjU4IEdNVC0wNTAwIChFU1QpXG4gKlxuICogUGl4aS5qcyAtIHYxLjMuMFxuICogQ29weXJpZ2h0IChjKSAyMDEyLCBNYXQgR3JvdmVzXG4gKi9cblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIEJsdXJZRmlsdGVyKCl7QWJzdHJhY3RGaWx0ZXIuY2FsbCh0aGlzKSx0aGlzLnBhc3Nlcz1bdGhpc10sdGhpcy51bmlmb3Jtcz17Ymx1cjp7dHlwZTpcIjFmXCIsdmFsdWU6MS81MTJ9fSx0aGlzLmZyYWdtZW50U3JjPVtcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1wiLFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XCIsXCJ2YXJ5aW5nIGZsb2F0IHZDb2xvcjtcIixcInVuaWZvcm0gZmxvYXQgYmx1cjtcIixcInVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1wiLFwidm9pZCBtYWluKHZvaWQpIHtcIixcIiAgIHZlYzQgc3VtID0gdmVjNCgwLjApO1wiLFwiICAgc3VtICs9IHRleHR1cmUyRCh1U2FtcGxlciwgdmVjMih2VGV4dHVyZUNvb3JkLngsIHZUZXh0dXJlQ29vcmQueSAtIDQuMCpibHVyKSkgKiAwLjA1O1wiLFwiICAgc3VtICs9IHRleHR1cmUyRCh1U2FtcGxlciwgdmVjMih2VGV4dHVyZUNvb3JkLngsIHZUZXh0dXJlQ29vcmQueSAtIDMuMCpibHVyKSkgKiAwLjA5O1wiLFwiICAgc3VtICs9IHRleHR1cmUyRCh1U2FtcGxlciwgdmVjMih2VGV4dHVyZUNvb3JkLngsIHZUZXh0dXJlQ29vcmQueSAtIDIuMCpibHVyKSkgKiAwLjEyO1wiLFwiICAgc3VtICs9IHRleHR1cmUyRCh1U2FtcGxlciwgdmVjMih2VGV4dHVyZUNvb3JkLngsIHZUZXh0dXJlQ29vcmQueSAtIGJsdXIpKSAqIDAuMTU7XCIsXCIgICBzdW0gKz0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2ZWMyKHZUZXh0dXJlQ29vcmQueCwgdlRleHR1cmVDb29yZC55KSkgKiAwLjE2O1wiLFwiICAgc3VtICs9IHRleHR1cmUyRCh1U2FtcGxlciwgdmVjMih2VGV4dHVyZUNvb3JkLngsIHZUZXh0dXJlQ29vcmQueSArIGJsdXIpKSAqIDAuMTU7XCIsXCIgICBzdW0gKz0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2ZWMyKHZUZXh0dXJlQ29vcmQueCwgdlRleHR1cmVDb29yZC55ICsgMi4wKmJsdXIpKSAqIDAuMTI7XCIsXCIgICBzdW0gKz0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2ZWMyKHZUZXh0dXJlQ29vcmQueCwgdlRleHR1cmVDb29yZC55ICsgMy4wKmJsdXIpKSAqIDAuMDk7XCIsXCIgICBzdW0gKz0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2ZWMyKHZUZXh0dXJlQ29vcmQueCwgdlRleHR1cmVDb29yZC55ICsgNC4wKmJsdXIpKSAqIDAuMDU7XCIsXCIgICBnbF9GcmFnQ29sb3IgPSBzdW07XCIsXCJ9XCJdfXZhciBBYnN0cmFjdEZpbHRlcj1yZXF1aXJlKFwiLi9BYnN0cmFjdEZpbHRlclwiKSxwcm90bz1CbHVyWUZpbHRlci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShBYnN0cmFjdEZpbHRlci5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpCbHVyWUZpbHRlcn19KTtPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sXCJibHVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuaWZvcm1zLmJsdXIudmFsdWUvKDEvN2UzKX0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMudW5pZm9ybXMuYmx1ci52YWx1ZT0xLzdlMyphfX0pLG1vZHVsZS5leHBvcnRzPUJsdXJZRmlsdGVyOyIsIi8qKlxuICogcGl4aSAwLjIuMSAoNmFhMDAzMClcbiAqIGh0dHA6Ly9kcmtpYml0ei5naXRodWIuaW8vbm9kZS1waXhpL1xuICogQ29weXJpZ2h0IChjKSAyMDEzLTIwMTQgRHIuIEtpYml0eiwgaHR0cDovL2Rya2liaXR6LmNvbVxuICogU3VwZXIgZmFzdCAyRCByZW5kZXJpbmcgZW5naW5lIGZvciBicm93c2VyaWZ5LCB0aGF0IHVzZXMgV2ViR0wgd2l0aCBhIGNvbnRleHQgMmQgZmFsbGJhY2suXG4gKiBidWlsdDogU3VuIEphbiAwNSAyMDE0IDAxOjUzOjU4IEdNVC0wNTAwIChFU1QpXG4gKlxuICogUGl4aS5qcyAtIHYxLjMuMFxuICogQ29weXJpZ2h0IChjKSAyMDEyLCBNYXQgR3JvdmVzXG4gKi9cblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIENvbG9yTWF0cml4RmlsdGVyKCl7QWJzdHJhY3RGaWx0ZXIuY2FsbCh0aGlzKSx0aGlzLnBhc3Nlcz1bdGhpc10sdGhpcy51bmlmb3Jtcz17bWF0cml4Ont0eXBlOlwibWF0NFwiLHZhbHVlOlsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxXX19LHRoaXMuZnJhZ21lbnRTcmM9W1wicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XCIsXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcIixcInZhcnlpbmcgZmxvYXQgdkNvbG9yO1wiLFwidW5pZm9ybSBmbG9hdCBpbnZlcnQ7XCIsXCJ1bmlmb3JtIG1hdDQgbWF0cml4O1wiLFwidW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XCIsXCJ2b2lkIG1haW4odm9pZCkge1wiLFwiICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIG1hdHJpeDtcIixcIiAgIGdsX0ZyYWdDb2xvciA9IGdsX0ZyYWdDb2xvciAqIHZDb2xvcjtcIixcIn1cIl19dmFyIEFic3RyYWN0RmlsdGVyPXJlcXVpcmUoXCIuL0Fic3RyYWN0RmlsdGVyXCIpLHByb3RvPUNvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEFic3RyYWN0RmlsdGVyLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOkNvbG9yTWF0cml4RmlsdGVyfX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90byxcIm1hdHJpeFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmlmb3Jtcy5tYXRyaXgudmFsdWV9LHNldDpmdW5jdGlvbihhKXt0aGlzLnVuaWZvcm1zLm1hdHJpeC52YWx1ZT1hfX0pLG1vZHVsZS5leHBvcnRzPUNvbG9yTWF0cml4RmlsdGVyOyIsIi8qKlxuICogcGl4aSAwLjIuMSAoNmFhMDAzMClcbiAqIGh0dHA6Ly9kcmtpYml0ei5naXRodWIuaW8vbm9kZS1waXhpL1xuICogQ29weXJpZ2h0IChjKSAyMDEzLTIwMTQgRHIuIEtpYml0eiwgaHR0cDovL2Rya2liaXR6LmNvbVxuICogU3VwZXIgZmFzdCAyRCByZW5kZXJpbmcgZW5naW5lIGZvciBicm93c2VyaWZ5LCB0aGF0IHVzZXMgV2ViR0wgd2l0aCBhIGNvbnRleHQgMmQgZmFsbGJhY2suXG4gKiBidWlsdDogU3VuIEphbiAwNSAyMDE0IDAxOjUzOjU4IEdNVC0wNTAwIChFU1QpXG4gKlxuICogUGl4aS5qcyAtIHYxLjMuMFxuICogQ29weXJpZ2h0IChjKSAyMDEyLCBNYXQgR3JvdmVzXG4gKi9cblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIENvbG9yU3RlcEZpbHRlcigpe0Fic3RyYWN0RmlsdGVyLmNhbGwodGhpcyksdGhpcy5wYXNzZXM9W3RoaXNdLHRoaXMudW5pZm9ybXM9e3N0ZXA6e3R5cGU6XCIxZlwiLHZhbHVlOjV9fSx0aGlzLmZyYWdtZW50U3JjPVtcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1wiLFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XCIsXCJ2YXJ5aW5nIGZsb2F0IHZDb2xvcjtcIixcInVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1wiLFwidW5pZm9ybSBmbG9hdCBzdGVwO1wiLFwidm9pZCBtYWluKHZvaWQpIHtcIixcIiAgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1wiLFwiICAgY29sb3IgPSBmbG9vcihjb2xvciAqIHN0ZXApIC8gc3RlcDtcIixcIiAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yICogdkNvbG9yO1wiLFwifVwiXX12YXIgQWJzdHJhY3RGaWx0ZXI9cmVxdWlyZShcIi4vQWJzdHJhY3RGaWx0ZXJcIikscHJvdG89Q29sb3JTdGVwRmlsdGVyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEFic3RyYWN0RmlsdGVyLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOkNvbG9yU3RlcEZpbHRlcn19KTtPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sXCJzdGVwXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuaWZvcm1zLnN0ZXAudmFsdWV9LHNldDpmdW5jdGlvbihhKXt0aGlzLnVuaWZvcm1zLnN0ZXAudmFsdWU9YX19KSxtb2R1bGUuZXhwb3J0cz1Db2xvclN0ZXBGaWx0ZXI7IiwiLyoqXG4gKiBwaXhpIDAuMi4xICg2YWEwMDMwKVxuICogaHR0cDovL2Rya2liaXR6LmdpdGh1Yi5pby9ub2RlLXBpeGkvXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNCBEci4gS2liaXR6LCBodHRwOi8vZHJraWJpdHouY29tXG4gKiBTdXBlciBmYXN0IDJEIHJlbmRlcmluZyBlbmdpbmUgZm9yIGJyb3dzZXJpZnksIHRoYXQgdXNlcyBXZWJHTCB3aXRoIGEgY29udGV4dCAyZCBmYWxsYmFjay5cbiAqIGJ1aWx0OiBTdW4gSmFuIDA1IDIwMTQgMDE6NTM6NTggR01ULTA1MDAgKEVTVClcbiAqXG4gKiBQaXhpLmpzIC0gdjEuMy4wXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIsIE1hdCBHcm92ZXNcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gQ3Jvc3NIYXRjaEZpbHRlcigpe0Fic3RyYWN0RmlsdGVyLmNhbGwodGhpcyksdGhpcy5wYXNzZXM9W3RoaXNdLHRoaXMudW5pZm9ybXM9e2JsdXI6e3R5cGU6XCIxZlwiLHZhbHVlOjEvNTEyfX0sdGhpcy5mcmFnbWVudFNyYz1bXCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcIixcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1wiLFwidmFyeWluZyBmbG9hdCB2Q29sb3I7XCIsXCJ1bmlmb3JtIGZsb2F0IGJsdXI7XCIsXCJ1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcIixcInZvaWQgbWFpbih2b2lkKSB7XCIsXCIgICAgZmxvYXQgbHVtID0gbGVuZ3RoKHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZC54eSkucmdiKTtcIixcIiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDEuMCwgMS4wLCAxLjAsIDEuMCk7XCIsXCIgICAgaWYgKGx1bSA8IDEuMDApIHtcIixcIiAgICAgICAgaWYgKG1vZChnbF9GcmFnQ29vcmQueCArIGdsX0ZyYWdDb29yZC55LCAxMC4wKSA9PSAwLjApIHtcIixcIiAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMC4wLCAwLjAsIDAuMCwgMS4wKTtcIixcIiAgICAgICAgfVwiLFwiICAgIH1cIixcIiAgICBpZiAobHVtIDwgMC43NSkge1wiLFwiICAgICAgICBpZiAobW9kKGdsX0ZyYWdDb29yZC54IC0gZ2xfRnJhZ0Nvb3JkLnksIDEwLjApID09IDAuMCkge1wiLFwiICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjAsIDAuMCwgMC4wLCAxLjApO1wiLFwiICAgICAgICB9XCIsXCIgICAgfVwiLFwiICAgIGlmIChsdW0gPCAwLjUwKSB7XCIsXCIgICAgICAgIGlmIChtb2QoZ2xfRnJhZ0Nvb3JkLnggKyBnbF9GcmFnQ29vcmQueSAtIDUuMCwgMTAuMCkgPT0gMC4wKSB7XCIsXCIgICAgICAgICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCwgMC4wLCAwLjAsIDEuMCk7XCIsXCIgICAgICAgIH1cIixcIiAgICB9XCIsXCIgICAgaWYgKGx1bSA8IDAuMykge1wiLFwiICAgICAgICBpZiAobW9kKGdsX0ZyYWdDb29yZC54IC0gZ2xfRnJhZ0Nvb3JkLnkgLSA1LjAsIDEwLjApID09IDAuMCkge1wiLFwiICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjAsIDAuMCwgMC4wLCAxLjApO1wiLFwiICAgICAgICB9XCIsXCIgICAgfVwiLFwifVwiXX12YXIgQWJzdHJhY3RGaWx0ZXI9cmVxdWlyZShcIi4vQWJzdHJhY3RGaWx0ZXJcIikscHJvdG89Q3Jvc3NIYXRjaEZpbHRlci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShBYnN0cmFjdEZpbHRlci5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpDcm9zc0hhdGNoRmlsdGVyfX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90byxcImJsdXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5pZm9ybXMuYmx1ci52YWx1ZS8oMS83ZTMpfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy51bmlmb3Jtcy5ibHVyLnZhbHVlPTEvN2UzKmF9fSksbW9kdWxlLmV4cG9ydHM9Q3Jvc3NIYXRjaEZpbHRlcjsiLCIvKipcbiAqIHBpeGkgMC4yLjEgKDZhYTAwMzApXG4gKiBodHRwOi8vZHJraWJpdHouZ2l0aHViLmlvL25vZGUtcGl4aS9cbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE0IERyLiBLaWJpdHosIGh0dHA6Ly9kcmtpYml0ei5jb21cbiAqIFN1cGVyIGZhc3QgMkQgcmVuZGVyaW5nIGVuZ2luZSBmb3IgYnJvd3NlcmlmeSwgdGhhdCB1c2VzIFdlYkdMIHdpdGggYSBjb250ZXh0IDJkIGZhbGxiYWNrLlxuICogYnVpbHQ6IFN1biBKYW4gMDUgMjAxNCAwMTo1Mzo1OCBHTVQtMDUwMCAoRVNUKVxuICpcbiAqIFBpeGkuanMgLSB2MS4zLjBcbiAqIENvcHlyaWdodCAoYykgMjAxMiwgTWF0IEdyb3Zlc1xuICovXG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBEaXNwbGFjZW1lbnRGaWx0ZXIoYSl7QWJzdHJhY3RGaWx0ZXIuY2FsbCh0aGlzKSx0aGlzLnBhc3Nlcz1bdGhpc10sYS5iYXNlVGV4dHVyZS5fcG93ZXJPZjI9ITAsdGhpcy51bmlmb3Jtcz17ZGlzcGxhY2VtZW50TWFwOnt0eXBlOlwic2FtcGxlcjJEXCIsdmFsdWU6YX0sc2NhbGU6e3R5cGU6XCIyZlwiLHZhbHVlOnt4OjMwLHk6MzB9fSxvZmZzZXQ6e3R5cGU6XCIyZlwiLHZhbHVlOnt4OjAseTowfX0sbWFwRGltZW5zaW9uczp7dHlwZTpcIjJmXCIsdmFsdWU6e3g6MSx5OjUxMTJ9fSxkaW1lbnNpb25zOnt0eXBlOlwiNGZ2XCIsdmFsdWU6WzAsMCwwLDBdfX0sYS5iYXNlVGV4dHVyZS5oYXNMb2FkZWQ/KHRoaXMudW5pZm9ybXMubWFwRGltZW5zaW9ucy52YWx1ZS54PWEud2lkdGgsdGhpcy51bmlmb3Jtcy5tYXBEaW1lbnNpb25zLnZhbHVlLnk9YS5oZWlnaHQpOih0aGlzLmJvdW5kTG9hZGVkRnVuY3Rpb249dGhpcy5vblRleHR1cmVMb2FkZWQuYmluZCh0aGlzKSxhLmJhc2VUZXh0dXJlLm9uKFwibG9hZGVkXCIsdGhpcy5ib3VuZExvYWRlZEZ1bmN0aW9uKSksdGhpcy5mcmFnbWVudFNyYz1bXCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcIixcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1wiLFwidmFyeWluZyBmbG9hdCB2Q29sb3I7XCIsXCJ1bmlmb3JtIHNhbXBsZXIyRCBkaXNwbGFjZW1lbnRNYXA7XCIsXCJ1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcIixcInVuaWZvcm0gdmVjMiBzY2FsZTtcIixcInVuaWZvcm0gdmVjMiBvZmZzZXQ7XCIsXCJ1bmlmb3JtIHZlYzQgZGltZW5zaW9ucztcIixcInVuaWZvcm0gdmVjMiBtYXBEaW1lbnNpb25zO1wiLFwidm9pZCBtYWluKHZvaWQpIHtcIixcIiAgIHZlYzIgbWFwQ29yZHMgPSB2VGV4dHVyZUNvb3JkLnh5O1wiLFwiICAgbWFwQ29yZHMgKz0gKGRpbWVuc2lvbnMuencgKyBvZmZzZXQpLyBkaW1lbnNpb25zLnh5IDtcIixcIiAgIG1hcENvcmRzLnkgKj0gLTEuMDtcIixcIiAgIG1hcENvcmRzLnkgKz0gMS4wO1wiLFwiICAgdmVjMiBtYXRTYW1wbGUgPSB0ZXh0dXJlMkQoZGlzcGxhY2VtZW50TWFwLCBtYXBDb3JkcykueHk7XCIsXCIgICBtYXRTYW1wbGUgLT0gMC41O1wiLFwiICAgbWF0U2FtcGxlICo9IHNjYWxlO1wiLFwiICAgbWF0U2FtcGxlIC89IG1hcERpbWVuc2lvbnM7XCIsXCIgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZlYzIodlRleHR1cmVDb29yZC54ICsgbWF0U2FtcGxlLngsIHZUZXh0dXJlQ29vcmQueSArIG1hdFNhbXBsZS55KSk7XCIsXCIgICBnbF9GcmFnQ29sb3IucmdiID0gbWl4KCBnbF9GcmFnQ29sb3IucmdiLCBnbF9GcmFnQ29sb3IucmdiLCAxLjApO1wiLFwiICAgdmVjMiBjb3JkID0gdlRleHR1cmVDb29yZDtcIixcIiAgIGdsX0ZyYWdDb2xvciA9IGdsX0ZyYWdDb2xvciAqIHZDb2xvcjtcIixcIn1cIl19dmFyIEFic3RyYWN0RmlsdGVyPXJlcXVpcmUoXCIuL0Fic3RyYWN0RmlsdGVyXCIpLHByb3RvPURpc3BsYWNlbWVudEZpbHRlci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShBYnN0cmFjdEZpbHRlci5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpEaXNwbGFjZW1lbnRGaWx0ZXJ9fSk7cHJvdG8ub25UZXh0dXJlTG9hZGVkPWZ1bmN0aW9uKCl7dGhpcy51bmlmb3Jtcy5tYXBEaW1lbnNpb25zLnZhbHVlLng9dGhpcy51bmlmb3Jtcy5kaXNwbGFjZW1lbnRNYXAudmFsdWUud2lkdGgsdGhpcy51bmlmb3Jtcy5tYXBEaW1lbnNpb25zLnZhbHVlLnk9dGhpcy51bmlmb3Jtcy5kaXNwbGFjZW1lbnRNYXAudmFsdWUuaGVpZ2h0LHRoaXMudW5pZm9ybXMuZGlzcGxhY2VtZW50TWFwLnZhbHVlLmJhc2VUZXh0dXJlLm9mZihcImxvYWRlZFwiLHRoaXMuYm91bmRMb2FkZWRGdW5jdGlvbil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90byxcIm1hcFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmlmb3Jtcy5kaXNwbGFjZW1lbnRNYXAudmFsdWV9LHNldDpmdW5jdGlvbihhKXt0aGlzLnVuaWZvcm1zLmRpc3BsYWNlbWVudE1hcC52YWx1ZT1hfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90byxcInNjYWxlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuaWZvcm1zLnNjYWxlLnZhbHVlfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy51bmlmb3Jtcy5zY2FsZS52YWx1ZT1hfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90byxcIm9mZnNldFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmlmb3Jtcy5vZmZzZXQudmFsdWV9LHNldDpmdW5jdGlvbihhKXt0aGlzLnVuaWZvcm1zLm9mZnNldC52YWx1ZT1hfX0pLG1vZHVsZS5leHBvcnRzPURpc3BsYWNlbWVudEZpbHRlcjsiLCIvKipcbiAqIHBpeGkgMC4yLjEgKDZhYTAwMzApXG4gKiBodHRwOi8vZHJraWJpdHouZ2l0aHViLmlvL25vZGUtcGl4aS9cbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE0IERyLiBLaWJpdHosIGh0dHA6Ly9kcmtpYml0ei5jb21cbiAqIFN1cGVyIGZhc3QgMkQgcmVuZGVyaW5nIGVuZ2luZSBmb3IgYnJvd3NlcmlmeSwgdGhhdCB1c2VzIFdlYkdMIHdpdGggYSBjb250ZXh0IDJkIGZhbGxiYWNrLlxuICogYnVpbHQ6IFN1biBKYW4gMDUgMjAxNCAwMTo1Mzo1OCBHTVQtMDUwMCAoRVNUKVxuICpcbiAqIFBpeGkuanMgLSB2MS4zLjBcbiAqIENvcHlyaWdodCAoYykgMjAxMiwgTWF0IEdyb3Zlc1xuICovXG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBEb3RTY3JlZW5GaWx0ZXIoKXtBYnN0cmFjdEZpbHRlci5jYWxsKHRoaXMpLHRoaXMucGFzc2VzPVt0aGlzXSx0aGlzLnVuaWZvcm1zPXtzY2FsZTp7dHlwZTpcIjFmXCIsdmFsdWU6MX0sYW5nbGU6e3R5cGU6XCIxZlwiLHZhbHVlOjV9LGRpbWVuc2lvbnM6e3R5cGU6XCI0ZnZcIix2YWx1ZTpbMCwwLDAsMF19fSx0aGlzLmZyYWdtZW50U3JjPVtcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1wiLFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XCIsXCJ2YXJ5aW5nIGZsb2F0IHZDb2xvcjtcIixcInVuaWZvcm0gdmVjNCBkaW1lbnNpb25zO1wiLFwidW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XCIsXCJ1bmlmb3JtIGZsb2F0IGFuZ2xlO1wiLFwidW5pZm9ybSBmbG9hdCBzY2FsZTtcIixcImZsb2F0IHBhdHRlcm4oKSB7XCIsXCIgICBmbG9hdCBzID0gc2luKGFuZ2xlKSwgYyA9IGNvcyhhbmdsZSk7XCIsXCIgICB2ZWMyIHRleCA9IHZUZXh0dXJlQ29vcmQgKiBkaW1lbnNpb25zLnh5O1wiLFwiICAgdmVjMiBwb2ludCA9IHZlYzIoXCIsXCIgICAgICAgYyAqIHRleC54IC0gcyAqIHRleC55LFwiLFwiICAgICAgIHMgKiB0ZXgueCArIGMgKiB0ZXgueVwiLFwiICAgKSAqIHNjYWxlO1wiLFwiICAgcmV0dXJuIChzaW4ocG9pbnQueCkgKiBzaW4ocG9pbnQueSkpICogNC4wO1wiLFwifVwiLFwidm9pZCBtYWluKCkge1wiLFwiICAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XCIsXCIgICBmbG9hdCBhdmVyYWdlID0gKGNvbG9yLnIgKyBjb2xvci5nICsgY29sb3IuYikgLyAzLjA7XCIsXCIgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHZlYzMoYXZlcmFnZSAqIDEwLjAgLSA1LjAgKyBwYXR0ZXJuKCkpLCBjb2xvci5hKTtcIixcIn1cIl19dmFyIEFic3RyYWN0RmlsdGVyPXJlcXVpcmUoXCIuL0Fic3RyYWN0RmlsdGVyXCIpLHByb3RvPURvdFNjcmVlbkZpbHRlci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShBYnN0cmFjdEZpbHRlci5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpEb3RTY3JlZW5GaWx0ZXJ9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLFwic2NhbGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5pZm9ybXMuc2NhbGUudmFsdWV9LHNldDpmdW5jdGlvbihhKXt0aGlzLmRpcnR5PSEwLHRoaXMudW5pZm9ybXMuc2NhbGUudmFsdWU9YX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sXCJhbmdsZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmlmb3Jtcy5hbmdsZS52YWx1ZX0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuZGlydHk9ITAsdGhpcy51bmlmb3Jtcy5hbmdsZS52YWx1ZT1hfX0pLG1vZHVsZS5leHBvcnRzPURvdFNjcmVlbkZpbHRlcjsiLCIvKipcbiAqIHBpeGkgMC4yLjEgKDZhYTAwMzApXG4gKiBodHRwOi8vZHJraWJpdHouZ2l0aHViLmlvL25vZGUtcGl4aS9cbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE0IERyLiBLaWJpdHosIGh0dHA6Ly9kcmtpYml0ei5jb21cbiAqIFN1cGVyIGZhc3QgMkQgcmVuZGVyaW5nIGVuZ2luZSBmb3IgYnJvd3NlcmlmeSwgdGhhdCB1c2VzIFdlYkdMIHdpdGggYSBjb250ZXh0IDJkIGZhbGxiYWNrLlxuICogYnVpbHQ6IFN1biBKYW4gMDUgMjAxNCAwMTo1Mzo1OCBHTVQtMDUwMCAoRVNUKVxuICpcbiAqIFBpeGkuanMgLSB2MS4zLjBcbiAqIENvcHlyaWdodCAoYykgMjAxMiwgTWF0IEdyb3Zlc1xuICovXG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBGaWx0ZXJCbG9jaygpe3RoaXMudmlzaWJsZT0hMCx0aGlzLnJlbmRlcmFibGU9ITB9bW9kdWxlLmV4cG9ydHM9RmlsdGVyQmxvY2s7IiwiLyoqXG4gKiBwaXhpIDAuMi4xICg2YWEwMDMwKVxuICogaHR0cDovL2Rya2liaXR6LmdpdGh1Yi5pby9ub2RlLXBpeGkvXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNCBEci4gS2liaXR6LCBodHRwOi8vZHJraWJpdHouY29tXG4gKiBTdXBlciBmYXN0IDJEIHJlbmRlcmluZyBlbmdpbmUgZm9yIGJyb3dzZXJpZnksIHRoYXQgdXNlcyBXZWJHTCB3aXRoIGEgY29udGV4dCAyZCBmYWxsYmFjay5cbiAqIGJ1aWx0OiBTdW4gSmFuIDA1IDIwMTQgMDE6NTM6NTggR01ULTA1MDAgKEVTVClcbiAqXG4gKiBQaXhpLmpzIC0gdjEuMy4wXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIsIE1hdCBHcm92ZXNcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gR3JheUZpbHRlcigpe0Fic3RyYWN0RmlsdGVyLmNhbGwodGhpcyksdGhpcy5wYXNzZXM9W3RoaXNdLHRoaXMudW5pZm9ybXM9e2dyYXk6e3R5cGU6XCIxZlwiLHZhbHVlOjF9fSx0aGlzLmZyYWdtZW50U3JjPVtcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1wiLFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XCIsXCJ2YXJ5aW5nIGZsb2F0IHZDb2xvcjtcIixcInVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1wiLFwidW5pZm9ybSBmbG9hdCBncmF5O1wiLFwidm9pZCBtYWluKHZvaWQpIHtcIixcIiAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XCIsXCIgICBnbF9GcmFnQ29sb3IucmdiID0gbWl4KGdsX0ZyYWdDb2xvci5yZ2IsIHZlYzMoMC4yMTI2KmdsX0ZyYWdDb2xvci5yICsgMC43MTUyKmdsX0ZyYWdDb2xvci5nICsgMC4wNzIyKmdsX0ZyYWdDb2xvci5iKSwgZ3JheSk7XCIsXCIgICBnbF9GcmFnQ29sb3IgPSBnbF9GcmFnQ29sb3IgKiB2Q29sb3I7XCIsXCJ9XCJdfXZhciBBYnN0cmFjdEZpbHRlcj1yZXF1aXJlKFwiLi9BYnN0cmFjdEZpbHRlclwiKSxwcm90bz1HcmF5RmlsdGVyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEFic3RyYWN0RmlsdGVyLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOkdyYXlGaWx0ZXJ9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLFwiZ3JheVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmlmb3Jtcy5ncmF5LnZhbHVlfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy51bmlmb3Jtcy5ncmF5LnZhbHVlPWF9fSksbW9kdWxlLmV4cG9ydHM9R3JheUZpbHRlcjsiLCIvKipcbiAqIHBpeGkgMC4yLjEgKDZhYTAwMzApXG4gKiBodHRwOi8vZHJraWJpdHouZ2l0aHViLmlvL25vZGUtcGl4aS9cbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE0IERyLiBLaWJpdHosIGh0dHA6Ly9kcmtpYml0ei5jb21cbiAqIFN1cGVyIGZhc3QgMkQgcmVuZGVyaW5nIGVuZ2luZSBmb3IgYnJvd3NlcmlmeSwgdGhhdCB1c2VzIFdlYkdMIHdpdGggYSBjb250ZXh0IDJkIGZhbGxiYWNrLlxuICogYnVpbHQ6IFN1biBKYW4gMDUgMjAxNCAwMTo1Mzo1OCBHTVQtMDUwMCAoRVNUKVxuICpcbiAqIFBpeGkuanMgLSB2MS4zLjBcbiAqIENvcHlyaWdodCAoYykgMjAxMiwgTWF0IEdyb3Zlc1xuICovXG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBJbnZlcnRGaWx0ZXIoKXtBYnN0cmFjdEZpbHRlci5jYWxsKHRoaXMpLHRoaXMucGFzc2VzPVt0aGlzXSx0aGlzLnVuaWZvcm1zPXtpbnZlcnQ6e3R5cGU6XCIxZlwiLHZhbHVlOjF9fSx0aGlzLmZyYWdtZW50U3JjPVtcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1wiLFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XCIsXCJ2YXJ5aW5nIGZsb2F0IHZDb2xvcjtcIixcInVuaWZvcm0gZmxvYXQgaW52ZXJ0O1wiLFwidW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XCIsXCJ2b2lkIG1haW4odm9pZCkge1wiLFwiICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcIixcIiAgIGdsX0ZyYWdDb2xvci5yZ2IgPSBtaXgoICh2ZWMzKDEpLWdsX0ZyYWdDb2xvci5yZ2IpICogZ2xfRnJhZ0NvbG9yLmEsIGdsX0ZyYWdDb2xvci5yZ2IsIDEuMCAtIGludmVydCk7XCIsXCIgICBnbF9GcmFnQ29sb3IgPSBnbF9GcmFnQ29sb3IgKiB2Q29sb3I7XCIsXCJ9XCJdfXZhciBBYnN0cmFjdEZpbHRlcj1yZXF1aXJlKFwiLi9BYnN0cmFjdEZpbHRlclwiKSxwcm90bz1JbnZlcnRGaWx0ZXIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQWJzdHJhY3RGaWx0ZXIucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6SW52ZXJ0RmlsdGVyfX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90byxcImludmVydFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmlmb3Jtcy5pbnZlcnQudmFsdWV9LHNldDpmdW5jdGlvbihhKXt0aGlzLnVuaWZvcm1zLmludmVydC52YWx1ZT1hfX0pLG1vZHVsZS5leHBvcnRzPUludmVydEZpbHRlcjsiLCIvKipcbiAqIHBpeGkgMC4yLjEgKDZhYTAwMzApXG4gKiBodHRwOi8vZHJraWJpdHouZ2l0aHViLmlvL25vZGUtcGl4aS9cbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE0IERyLiBLaWJpdHosIGh0dHA6Ly9kcmtpYml0ei5jb21cbiAqIFN1cGVyIGZhc3QgMkQgcmVuZGVyaW5nIGVuZ2luZSBmb3IgYnJvd3NlcmlmeSwgdGhhdCB1c2VzIFdlYkdMIHdpdGggYSBjb250ZXh0IDJkIGZhbGxiYWNrLlxuICogYnVpbHQ6IFN1biBKYW4gMDUgMjAxNCAwMTo1Mzo1OCBHTVQtMDUwMCAoRVNUKVxuICpcbiAqIFBpeGkuanMgLSB2MS4zLjBcbiAqIENvcHlyaWdodCAoYykgMjAxMiwgTWF0IEdyb3Zlc1xuICovXG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBQaXhlbGF0ZUZpbHRlcigpe0Fic3RyYWN0RmlsdGVyLmNhbGwodGhpcyksdGhpcy5wYXNzZXM9W3RoaXNdLHRoaXMudW5pZm9ybXM9e2ludmVydDp7dHlwZTpcIjFmXCIsdmFsdWU6MH0sZGltZW5zaW9uczp7dHlwZTpcIjRmdlwiLHZhbHVlOm5ldyBGbG9hdDMyQXJyYXkoWzFlNCwxMDAsMTAsMTBdKX0scGl4ZWxTaXplOnt0eXBlOlwiMmZcIix2YWx1ZTp7eDoxMCx5OjEwfX19LHRoaXMuZnJhZ21lbnRTcmM9W1wicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XCIsXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcIixcInZhcnlpbmcgZmxvYXQgdkNvbG9yO1wiLFwidW5pZm9ybSB2ZWMyIHRlc3REaW07XCIsXCJ1bmlmb3JtIHZlYzQgZGltZW5zaW9ucztcIixcInVuaWZvcm0gdmVjMiBwaXhlbFNpemU7XCIsXCJ1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcIixcInZvaWQgbWFpbih2b2lkKSB7XCIsXCIgICB2ZWMyIGNvb3JkID0gdlRleHR1cmVDb29yZDtcIixcIiAgIHZlYzIgc2l6ZSA9IGRpbWVuc2lvbnMueHkvcGl4ZWxTaXplO1wiLFwiICAgdmVjMiBjb2xvciA9IGZsb29yKCAoIHZUZXh0dXJlQ29vcmQgKiBzaXplICkgKSAvIHNpemUgKyBwaXhlbFNpemUvZGltZW5zaW9ucy54eSAqIDAuNTtcIixcIiAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgY29sb3IpO1wiLFwifVwiXX12YXIgQWJzdHJhY3RGaWx0ZXI9cmVxdWlyZShcIi4vQWJzdHJhY3RGaWx0ZXJcIikscHJvdG89UGl4ZWxhdGVGaWx0ZXIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoQWJzdHJhY3RGaWx0ZXIucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6UGl4ZWxhdGVGaWx0ZXJ9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLFwic2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmlmb3Jtcy5waXhlbFNpemUudmFsdWV9LHNldDpmdW5jdGlvbihhKXt0aGlzLmRpcnR5PSEwLHRoaXMudW5pZm9ybXMucGl4ZWxTaXplLnZhbHVlPWF9fSksbW9kdWxlLmV4cG9ydHM9UGl4ZWxhdGVGaWx0ZXI7IiwiLyoqXG4gKiBwaXhpIDAuMi4xICg2YWEwMDMwKVxuICogaHR0cDovL2Rya2liaXR6LmdpdGh1Yi5pby9ub2RlLXBpeGkvXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNCBEci4gS2liaXR6LCBodHRwOi8vZHJraWJpdHouY29tXG4gKiBTdXBlciBmYXN0IDJEIHJlbmRlcmluZyBlbmdpbmUgZm9yIGJyb3dzZXJpZnksIHRoYXQgdXNlcyBXZWJHTCB3aXRoIGEgY29udGV4dCAyZCBmYWxsYmFjay5cbiAqIGJ1aWx0OiBTdW4gSmFuIDA1IDIwMTQgMDE6NTM6NTggR01ULTA1MDAgKEVTVClcbiAqXG4gKiBQaXhpLmpzIC0gdjEuMy4wXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIsIE1hdCBHcm92ZXNcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gUkdCU3BsaXRGaWx0ZXIoKXtBYnN0cmFjdEZpbHRlci5jYWxsKHRoaXMpLHRoaXMucGFzc2VzPVt0aGlzXSx0aGlzLnVuaWZvcm1zPXtyZWQ6e3R5cGU6XCIyZlwiLHZhbHVlOnt4OjIwLHk6MjB9fSxncmVlbjp7dHlwZTpcIjJmXCIsdmFsdWU6e3g6LTIwLHk6MjB9fSxibHVlOnt0eXBlOlwiMmZcIix2YWx1ZTp7eDoyMCx5Oi0yMH19LGRpbWVuc2lvbnM6e3R5cGU6XCI0ZnZcIix2YWx1ZTpbMCwwLDAsMF19fSx0aGlzLmZyYWdtZW50U3JjPVtcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1wiLFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XCIsXCJ2YXJ5aW5nIGZsb2F0IHZDb2xvcjtcIixcInVuaWZvcm0gdmVjMiByZWQ7XCIsXCJ1bmlmb3JtIHZlYzIgZ3JlZW47XCIsXCJ1bmlmb3JtIHZlYzIgYmx1ZTtcIixcInVuaWZvcm0gdmVjNCBkaW1lbnNpb25zO1wiLFwidW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XCIsXCJ2b2lkIG1haW4odm9pZCkge1wiLFwiICAgZ2xfRnJhZ0NvbG9yLnIgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQgKyByZWQvZGltZW5zaW9ucy54eSkucjtcIixcIiAgIGdsX0ZyYWdDb2xvci5nID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkICsgZ3JlZW4vZGltZW5zaW9ucy54eSkuZztcIixcIiAgIGdsX0ZyYWdDb2xvci5iID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkICsgYmx1ZS9kaW1lbnNpb25zLnh5KS5iO1wiLFwiICAgZ2xfRnJhZ0NvbG9yLmEgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpLmE7XCIsXCJ9XCJdfXZhciBBYnN0cmFjdEZpbHRlcj1yZXF1aXJlKFwiLi9BYnN0cmFjdEZpbHRlclwiKSxwcm90bz1SR0JTcGxpdEZpbHRlci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShBYnN0cmFjdEZpbHRlci5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpSR0JTcGxpdEZpbHRlcn19KTtPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sXCJhbmdsZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmlmb3Jtcy5ibHVyLnZhbHVlLygxLzdlMyl9LHNldDpmdW5jdGlvbihhKXt0aGlzLnVuaWZvcm1zLmJsdXIudmFsdWU9MS83ZTMqYX19KSxtb2R1bGUuZXhwb3J0cz1SR0JTcGxpdEZpbHRlcjsiLCIvKipcbiAqIHBpeGkgMC4yLjEgKDZhYTAwMzApXG4gKiBodHRwOi8vZHJraWJpdHouZ2l0aHViLmlvL25vZGUtcGl4aS9cbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE0IERyLiBLaWJpdHosIGh0dHA6Ly9kcmtpYml0ei5jb21cbiAqIFN1cGVyIGZhc3QgMkQgcmVuZGVyaW5nIGVuZ2luZSBmb3IgYnJvd3NlcmlmeSwgdGhhdCB1c2VzIFdlYkdMIHdpdGggYSBjb250ZXh0IDJkIGZhbGxiYWNrLlxuICogYnVpbHQ6IFN1biBKYW4gMDUgMjAxNCAwMTo1Mzo1OCBHTVQtMDUwMCAoRVNUKVxuICpcbiAqIFBpeGkuanMgLSB2MS4zLjBcbiAqIENvcHlyaWdodCAoYykgMjAxMiwgTWF0IEdyb3Zlc1xuICovXG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBTZXBpYUZpbHRlcigpe0Fic3RyYWN0RmlsdGVyLmNhbGwodGhpcyksdGhpcy5wYXNzZXM9W3RoaXNdLHRoaXMudW5pZm9ybXM9e3NlcGlhOnt0eXBlOlwiMWZcIix2YWx1ZToxfX0sdGhpcy5mcmFnbWVudFNyYz1bXCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcIixcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1wiLFwidmFyeWluZyBmbG9hdCB2Q29sb3I7XCIsXCJ1bmlmb3JtIGZsb2F0IHNlcGlhO1wiLFwidW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XCIsXCJjb25zdCBtYXQzIHNlcGlhTWF0cml4ID0gbWF0MygwLjM1ODgsIDAuNzA0NCwgMC4xMzY4LCAwLjI5OTAsIDAuNTg3MCwgMC4xMTQwLCAwLjIzOTIsIDAuNDY5NiwgMC4wOTEyKTtcIixcInZvaWQgbWFpbih2b2lkKSB7XCIsXCIgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1wiLFwiICAgZ2xfRnJhZ0NvbG9yLnJnYiA9IG1peCggZ2xfRnJhZ0NvbG9yLnJnYiwgZ2xfRnJhZ0NvbG9yLnJnYiAqIHNlcGlhTWF0cml4LCBzZXBpYSk7XCIsXCIgICBnbF9GcmFnQ29sb3IgPSBnbF9GcmFnQ29sb3IgKiB2Q29sb3I7XCIsXCJ9XCJdfXZhciBBYnN0cmFjdEZpbHRlcj1yZXF1aXJlKFwiLi9BYnN0cmFjdEZpbHRlclwiKSxwcm90bz1TZXBpYUZpbHRlci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShBYnN0cmFjdEZpbHRlci5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpTZXBpYUZpbHRlcn19KTtPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sXCJzZXBpYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmlmb3Jtcy5zZXBpYS52YWx1ZX0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMudW5pZm9ybXMuc2VwaWEudmFsdWU9YX19KSxtb2R1bGUuZXhwb3J0cz1TZXBpYUZpbHRlcjsiLCIvKipcbiAqIHBpeGkgMC4yLjEgKDZhYTAwMzApXG4gKiBodHRwOi8vZHJraWJpdHouZ2l0aHViLmlvL25vZGUtcGl4aS9cbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE0IERyLiBLaWJpdHosIGh0dHA6Ly9kcmtpYml0ei5jb21cbiAqIFN1cGVyIGZhc3QgMkQgcmVuZGVyaW5nIGVuZ2luZSBmb3IgYnJvd3NlcmlmeSwgdGhhdCB1c2VzIFdlYkdMIHdpdGggYSBjb250ZXh0IDJkIGZhbGxiYWNrLlxuICogYnVpbHQ6IFN1biBKYW4gMDUgMjAxNCAwMTo1Mzo1OCBHTVQtMDUwMCAoRVNUKVxuICpcbiAqIFBpeGkuanMgLSB2MS4zLjBcbiAqIENvcHlyaWdodCAoYykgMjAxMiwgTWF0IEdyb3Zlc1xuICovXG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBTbWFydEJsdXJGaWx0ZXIoKXtBYnN0cmFjdEZpbHRlci5jYWxsKHRoaXMpLHRoaXMucGFzc2VzPVt0aGlzXSx0aGlzLnVuaWZvcm1zPXtibHVyOnt0eXBlOlwiMWZcIix2YWx1ZToxLzUxMn19LHRoaXMuZnJhZ21lbnRTcmM9W1wicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XCIsXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcIixcInVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1wiLFwiY29uc3QgdmVjMiBkZWx0YSA9IHZlYzIoMS4wLzEwLjAsIDAuMCk7XCIsXCJmbG9hdCByYW5kb20odmVjMyBzY2FsZSwgZmxvYXQgc2VlZCkge1wiLFwiICAgcmV0dXJuIGZyYWN0KHNpbihkb3QoZ2xfRnJhZ0Nvb3JkLnh5eiArIHNlZWQsIHNjYWxlKSkgKiA0Mzc1OC41NDUzICsgc2VlZCk7XCIsXCJ9XCIsXCJ2b2lkIG1haW4odm9pZCkge1wiLFwiICAgdmVjNCBjb2xvciA9IHZlYzQoMC4wKTtcIixcIiAgIGZsb2F0IHRvdGFsID0gMC4wO1wiLFwiICAgZmxvYXQgb2Zmc2V0ID0gcmFuZG9tKHZlYzMoMTIuOTg5OCwgNzguMjMzLCAxNTEuNzE4MiksIDAuMCk7XCIsXCIgICBmb3IgKGZsb2F0IHQgPSAtMzAuMDsgdCA8PSAzMC4wOyB0KyspIHtcIixcIiAgICAgICBmbG9hdCBwZXJjZW50ID0gKHQgKyBvZmZzZXQgLSAwLjUpIC8gMzAuMDtcIixcIiAgICAgICBmbG9hdCB3ZWlnaHQgPSAxLjAgLSBhYnMocGVyY2VudCk7XCIsXCIgICAgICAgdmVjNCBzYW1wbGUgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQgKyBkZWx0YSAqIHBlcmNlbnQpO1wiLFwiICAgICAgIHNhbXBsZS5yZ2IgKj0gc2FtcGxlLmE7XCIsXCIgICAgICAgY29sb3IgKz0gc2FtcGxlICogd2VpZ2h0O1wiLFwiICAgICAgIHRvdGFsICs9IHdlaWdodDtcIixcIiAgIH1cIixcIiAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yIC8gdG90YWw7XCIsXCIgICBnbF9GcmFnQ29sb3IucmdiIC89IGdsX0ZyYWdDb2xvci5hICsgMC4wMDAwMTtcIixcIn1cIl19dmFyIEFic3RyYWN0RmlsdGVyPXJlcXVpcmUoXCIuL0Fic3RyYWN0RmlsdGVyXCIpLHByb3RvPVNtYXJ0Qmx1ckZpbHRlci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShBYnN0cmFjdEZpbHRlci5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpTbWFydEJsdXJGaWx0ZXJ9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLFwiYmx1clwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmlmb3Jtcy5ibHVyLnZhbHVlfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy51bmlmb3Jtcy5ibHVyLnZhbHVlPWF9fSksbW9kdWxlLmV4cG9ydHM9U21hcnRCbHVyRmlsdGVyOyIsIi8qKlxuICogcGl4aSAwLjIuMSAoNmFhMDAzMClcbiAqIGh0dHA6Ly9kcmtpYml0ei5naXRodWIuaW8vbm9kZS1waXhpL1xuICogQ29weXJpZ2h0IChjKSAyMDEzLTIwMTQgRHIuIEtpYml0eiwgaHR0cDovL2Rya2liaXR6LmNvbVxuICogU3VwZXIgZmFzdCAyRCByZW5kZXJpbmcgZW5naW5lIGZvciBicm93c2VyaWZ5LCB0aGF0IHVzZXMgV2ViR0wgd2l0aCBhIGNvbnRleHQgMmQgZmFsbGJhY2suXG4gKiBidWlsdDogU3VuIEphbiAwNSAyMDE0IDAxOjUzOjU4IEdNVC0wNTAwIChFU1QpXG4gKlxuICogUGl4aS5qcyAtIHYxLjMuMFxuICogQ29weXJpZ2h0IChjKSAyMDEyLCBNYXQgR3JvdmVzXG4gKi9cblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIFR3aXN0RmlsdGVyKCl7QWJzdHJhY3RGaWx0ZXIuY2FsbCh0aGlzKSx0aGlzLnBhc3Nlcz1bdGhpc10sdGhpcy51bmlmb3Jtcz17cmFkaXVzOnt0eXBlOlwiMWZcIix2YWx1ZTouNX0sYW5nbGU6e3R5cGU6XCIxZlwiLHZhbHVlOjV9LG9mZnNldDp7dHlwZTpcIjJmXCIsdmFsdWU6e3g6LjUseTouNX19fSx0aGlzLmZyYWdtZW50U3JjPVtcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1wiLFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XCIsXCJ2YXJ5aW5nIGZsb2F0IHZDb2xvcjtcIixcInVuaWZvcm0gdmVjNCBkaW1lbnNpb25zO1wiLFwidW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XCIsXCJ1bmlmb3JtIGZsb2F0IHJhZGl1cztcIixcInVuaWZvcm0gZmxvYXQgYW5nbGU7XCIsXCJ1bmlmb3JtIHZlYzIgb2Zmc2V0O1wiLFwidm9pZCBtYWluKHZvaWQpIHtcIixcIiAgIHZlYzIgY29vcmQgPSB2VGV4dHVyZUNvb3JkIC0gb2Zmc2V0O1wiLFwiICAgZmxvYXQgZGlzdGFuY2UgPSBsZW5ndGgoY29vcmQpO1wiLFwiICAgaWYgKGRpc3RhbmNlIDwgcmFkaXVzKSB7XCIsXCIgICAgICAgZmxvYXQgcmF0aW8gPSAocmFkaXVzIC0gZGlzdGFuY2UpIC8gcmFkaXVzO1wiLFwiICAgICAgIGZsb2F0IGFuZ2xlTW9kID0gcmF0aW8gKiByYXRpbyAqIGFuZ2xlO1wiLFwiICAgICAgIGZsb2F0IHMgPSBzaW4oYW5nbGVNb2QpO1wiLFwiICAgICAgIGZsb2F0IGMgPSBjb3MoYW5nbGVNb2QpO1wiLFwiICAgICAgIGNvb3JkID0gdmVjMihjb29yZC54ICogYyAtIGNvb3JkLnkgKiBzLCBjb29yZC54ICogcyArIGNvb3JkLnkgKiBjKTtcIixcIiAgIH1cIixcIiAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgY29vcmQrb2Zmc2V0KTtcIixcIn1cIl19dmFyIEFic3RyYWN0RmlsdGVyPXJlcXVpcmUoXCIuL0Fic3RyYWN0RmlsdGVyXCIpLHByb3RvPVR3aXN0RmlsdGVyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEFic3RyYWN0RmlsdGVyLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOlR3aXN0RmlsdGVyfX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90byxcIm9mZnNldFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmlmb3Jtcy5vZmZzZXQudmFsdWV9LHNldDpmdW5jdGlvbihhKXt0aGlzLmRpcnR5PSEwLHRoaXMudW5pZm9ybXMub2Zmc2V0LnZhbHVlPWF9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLFwicmFkaXVzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuaWZvcm1zLnJhZGl1cy52YWx1ZX0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuZGlydHk9ITAsdGhpcy51bmlmb3Jtcy5yYWRpdXMudmFsdWU9YX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sXCJhbmdsZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmlmb3Jtcy5hbmdsZS52YWx1ZX0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuZGlydHk9ITAsdGhpcy51bmlmb3Jtcy5hbmdsZS52YWx1ZT1hfX0pLG1vZHVsZS5leHBvcnRzPVR3aXN0RmlsdGVyOyIsIi8qKlxuICogcGl4aSAwLjIuMSAoNmFhMDAzMClcbiAqIGh0dHA6Ly9kcmtpYml0ei5naXRodWIuaW8vbm9kZS1waXhpL1xuICogQ29weXJpZ2h0IChjKSAyMDEzLTIwMTQgRHIuIEtpYml0eiwgaHR0cDovL2Rya2liaXR6LmNvbVxuICogU3VwZXIgZmFzdCAyRCByZW5kZXJpbmcgZW5naW5lIGZvciBicm93c2VyaWZ5LCB0aGF0IHVzZXMgV2ViR0wgd2l0aCBhIGNvbnRleHQgMmQgZmFsbGJhY2suXG4gKiBidWlsdDogU3VuIEphbiAwNSAyMDE0IDAxOjUzOjU4IEdNVC0wNTAwIChFU1QpXG4gKlxuICogUGl4aS5qcyAtIHYxLjMuMFxuICogQ29weXJpZ2h0IChjKSAyMDEyLCBNYXQgR3JvdmVzXG4gKi9cblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIENpcmNsZShhLGIsYyl7dGhpcy54PWF8fDAsdGhpcy55PWJ8fDAsdGhpcy5yYWRpdXM9Y3x8MH12YXIgcHJvdG89Q2lyY2xlLnByb3RvdHlwZTtwcm90by5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgQ2lyY2xlKHRoaXMueCx0aGlzLnksdGhpcy5yYWRpdXMpfSxwcm90by5jb250YWlucz1mdW5jdGlvbihhLGIpe2lmKHRoaXMucmFkaXVzPD0wKXJldHVybiExO3ZhciBjPXRoaXMueC1hLGQ9dGhpcy55LWIsZT10aGlzLnJhZGl1cyp0aGlzLnJhZGl1cztyZXR1cm4gYyo9YyxkKj1kLGU+PWMrZH0sbW9kdWxlLmV4cG9ydHM9Q2lyY2xlOyIsIi8qKlxuICogcGl4aSAwLjIuMSAoNmFhMDAzMClcbiAqIGh0dHA6Ly9kcmtpYml0ei5naXRodWIuaW8vbm9kZS1waXhpL1xuICogQ29weXJpZ2h0IChjKSAyMDEzLTIwMTQgRHIuIEtpYml0eiwgaHR0cDovL2Rya2liaXR6LmNvbVxuICogU3VwZXIgZmFzdCAyRCByZW5kZXJpbmcgZW5naW5lIGZvciBicm93c2VyaWZ5LCB0aGF0IHVzZXMgV2ViR0wgd2l0aCBhIGNvbnRleHQgMmQgZmFsbGJhY2suXG4gKiBidWlsdDogU3VuIEphbiAwNSAyMDE0IDAxOjUzOjU4IEdNVC0wNTAwIChFU1QpXG4gKlxuICogUGl4aS5qcyAtIHYxLjMuMFxuICogQ29weXJpZ2h0IChjKSAyMDEyLCBNYXQgR3JvdmVzXG4gKi9cblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIEVsbGlwc2UoYSxiLGMsZCl7dGhpcy54PWF8fDAsdGhpcy55PWJ8fDAsdGhpcy53aWR0aD1jfHwwLHRoaXMuaGVpZ2h0PWR8fDB9dmFyIFJlY3RhbmdsZT1yZXF1aXJlKFwiLi9SZWN0YW5nbGVcIikscHJvdG89RWxsaXBzZS5wcm90b3R5cGU7cHJvdG8uY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEVsbGlwc2UodGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX0scHJvdG8uY29udGFpbnM9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLndpZHRoPD0wfHx0aGlzLmhlaWdodDw9MClyZXR1cm4hMTt2YXIgYz0oYS10aGlzLngpL3RoaXMud2lkdGgtLjUsZD0oYi10aGlzLnkpL3RoaXMuaGVpZ2h0LS41O3JldHVybiBjKj1jLGQqPWQsLjI1PmMrZH0scHJvdG8uZ2V0Qm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBSZWN0YW5nbGUodGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX0sbW9kdWxlLmV4cG9ydHM9RWxsaXBzZTsiLCIvKipcbiAqIHBpeGkgMC4yLjEgKDZhYTAwMzApXG4gKiBodHRwOi8vZHJraWJpdHouZ2l0aHViLmlvL25vZGUtcGl4aS9cbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE0IERyLiBLaWJpdHosIGh0dHA6Ly9kcmtpYml0ei5jb21cbiAqIFN1cGVyIGZhc3QgMkQgcmVuZGVyaW5nIGVuZ2luZSBmb3IgYnJvd3NlcmlmeSwgdGhhdCB1c2VzIFdlYkdMIHdpdGggYSBjb250ZXh0IDJkIGZhbGxiYWNrLlxuICogYnVpbHQ6IFN1biBKYW4gMDUgMjAxNCAwMTo1Mzo1OCBHTVQtMDUwMCAoRVNUKVxuICpcbiAqIFBpeGkuanMgLSB2MS4zLjBcbiAqIENvcHlyaWdodCAoYykgMjAxMiwgTWF0IEdyb3Zlc1xuICovXG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBQb2ludChhLGIpe3RoaXMueD1hfHwwLHRoaXMueT1ifHwwfVBvaW50LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgUG9pbnQodGhpcy54LHRoaXMueSl9LG1vZHVsZS5leHBvcnRzPVBvaW50OyIsIi8qKlxuICogcGl4aSAwLjIuMSAoNmFhMDAzMClcbiAqIGh0dHA6Ly9kcmtpYml0ei5naXRodWIuaW8vbm9kZS1waXhpL1xuICogQ29weXJpZ2h0IChjKSAyMDEzLTIwMTQgRHIuIEtpYml0eiwgaHR0cDovL2Rya2liaXR6LmNvbVxuICogU3VwZXIgZmFzdCAyRCByZW5kZXJpbmcgZW5naW5lIGZvciBicm93c2VyaWZ5LCB0aGF0IHVzZXMgV2ViR0wgd2l0aCBhIGNvbnRleHQgMmQgZmFsbGJhY2suXG4gKiBidWlsdDogU3VuIEphbiAwNSAyMDE0IDAxOjUzOjU4IEdNVC0wNTAwIChFU1QpXG4gKlxuICogUGl4aS5qcyAtIHYxLjMuMFxuICogQ29weXJpZ2h0IChjKSAyMDEyLCBNYXQgR3JvdmVzXG4gKi9cblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIFBvbHlnb24oYSl7aWYoYSBpbnN0YW5jZW9mIEFycmF5fHwoYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSxcIm51bWJlclwiPT10eXBlb2YgYVswXSl7Zm9yKHZhciBiPVtdLGM9MCxkPWEubGVuZ3RoO2Q+YztjKz0yKWIucHVzaChuZXcgUG9pbnQoYVtjXSxhW2MrMV0pKTthPWJ9dGhpcy5wb2ludHM9YX12YXIgUG9pbnQ9cmVxdWlyZShcIi4vUG9pbnRcIikscHJvdG89UG9seWdvbi5wcm90b3R5cGU7cHJvdG8uY2xvbmU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9W10sYj0wO2I8dGhpcy5wb2ludHMubGVuZ3RoO2IrKylhLnB1c2godGhpcy5wb2ludHNbYl0uY2xvbmUoKSk7cmV0dXJuIG5ldyBQb2x5Z29uKGEpfSxwcm90by5jb250YWlucz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0hMSxkPTAsZT10aGlzLnBvaW50cy5sZW5ndGgtMTtkPHRoaXMucG9pbnRzLmxlbmd0aDtlPWQrKyl7dmFyIGY9dGhpcy5wb2ludHNbZF0ueCxnPXRoaXMucG9pbnRzW2RdLnksaD10aGlzLnBvaW50c1tlXS54LGk9dGhpcy5wb2ludHNbZV0ueSxqPWc+YiE9aT5iJiYoaC1mKSooYi1nKS8oaS1nKStmPmE7aiYmKGM9IWMpfXJldHVybiBjfSxtb2R1bGUuZXhwb3J0cz1Qb2x5Z29uOyIsIi8qKlxuICogcGl4aSAwLjIuMSAoNmFhMDAzMClcbiAqIGh0dHA6Ly9kcmtpYml0ei5naXRodWIuaW8vbm9kZS1waXhpL1xuICogQ29weXJpZ2h0IChjKSAyMDEzLTIwMTQgRHIuIEtpYml0eiwgaHR0cDovL2Rya2liaXR6LmNvbVxuICogU3VwZXIgZmFzdCAyRCByZW5kZXJpbmcgZW5naW5lIGZvciBicm93c2VyaWZ5LCB0aGF0IHVzZXMgV2ViR0wgd2l0aCBhIGNvbnRleHQgMmQgZmFsbGJhY2suXG4gKiBidWlsdDogU3VuIEphbiAwNSAyMDE0IDAxOjUzOjU4IEdNVC0wNTAwIChFU1QpXG4gKlxuICogUGl4aS5qcyAtIHYxLjMuMFxuICogQ29weXJpZ2h0IChjKSAyMDEyLCBNYXQgR3JvdmVzXG4gKi9cblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIFJlY3RhbmdsZShhLGIsYyxkKXt0aGlzLng9YXx8MCx0aGlzLnk9Ynx8MCx0aGlzLndpZHRoPWN8fDAsdGhpcy5oZWlnaHQ9ZHx8MH12YXIgcHJvdG89UmVjdGFuZ2xlLnByb3RvdHlwZTtwcm90by5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCl9LHByb3RvLmNvbnRhaW5zPWZ1bmN0aW9uKGEsYil7aWYodGhpcy53aWR0aDw9MHx8dGhpcy5oZWlnaHQ8PTApcmV0dXJuITE7dmFyIGM9dGhpcy54O2lmKGE+PWMmJmE8PWMrdGhpcy53aWR0aCl7dmFyIGQ9dGhpcy55O2lmKGI+PWQmJmI8PWQrdGhpcy5oZWlnaHQpcmV0dXJuITB9cmV0dXJuITF9LG1vZHVsZS5leHBvcnRzPVJlY3RhbmdsZTsiLCIvKipcbiAqIHBpeGkgMC4yLjEgKDZhYTAwMzApXG4gKiBodHRwOi8vZHJraWJpdHouZ2l0aHViLmlvL25vZGUtcGl4aS9cbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE0IERyLiBLaWJpdHosIGh0dHA6Ly9kcmtpYml0ei5jb21cbiAqIFN1cGVyIGZhc3QgMkQgcmVuZGVyaW5nIGVuZ2luZSBmb3IgYnJvd3NlcmlmeSwgdGhhdCB1c2VzIFdlYkdMIHdpdGggYSBjb250ZXh0IDJkIGZhbGxiYWNrLlxuICogYnVpbHQ6IFN1biBKYW4gMDUgMjAxNCAwMTo1Mzo1OCBHTVQtMDUwMCAoRVNUKVxuICpcbiAqIFBpeGkuanMgLSB2MS4zLjBcbiAqIENvcHlyaWdodCAoYykgMjAxMiwgTWF0IEdyb3Zlc1xuICovXG5cInVzZSBzdHJpY3RcIjt2YXIgTWF0cml4PWV4cG9ydHMuTWF0cml4PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBGbG9hdDMyQXJyYXk/RmxvYXQzMkFycmF5OkFycmF5LG1hdDM9ZXhwb3J0cy5tYXQzPXt9LG1hdDQ9ZXhwb3J0cy5tYXQ0PXt9O21hdDMuY3JlYXRlPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IE1hdHJpeCg5KTtyZXR1cm4gYVswXT0xLGFbMV09MCxhWzJdPTAsYVszXT0wLGFbNF09MSxhWzVdPTAsYVs2XT0wLGFbN109MCxhWzhdPTEsYX0sbWF0My5pZGVudGl0eT1mdW5jdGlvbihhKXtyZXR1cm4gYVswXT0xLGFbMV09MCxhWzJdPTAsYVszXT0wLGFbNF09MSxhWzVdPTAsYVs2XT0wLGFbN109MCxhWzhdPTEsYX0sbWF0NC5jcmVhdGU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgTWF0cml4KDE2KTtyZXR1cm4gYVswXT0xLGFbMV09MCxhWzJdPTAsYVszXT0wLGFbNF09MCxhWzVdPTEsYVs2XT0wLGFbN109MCxhWzhdPTAsYVs5XT0wLGFbMTBdPTEsYVsxMV09MCxhWzEyXT0wLGFbMTNdPTAsYVsxNF09MCxhWzE1XT0xLGF9LG1hdDMubXVsdGlwbHk9ZnVuY3Rpb24oYSxiLGMpe2N8fChjPWEpO3ZhciBkPWFbMF0sZT1hWzFdLGY9YVsyXSxnPWFbM10saD1hWzRdLGk9YVs1XSxqPWFbNl0saz1hWzddLGw9YVs4XSxtPWJbMF0sbj1iWzFdLG89YlsyXSxwPWJbM10scT1iWzRdLHI9Yls1XSxzPWJbNl0sdD1iWzddLHU9Yls4XTtyZXR1cm4gY1swXT1tKmQrbipnK28qaixjWzFdPW0qZStuKmgrbyprLGNbMl09bSpmK24qaStvKmwsY1szXT1wKmQrcSpnK3IqaixjWzRdPXAqZStxKmgrciprLGNbNV09cCpmK3EqaStyKmwsY1s2XT1zKmQrdCpnK3UqaixjWzddPXMqZSt0KmgrdSprLGNbOF09cypmK3QqaSt1KmwsY30sbWF0My5jbG9uZT1mdW5jdGlvbihhKXt2YXIgYj1uZXcgTWF0cml4KDkpO3JldHVybiBiWzBdPWFbMF0sYlsxXT1hWzFdLGJbMl09YVsyXSxiWzNdPWFbM10sYls0XT1hWzRdLGJbNV09YVs1XSxiWzZdPWFbNl0sYls3XT1hWzddLGJbOF09YVs4XSxifSxtYXQzLnRyYW5zcG9zZT1mdW5jdGlvbihhLGIpe2lmKCFifHxhPT09Yil7dmFyIGM9YVsxXSxkPWFbMl0sZT1hWzVdO3JldHVybiBhWzFdPWFbM10sYVsyXT1hWzZdLGFbM109YyxhWzVdPWFbN10sYVs2XT1kLGFbN109ZSxhfXJldHVybiBiWzBdPWFbMF0sYlsxXT1hWzNdLGJbMl09YVs2XSxiWzNdPWFbMV0sYls0XT1hWzRdLGJbNV09YVs3XSxiWzZdPWFbMl0sYls3XT1hWzVdLGJbOF09YVs4XSxifSxtYXQzLnRvTWF0ND1mdW5jdGlvbihhLGIpe3JldHVybiBifHwoYj1tYXQ0LmNyZWF0ZSgpKSxiWzE1XT0xLGJbMTRdPTAsYlsxM109MCxiWzEyXT0wLGJbMTFdPTAsYlsxMF09YVs4XSxiWzldPWFbN10sYls4XT1hWzZdLGJbN109MCxiWzZdPWFbNV0sYls1XT1hWzRdLGJbNF09YVszXSxiWzNdPTAsYlsyXT1hWzJdLGJbMV09YVsxXSxiWzBdPWFbMF0sYn0sbWF0NC5jcmVhdGU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgTWF0cml4KDE2KTtyZXR1cm4gYVswXT0xLGFbMV09MCxhWzJdPTAsYVszXT0wLGFbNF09MCxhWzVdPTEsYVs2XT0wLGFbN109MCxhWzhdPTAsYVs5XT0wLGFbMTBdPTEsYVsxMV09MCxhWzEyXT0wLGFbMTNdPTAsYVsxNF09MCxhWzE1XT0xLGF9LG1hdDQudHJhbnNwb3NlPWZ1bmN0aW9uKGEsYil7aWYoIWJ8fGE9PT1iKXt2YXIgYz1hWzFdLGQ9YVsyXSxlPWFbM10sZj1hWzZdLGc9YVs3XSxoPWFbMTFdO3JldHVybiBhWzFdPWFbNF0sYVsyXT1hWzhdLGFbM109YVsxMl0sYVs0XT1jLGFbNl09YVs5XSxhWzddPWFbMTNdLGFbOF09ZCxhWzldPWYsYVsxMV09YVsxNF0sYVsxMl09ZSxhWzEzXT1nLGFbMTRdPWgsYX1yZXR1cm4gYlswXT1hWzBdLGJbMV09YVs0XSxiWzJdPWFbOF0sYlszXT1hWzEyXSxiWzRdPWFbMV0sYls1XT1hWzVdLGJbNl09YVs5XSxiWzddPWFbMTNdLGJbOF09YVsyXSxiWzldPWFbNl0sYlsxMF09YVsxMF0sYlsxMV09YVsxNF0sYlsxMl09YVszXSxiWzEzXT1hWzddLGJbMTRdPWFbMTFdLGJbMTVdPWFbMTVdLGJ9LG1hdDQubXVsdGlwbHk9ZnVuY3Rpb24oYSxiLGMpe2N8fChjPWEpO3ZhciBkPWFbMF0sZT1hWzFdLGY9YVsyXSxnPWFbM10saD1hWzRdLGk9YVs1XSxqPWFbNl0saz1hWzddLGw9YVs4XSxtPWFbOV0sbj1hWzEwXSxvPWFbMTFdLHA9YVsxMl0scT1hWzEzXSxyPWFbMTRdLHM9YVsxNV0sdD1iWzBdLHU9YlsxXSx2PWJbMl0sdz1iWzNdO3JldHVybiBjWzBdPXQqZCt1KmgrdipsK3cqcCxjWzFdPXQqZSt1KmkrdiptK3cqcSxjWzJdPXQqZit1KmordipuK3cqcixjWzNdPXQqZyt1KmsrdipvK3cqcyx0PWJbNF0sdT1iWzVdLHY9Yls2XSx3PWJbN10sY1s0XT10KmQrdSpoK3YqbCt3KnAsY1s1XT10KmUrdSppK3YqbSt3KnEsY1s2XT10KmYrdSpqK3Yqbit3KnIsY1s3XT10KmcrdSprK3Yqbyt3KnMsdD1iWzhdLHU9Yls5XSx2PWJbMTBdLHc9YlsxMV0sY1s4XT10KmQrdSpoK3YqbCt3KnAsY1s5XT10KmUrdSppK3YqbSt3KnEsY1sxMF09dCpmK3Uqait2Km4rdypyLGNbMTFdPXQqZyt1KmsrdipvK3cqcyx0PWJbMTJdLHU9YlsxM10sdj1iWzE0XSx3PWJbMTVdLGNbMTJdPXQqZCt1KmgrdipsK3cqcCxjWzEzXT10KmUrdSppK3YqbSt3KnEsY1sxNF09dCpmK3Uqait2Km4rdypyLGNbMTVdPXQqZyt1KmsrdipvK3cqcyxjfTsiLCIvKipcbiAqIHBpeGkgMC4yLjEgKDZhYTAwMzApXG4gKiBodHRwOi8vZHJraWJpdHouZ2l0aHViLmlvL25vZGUtcGl4aS9cbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE0IERyLiBLaWJpdHosIGh0dHA6Ly9kcmtpYml0ei5jb21cbiAqIFN1cGVyIGZhc3QgMkQgcmVuZGVyaW5nIGVuZ2luZSBmb3IgYnJvd3NlcmlmeSwgdGhhdCB1c2VzIFdlYkdMIHdpdGggYSBjb250ZXh0IDJkIGZhbGxiYWNrLlxuICogYnVpbHQ6IFN1biBKYW4gMDUgMjAxNCAwMTo1Mzo1OCBHTVQtMDUwMCAoRVNUKVxuICpcbiAqIFBpeGkuanMgLSB2MS4zLjBcbiAqIENvcHlyaWdodCAoYykgMjAxMiwgTWF0IEdyb3Zlc1xuICovXG5cInVzZSBzdHJpY3RcIjt2YXIgZ2xvYmFscz1yZXF1aXJlKFwiLi9jb3JlL2dsb2JhbHNcIiksc2hhZGVycz1yZXF1aXJlKFwiLi9yZW5kZXJlcnMvd2ViZ2wvc2hhZGVyc1wiKSxtYXRyaXg9cmVxdWlyZShcIi4vZ2VvbS9tYXRyaXhcIikscGl4aT1tb2R1bGUuZXhwb3J0cz1PYmplY3QuY3JlYXRlKGdsb2JhbHMpO3BpeGkuUG9pbnQ9cmVxdWlyZShcIi4vZ2VvbS9Qb2ludFwiKSxwaXhpLlJlY3RhbmdsZT1yZXF1aXJlKFwiLi9nZW9tL1JlY3RhbmdsZVwiKSxwaXhpLlBvbHlnb249cmVxdWlyZShcIi4vZ2VvbS9Qb2x5Z29uXCIpLHBpeGkuQ2lyY2xlPXJlcXVpcmUoXCIuL2dlb20vQ2lyY2xlXCIpLHBpeGkuRWxsaXBzZT1yZXF1aXJlKFwiLi9nZW9tL0VsbGlwc2VcIikscGl4aS5NYXRyaXg9bWF0cml4Lk1hdHJpeCxwaXhpLm1hdDM9bWF0cml4Lm1hdDMscGl4aS5tYXQ0PW1hdHJpeC5tYXQ0LHBpeGkuYmxlbmRNb2Rlcz1yZXF1aXJlKFwiLi9kaXNwbGF5L2JsZW5kTW9kZXNcIikscGl4aS5EaXNwbGF5T2JqZWN0PXJlcXVpcmUoXCIuL2Rpc3BsYXkvRGlzcGxheU9iamVjdFwiKSxwaXhpLkRpc3BsYXlPYmplY3RDb250YWluZXI9cmVxdWlyZShcIi4vZGlzcGxheS9EaXNwbGF5T2JqZWN0Q29udGFpbmVyXCIpLHBpeGkuU3ByaXRlPXJlcXVpcmUoXCIuL2Rpc3BsYXkvU3ByaXRlXCIpLHBpeGkuTW92aWVDbGlwPXJlcXVpcmUoXCIuL2Rpc3BsYXkvTW92aWVDbGlwXCIpLHBpeGkuQWJzdHJhY3RGaWx0ZXI9cmVxdWlyZShcIi4vZmlsdGVycy9BYnN0cmFjdEZpbHRlclwiKSxwaXhpLkJsdXJGaWx0ZXI9cmVxdWlyZShcIi4vZmlsdGVycy9CbHVyRmlsdGVyXCIpLHBpeGkuQmx1clhGaWx0ZXI9cmVxdWlyZShcIi4vZmlsdGVycy9CbHVyWEZpbHRlclwiKSxwaXhpLkJsdXJZRmlsdGVyPXJlcXVpcmUoXCIuL2ZpbHRlcnMvQmx1cllGaWx0ZXJcIikscGl4aS5Db2xvck1hdHJpeEZpbHRlcj1yZXF1aXJlKFwiLi9maWx0ZXJzL0NvbG9yTWF0cml4RmlsdGVyXCIpLHBpeGkuQ29sb3JTdGVwRmlsdGVyPXJlcXVpcmUoXCIuL2ZpbHRlcnMvQ29sb3JTdGVwRmlsdGVyXCIpLHBpeGkuQ3Jvc3NIYXRjaEZpbHRlcj1yZXF1aXJlKFwiLi9maWx0ZXJzL0Nyb3NzSGF0Y2hGaWx0ZXJcIikscGl4aS5EaXNwbGFjZW1lbnRGaWx0ZXI9cmVxdWlyZShcIi4vZmlsdGVycy9EaXNwbGFjZW1lbnRGaWx0ZXJcIikscGl4aS5Eb3RTY3JlZW5GaWx0ZXI9cmVxdWlyZShcIi4vZmlsdGVycy9Eb3RTY3JlZW5GaWx0ZXJcIikscGl4aS5GaWx0ZXJCbG9jaz1yZXF1aXJlKFwiLi9maWx0ZXJzL0ZpbHRlckJsb2NrXCIpLHBpeGkuR3JheUZpbHRlcj1yZXF1aXJlKFwiLi9maWx0ZXJzL0dyYXlGaWx0ZXJcIikscGl4aS5JbnZlcnRGaWx0ZXI9cmVxdWlyZShcIi4vZmlsdGVycy9JbnZlcnRGaWx0ZXJcIikscGl4aS5QaXhlbGF0ZUZpbHRlcj1yZXF1aXJlKFwiLi9maWx0ZXJzL1BpeGVsYXRlRmlsdGVyXCIpLHBpeGkuUkdCU3BsaXRGaWx0ZXI9cmVxdWlyZShcIi4vZmlsdGVycy9SR0JTcGxpdEZpbHRlclwiKSxwaXhpLlNlcGlhRmlsdGVyPXJlcXVpcmUoXCIuL2ZpbHRlcnMvU2VwaWFGaWx0ZXJcIikscGl4aS5TbWFydEJsdXJGaWx0ZXI9cmVxdWlyZShcIi4vZmlsdGVycy9TbWFydEJsdXJGaWx0ZXJcIikscGl4aS5Ud2lzdEZpbHRlcj1yZXF1aXJlKFwiLi9maWx0ZXJzL1R3aXN0RmlsdGVyXCIpLHBpeGkuVGV4dD1yZXF1aXJlKFwiLi90ZXh0L1RleHRcIikscGl4aS5CaXRtYXBUZXh0PXJlcXVpcmUoXCIuL3RleHQvQml0bWFwVGV4dFwiKSxwaXhpLkludGVyYWN0aW9uTWFuYWdlcj1yZXF1aXJlKFwiLi9JbnRlcmFjdGlvbk1hbmFnZXJcIikscGl4aS5TdGFnZT1yZXF1aXJlKFwiLi9kaXNwbGF5L1N0YWdlXCIpLHBpeGkuRXZlbnRUYXJnZXQ9cmVxdWlyZShcIi4vZXZlbnRzL0V2ZW50VGFyZ2V0XCIpLHBpeGkuYXV0b0RldGVjdFJlbmRlcmVyPXJlcXVpcmUoXCIuL3V0aWxzL2F1dG9EZXRlY3RSZW5kZXJlclwiKSxwaXhpLlBvbHlLPXJlcXVpcmUoXCIuL3V0aWxzL1BvbHlrXCIpLHBpeGkuV2ViR0xHcmFwaGljcz1yZXF1aXJlKFwiLi9yZW5kZXJlcnMvd2ViZ2wvZ3JhcGhpY3NcIikscGl4aS5XZWJHTFJlbmRlcmVyPXJlcXVpcmUoXCIuL3JlbmRlcmVycy93ZWJnbC9XZWJHTFJlbmRlcmVyXCIpLHBpeGkuV2ViR0xCYXRjaD1yZXF1aXJlKFwiLi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xCYXRjaFwiKSxwaXhpLldlYkdMUmVuZGVyR3JvdXA9cmVxdWlyZShcIi4vcmVuZGVyZXJzL3dlYmdsL1dlYkdMUmVuZGVyR3JvdXBcIikscGl4aS5DYW52YXNSZW5kZXJlcj1yZXF1aXJlKFwiLi9yZW5kZXJlcnMvY2FudmFzL0NhbnZhc1JlbmRlcmVyXCIpLHBpeGkuQ2FudmFzR3JhcGhpY3M9cmVxdWlyZShcIi4vcmVuZGVyZXJzL2NhbnZhcy9ncmFwaGljc1wiKSxwaXhpLkdyYXBoaWNzPXJlcXVpcmUoXCIuL3ByaW1pdGl2ZXMvR3JhcGhpY3NcIikscGl4aS5TdHJpcD1yZXF1aXJlKFwiLi9leHRyYXMvU3RyaXBcIikscGl4aS5Sb3BlPXJlcXVpcmUoXCIuL2V4dHJhcy9Sb3BlXCIpLHBpeGkuVGlsaW5nU3ByaXRlPXJlcXVpcmUoXCIuL2V4dHJhcy9UaWxpbmdTcHJpdGVcIikscGl4aS5TcGluZT1yZXF1aXJlKFwiLi9leHRyYXMvU3BpbmVcIikscGl4aS5DdXN0b21SZW5kZXJhYmxlPXJlcXVpcmUoXCIuL2V4dHJhcy9DdXN0b21SZW5kZXJhYmxlXCIpLHBpeGkuQmFzZVRleHR1cmU9cmVxdWlyZShcIi4vdGV4dHVyZXMvQmFzZVRleHR1cmVcIikscGl4aS5UZXh0dXJlPXJlcXVpcmUoXCIuL3RleHR1cmVzL1RleHR1cmVcIikscGl4aS5SZW5kZXJUZXh0dXJlPXJlcXVpcmUoXCIuL3RleHR1cmVzL1JlbmRlclRleHR1cmVcIikscGl4aS5Bc3NldExvYWRlcj1yZXF1aXJlKFwiLi9sb2FkZXJzL0Fzc2V0TG9hZGVyXCIpLHBpeGkuSnNvbkxvYWRlcj1yZXF1aXJlKFwiLi9sb2FkZXJzL0pzb25Mb2FkZXJcIikscGl4aS5TcHJpdGVTaGVldExvYWRlcj1yZXF1aXJlKFwiLi9sb2FkZXJzL1Nwcml0ZVNoZWV0TG9hZGVyXCIpLHBpeGkuSW1hZ2VMb2FkZXI9cmVxdWlyZShcIi4vbG9hZGVycy9JbWFnZUxvYWRlclwiKSxwaXhpLkJpdG1hcEZvbnRMb2FkZXI9cmVxdWlyZShcIi4vbG9hZGVycy9CaXRtYXBGb250TG9hZGVyXCIpLHBpeGkuU3BpbmVMb2FkZXI9cmVxdWlyZShcIi4vbG9hZGVycy9TcGluZUxvYWRlclwiKSxwaXhpLmluaXREZWZhdWx0U2hhZGVycz1zaGFkZXJzLmluaXREZWZhdWx0U2hhZGVycyxwaXhpLmFjdGl2YXRlUHJpbWl0aXZlU2hhZGVyPXNoYWRlcnMuYWN0aXZhdGVQcmltaXRpdmVTaGFkZXIscGl4aS5kZWFjdGl2YXRlUHJpbWl0aXZlU2hhZGVyPXNoYWRlcnMuZGVhY3RpdmF0ZVByaW1pdGl2ZVNoYWRlcixwaXhpLmFjdGl2YXRlU3RyaXBTaGFkZXI9c2hhZGVycy5hY3RpdmF0ZVN0cmlwU2hhZGVyLHBpeGkuZGVhY3RpdmF0ZVN0cmlwU2hhZGVyPXNoYWRlcnMuZGVhY3RpdmF0ZVN0cmlwU2hhZGVyO3ZhciBkZWJ1Zz1yZXF1aXJlKFwiLi91dGlscy9kZWJ1Z1wiKTtwaXhpLnJ1bkxpc3Q9ZGVidWcucnVuTGlzdDsiLCIvKipcbiAqIHBpeGkgMC4yLjEgKDZhYTAwMzApXG4gKiBodHRwOi8vZHJraWJpdHouZ2l0aHViLmlvL25vZGUtcGl4aS9cbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE0IERyLiBLaWJpdHosIGh0dHA6Ly9kcmtpYml0ei5jb21cbiAqIFN1cGVyIGZhc3QgMkQgcmVuZGVyaW5nIGVuZ2luZSBmb3IgYnJvd3NlcmlmeSwgdGhhdCB1c2VzIFdlYkdMIHdpdGggYSBjb250ZXh0IDJkIGZhbGxiYWNrLlxuICogYnVpbHQ6IFN1biBKYW4gMDUgMjAxNCAwMTo1Mzo1OCBHTVQtMDUwMCAoRVNUKVxuICpcbiAqIFBpeGkuanMgLSB2MS4zLjBcbiAqIENvcHlyaWdodCAoYykgMjAxMiwgTWF0IEdyb3Zlc1xuICovXG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBnZXREYXRhVHlwZShhKXt2YXIgYj1cImRhdGE6XCIsYz1hLnNsaWNlKDAsYi5sZW5ndGgpLnRvTG93ZXJDYXNlKCk7aWYoYz09PWIpe3ZhciBkPWEuc2xpY2UoYi5sZW5ndGgpLGU9ZC5pbmRleE9mKFwiLFwiKTtpZigtMT09PWUpcmV0dXJuIG51bGw7dmFyIGY9ZC5zbGljZSgwLGUpLnNwbGl0KFwiO1wiKVswXTtyZXR1cm4gZiYmXCJ0ZXh0L3BsYWluXCIhPT1mLnRvTG93ZXJDYXNlKCk/Zi5zcGxpdChcIi9cIikucG9wKCkudG9Mb3dlckNhc2UoKTpcInR4dFwifXJldHVybiBudWxsfWZ1bmN0aW9uIEFzc2V0TG9hZGVyKGEsYil7RXZlbnRUYXJnZXQuY2FsbCh0aGlzKSx0aGlzLmFzc2V0VVJMcz1hLHRoaXMuY3Jvc3NvcmlnaW49Yn12YXIgRXZlbnRUYXJnZXQ9cmVxdWlyZShcIi4uL2V2ZW50cy9FdmVudFRhcmdldFwiKSxsb2FkZXJzQnlUeXBlPXt9LHByb3RvPUFzc2V0TG9hZGVyLnByb3RvdHlwZTtwcm90by5sb2FkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe2Iub25Bc3NldExvYWRlZCgpfXZhciBiPXRoaXM7dGhpcy5sb2FkQ291bnQ9dGhpcy5hc3NldFVSTHMubGVuZ3RoO2Zvcih2YXIgYz0wLGQ9dGhpcy5hc3NldFVSTHMubGVuZ3RoO2Q+YztjKyspe3ZhciBlPXRoaXMuYXNzZXRVUkxzW2NdLGY9Z2V0RGF0YVR5cGUoZSk7Znx8KGY9ZS5zcGxpdChcIj9cIikuc2hpZnQoKS5zcGxpdChcIi5cIikucG9wKCkudG9Mb3dlckNhc2UoKSk7dmFyIGc9bG9hZGVyc0J5VHlwZVtmXTtpZighZyl0aHJvdyBuZXcgRXJyb3IoZitcIiBpcyBhbiB1bnN1cHBvcnRlZCBmaWxlIHR5cGVcIik7dmFyIGg9bmV3IGcoZSx0aGlzLmNyb3Nzb3JpZ2luKTtoLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkZWRcIixhKSxoLmxvYWQoKX19LHByb3RvLm9uQXNzZXRMb2FkZWQ9ZnVuY3Rpb24oKXt0aGlzLmxvYWRDb3VudC0tLHRoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTpcIm9uUHJvZ3Jlc3NcIixjb250ZW50OnRoaXN9KSx0aGlzLm9uUHJvZ3Jlc3MmJnRoaXMub25Qcm9ncmVzcygpLHRoaXMubG9hZENvdW50fHwodGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOlwib25Db21wbGV0ZVwiLGNvbnRlbnQ6dGhpc30pLHRoaXMub25Db21wbGV0ZSYmdGhpcy5vbkNvbXBsZXRlKCkpfSxBc3NldExvYWRlci5yZWdpc3RlckxvYWRlclR5cGU9ZnVuY3Rpb24oYSxiKXtsb2FkZXJzQnlUeXBlW2FdPWJ9LG1vZHVsZS5leHBvcnRzPUFzc2V0TG9hZGVyOyIsIi8qKlxuICogcGl4aSAwLjIuMSAoNmFhMDAzMClcbiAqIGh0dHA6Ly9kcmtpYml0ei5naXRodWIuaW8vbm9kZS1waXhpL1xuICogQ29weXJpZ2h0IChjKSAyMDEzLTIwMTQgRHIuIEtpYml0eiwgaHR0cDovL2Rya2liaXR6LmNvbVxuICogU3VwZXIgZmFzdCAyRCByZW5kZXJpbmcgZW5naW5lIGZvciBicm93c2VyaWZ5LCB0aGF0IHVzZXMgV2ViR0wgd2l0aCBhIGNvbnRleHQgMmQgZmFsbGJhY2suXG4gKiBidWlsdDogU3VuIEphbiAwNSAyMDE0IDAxOjUzOjU4IEdNVC0wNTAwIChFU1QpXG4gKlxuICogUGl4aS5qcyAtIHYxLjMuMFxuICogQ29weXJpZ2h0IChjKSAyMDEyLCBNYXQgR3JvdmVzXG4gKi9cblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIEJpdG1hcEZvbnRMb2FkZXIoYSxiKXtFdmVudFRhcmdldC5jYWxsKHRoaXMpLHRoaXMudXJsPWEsdGhpcy5jcm9zc29yaWdpbj1iLHRoaXMuYmFzZVVybD1hLnJlcGxhY2UoL1teXFwvXSokLyxcIlwiKSx0aGlzLnRleHR1cmU9bnVsbH12YXIgQXNzZXRMb2FkZXI9cmVxdWlyZShcIi4vQXNzZXRMb2FkZXJcIiksSW1hZ2VMb2FkZXI9cmVxdWlyZShcIi4vSW1hZ2VMb2FkZXJcIiksUmVjdGFuZ2xlPXJlcXVpcmUoXCIuLi9nZW9tL1JlY3RhbmdsZVwiKSxFdmVudFRhcmdldD1yZXF1aXJlKFwiLi4vZXZlbnRzL0V2ZW50VGFyZ2V0XCIpLEJpdG1hcFRleHQ9cmVxdWlyZShcIi4uL3RleHQvQml0bWFwVGV4dFwiKSxUZXh0dXJlPXJlcXVpcmUoXCIuLi90ZXh0dXJlcy9UZXh0dXJlXCIpLHBsYXRmb3JtPXJlcXVpcmUoXCIuLi9wbGF0Zm9ybVwiKSxwcm90bz1CaXRtYXBGb250TG9hZGVyLnByb3RvdHlwZTtwcm90by5oYW5kbGVFdmVudD1mdW5jdGlvbihhKXtzd2l0Y2goYS50eXBlKXtjYXNlXCJsb2FkXCI6dGhpcy5vblhNTExvYWRlZCgpO2JyZWFrO2RlZmF1bHQ6dGhpcy5vbkVycm9yKCl9fSxwcm90by5sb2FkPWZ1bmN0aW9uKCl7dGhpcy5yZXF1ZXN0PXBsYXRmb3JtLmNyZWF0ZVJlcXVlc3QoKSx0aGlzLnJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIix0aGlzKSx0aGlzLnJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsdGhpcyksdGhpcy5yZXF1ZXN0Lm9wZW4oXCJHRVRcIix0aGlzLnVybCwhMCksdGhpcy5yZXF1ZXN0Lm92ZXJyaWRlTWltZVR5cGUmJnRoaXMucmVxdWVzdC5vdmVycmlkZU1pbWVUeXBlKFwiYXBwbGljYXRpb24veG1sXCIpLHRoaXMucmVxdWVzdC5zZW5kKG51bGwpfSxwcm90by5vblhNTExvYWRlZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYmFzZVVybCt0aGlzLnJlcXVlc3QucmVzcG9uc2VYTUwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJwYWdlXCIpWzBdLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwiZmlsZVwiKS5ub2RlVmFsdWUsYj1uZXcgSW1hZ2VMb2FkZXIoYSx0aGlzLmNyb3Nzb3JpZ2luKTt0aGlzLnRleHR1cmU9Yi50ZXh0dXJlLmJhc2VUZXh0dXJlO3ZhciBjPXt9LGQ9dGhpcy5yZXF1ZXN0LnJlc3BvbnNlWE1MLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5mb1wiKVswXSxlPXRoaXMucmVxdWVzdC5yZXNwb25zZVhNTC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImNvbW1vblwiKVswXTtjLmZvbnQ9ZC5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShcImZhY2VcIikubm9kZVZhbHVlLGMuc2l6ZT1wYXJzZUludChkLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwic2l6ZVwiKS5ub2RlVmFsdWUsMTApLGMubGluZUhlaWdodD1wYXJzZUludChlLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwibGluZUhlaWdodFwiKS5ub2RlVmFsdWUsMTApLGMuY2hhcnM9e307Zm9yKHZhciBmPXRoaXMucmVxdWVzdC5yZXNwb25zZVhNTC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImNoYXJcIiksZz0wO2c8Zi5sZW5ndGg7ZysrKXt2YXIgaD1wYXJzZUludChmW2ddLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwiaWRcIikubm9kZVZhbHVlLDEwKSxpPW5ldyBSZWN0YW5nbGUocGFyc2VJbnQoZltnXS5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShcInhcIikubm9kZVZhbHVlLDEwKSxwYXJzZUludChmW2ddLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwieVwiKS5ub2RlVmFsdWUsMTApLHBhcnNlSW50KGZbZ10uYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oXCJ3aWR0aFwiKS5ub2RlVmFsdWUsMTApLHBhcnNlSW50KGZbZ10uYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oXCJoZWlnaHRcIikubm9kZVZhbHVlLDEwKSk7Yy5jaGFyc1toXT17eE9mZnNldDpwYXJzZUludChmW2ddLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwieG9mZnNldFwiKS5ub2RlVmFsdWUsMTApLHlPZmZzZXQ6cGFyc2VJbnQoZltnXS5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShcInlvZmZzZXRcIikubm9kZVZhbHVlLDEwKSx4QWR2YW5jZTpwYXJzZUludChmW2ddLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwieGFkdmFuY2VcIikubm9kZVZhbHVlLDEwKSxrZXJuaW5nOnt9LHRleHR1cmU6VGV4dHVyZS5jYWNoZVtoXT1uZXcgVGV4dHVyZSh0aGlzLnRleHR1cmUsaSl9fXZhciBqPXRoaXMucmVxdWVzdC5yZXNwb25zZVhNTC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImtlcm5pbmdcIik7Zm9yKGc9MDtnPGoubGVuZ3RoO2crKyl7dmFyIGs9cGFyc2VJbnQoaltnXS5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShcImZpcnN0XCIpLm5vZGVWYWx1ZSwxMCksbD1wYXJzZUludChqW2ddLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwic2Vjb25kXCIpLm5vZGVWYWx1ZSwxMCksbT1wYXJzZUludChqW2ddLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwiYW1vdW50XCIpLm5vZGVWYWx1ZSwxMCk7Yy5jaGFyc1tsXS5rZXJuaW5nW2tdPW19Qml0bWFwVGV4dC5mb250c1tjLmZvbnRdPWM7dmFyIG49dGhpcztiLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkZWRcIixmdW5jdGlvbigpe24ub25Mb2FkZWQoKX0pLGIubG9hZCgpfSxwcm90by5vbkxvYWRlZD1mdW5jdGlvbigpe3RoaXMubG9hZGVkPSEwLHRoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImxvYWRlZFwiLGNvbnRlbnQ6dGhpc30pfSxwcm90by5vbkVycm9yPWZ1bmN0aW9uKCl7dGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiZXJyb3JcIixjb250ZW50OnRoaXN9KX0sQXNzZXRMb2FkZXIucmVnaXN0ZXJMb2FkZXJUeXBlKFwieG1sXCIsQml0bWFwRm9udExvYWRlciksQXNzZXRMb2FkZXIucmVnaXN0ZXJMb2FkZXJUeXBlKFwiZm50XCIsQml0bWFwRm9udExvYWRlciksbW9kdWxlLmV4cG9ydHM9Qml0bWFwRm9udExvYWRlcjsiLCIvKipcbiAqIHBpeGkgMC4yLjEgKDZhYTAwMzApXG4gKiBodHRwOi8vZHJraWJpdHouZ2l0aHViLmlvL25vZGUtcGl4aS9cbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE0IERyLiBLaWJpdHosIGh0dHA6Ly9kcmtpYml0ei5jb21cbiAqIFN1cGVyIGZhc3QgMkQgcmVuZGVyaW5nIGVuZ2luZSBmb3IgYnJvd3NlcmlmeSwgdGhhdCB1c2VzIFdlYkdMIHdpdGggYSBjb250ZXh0IDJkIGZhbGxiYWNrLlxuICogYnVpbHQ6IFN1biBKYW4gMDUgMjAxNCAwMTo1Mzo1OCBHTVQtMDUwMCAoRVNUKVxuICpcbiAqIFBpeGkuanMgLSB2MS4zLjBcbiAqIENvcHlyaWdodCAoYykgMjAxMiwgTWF0IEdyb3Zlc1xuICovXG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBJbWFnZUxvYWRlcihhLGIpe0V2ZW50VGFyZ2V0LmNhbGwodGhpcyksdGhpcy50ZXh0dXJlPVRleHR1cmUuZnJvbUltYWdlKGEsYiksdGhpcy5mcmFtZXM9W119dmFyIEFzc2V0TG9hZGVyPXJlcXVpcmUoXCIuL0Fzc2V0TG9hZGVyXCIpLEV2ZW50VGFyZ2V0PXJlcXVpcmUoXCIuLi9ldmVudHMvRXZlbnRUYXJnZXRcIiksVGV4dHVyZT1yZXF1aXJlKFwiLi4vdGV4dHVyZXMvVGV4dHVyZVwiKSxwcm90bz1JbWFnZUxvYWRlci5wcm90b3R5cGU7cHJvdG8ubG9hZD1mdW5jdGlvbigpe2lmKHRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZS5oYXNMb2FkZWQpdGhpcy5vbkxvYWRlZCgpO2Vsc2V7dmFyIGE9dGhpczt0aGlzLnRleHR1cmUuYmFzZVRleHR1cmUuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRlZFwiLGZ1bmN0aW9uKCl7YS5vbkxvYWRlZCgpfSl9fSxwcm90by5vbkxvYWRlZD1mdW5jdGlvbigpe3RoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImxvYWRlZFwiLGNvbnRlbnQ6dGhpc30pfSxwcm90by5sb2FkRnJhbWVkU3ByaXRlU2hlZXQ9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuZnJhbWVzPVtdO2Zvcih2YXIgZD1NYXRoLmZsb29yKHRoaXMudGV4dHVyZS53aWR0aC9hKSxlPU1hdGguZmxvb3IodGhpcy50ZXh0dXJlLmhlaWdodC9iKSxmPTAsZz0wO2U+ZztnKyspZm9yKHZhciBoPTA7ZD5oO2grKyxmKyspe3ZhciBpPW5ldyBUZXh0dXJlKHRoaXMudGV4dHVyZSx7eDpoKmEseTpnKmIsd2lkdGg6YSxoZWlnaHQ6Yn0pO3RoaXMuZnJhbWVzLnB1c2goaSksYyYmKFRleHR1cmUuY2FjaGVbYytcIi1cIitmXT1pKX1pZih0aGlzLnRleHR1cmUuYmFzZVRleHR1cmUuaGFzTG9hZGVkKXRoaXMub25Mb2FkZWQoKTtlbHNle3ZhciBqPXRoaXM7dGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkZWRcIixmdW5jdGlvbigpe2oub25Mb2FkZWQoKX0pfX0sQXNzZXRMb2FkZXIucmVnaXN0ZXJMb2FkZXJUeXBlKFwianBnXCIsSW1hZ2VMb2FkZXIpLEFzc2V0TG9hZGVyLnJlZ2lzdGVyTG9hZGVyVHlwZShcImpwZWdcIixJbWFnZUxvYWRlciksQXNzZXRMb2FkZXIucmVnaXN0ZXJMb2FkZXJUeXBlKFwicG5nXCIsSW1hZ2VMb2FkZXIpLEFzc2V0TG9hZGVyLnJlZ2lzdGVyTG9hZGVyVHlwZShcImdpZlwiLEltYWdlTG9hZGVyKSxtb2R1bGUuZXhwb3J0cz1JbWFnZUxvYWRlcjsiLCIvKipcbiAqIHBpeGkgMC4yLjEgKDZhYTAwMzApXG4gKiBodHRwOi8vZHJraWJpdHouZ2l0aHViLmlvL25vZGUtcGl4aS9cbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE0IERyLiBLaWJpdHosIGh0dHA6Ly9kcmtpYml0ei5jb21cbiAqIFN1cGVyIGZhc3QgMkQgcmVuZGVyaW5nIGVuZ2luZSBmb3IgYnJvd3NlcmlmeSwgdGhhdCB1c2VzIFdlYkdMIHdpdGggYSBjb250ZXh0IDJkIGZhbGxiYWNrLlxuICogYnVpbHQ6IFN1biBKYW4gMDUgMjAxNCAwMTo1Mzo1OCBHTVQtMDUwMCAoRVNUKVxuICpcbiAqIFBpeGkuanMgLSB2MS4zLjBcbiAqIENvcHlyaWdodCAoYykgMjAxMiwgTWF0IEdyb3Zlc1xuICovXG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBKc29uTG9hZGVyKGEsYil7RXZlbnRUYXJnZXQuY2FsbCh0aGlzKSx0aGlzLnVybD1hLHRoaXMuY3Jvc3NvcmlnaW49Yix0aGlzLmJhc2VVcmw9YS5yZXBsYWNlKC9bXlxcL10qJC8sXCJcIiksdGhpcy5sb2FkZWQ9ITF9dmFyIEFzc2V0TG9hZGVyPXJlcXVpcmUoXCIuL0Fzc2V0TG9hZGVyXCIpLEltYWdlTG9hZGVyPXJlcXVpcmUoXCIuL0ltYWdlTG9hZGVyXCIpLEV2ZW50VGFyZ2V0PXJlcXVpcmUoXCIuLi9ldmVudHMvRXZlbnRUYXJnZXRcIiksVGV4dHVyZT1yZXF1aXJlKFwiLi4vdGV4dHVyZXMvVGV4dHVyZVwiKSxTcGluZT1yZXF1aXJlKFwiLi4vZXh0cmFzL1NwaW5lXCIpLFNrZWxldG9uSnNvbj1yZXF1aXJlKFwiLi4vdXRpbHMvc3BpbmVcIikuU2tlbGV0b25Kc29uLHBsYXRmb3JtPXJlcXVpcmUoXCIuLi9wbGF0Zm9ybVwiKSxwcm90bz1Kc29uTG9hZGVyLnByb3RvdHlwZTtwcm90by5oYW5kbGVFdmVudD1mdW5jdGlvbihhKXtzd2l0Y2goYS50eXBlKXtjYXNlXCJsb2FkXCI6dGhpcy5vbkpTT05Mb2FkZWQoKTticmVhaztkZWZhdWx0OnRoaXMub25FcnJvcigpfX0scHJvdG8ubG9hZD1mdW5jdGlvbigpe3RoaXMucmVxdWVzdD1wbGF0Zm9ybS5jcmVhdGVSZXF1ZXN0KCksdGhpcy5yZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsdGhpcyksdGhpcy5yZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLHRoaXMpLHRoaXMucmVxdWVzdC5vcGVuKFwiR0VUXCIsdGhpcy51cmwsITApLHRoaXMucmVxdWVzdC5vdmVycmlkZU1pbWVUeXBlJiZ0aGlzLnJlcXVlc3Qub3ZlcnJpZGVNaW1lVHlwZShcImFwcGxpY2F0aW9uL2pzb25cIiksdGhpcy5yZXF1ZXN0LnNlbmQobnVsbCl9LHByb3RvLm9uSlNPTkxvYWRlZD1mdW5jdGlvbigpe2lmKHRoaXMuanNvbj1KU09OLnBhcnNlKHRoaXMucmVxdWVzdC5yZXNwb25zZVRleHQpLHRoaXMuanNvbi5mcmFtZXMpe3ZhciBhPXRoaXMsYj10aGlzLmJhc2VVcmwrdGhpcy5qc29uLm1ldGEuaW1hZ2UsYz1uZXcgSW1hZ2VMb2FkZXIoYix0aGlzLmNyb3Nzb3JpZ2luKSxkPXRoaXMuanNvbi5mcmFtZXM7dGhpcy50ZXh0dXJlPWMudGV4dHVyZS5iYXNlVGV4dHVyZSxjLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkZWRcIixmdW5jdGlvbigpe2Eub25Mb2FkZWQoKX0pO2Zvcih2YXIgZSBpbiBkKXt2YXIgZj1kW2VdLmZyYW1lO2YmJihUZXh0dXJlLmNhY2hlW2VdPW5ldyBUZXh0dXJlKHRoaXMudGV4dHVyZSx7eDpmLngseTpmLnksd2lkdGg6Zi53LGhlaWdodDpmLmh9KSxkW2VdLnRyaW1tZWQmJihUZXh0dXJlLmNhY2hlW2VdLnJlYWxTaXplPWRbZV0uc3ByaXRlU291cmNlU2l6ZSxUZXh0dXJlLmNhY2hlW2VdLnRyaW0ueD0wKSl9Yy5sb2FkKCl9ZWxzZSBpZih0aGlzLmpzb24uYm9uZXMpe3ZhciBnPW5ldyBTa2VsZXRvbkpzb24saD1nLnJlYWRTa2VsZXRvbkRhdGEodGhpcy5qc29uKTtTcGluZS5hbmltQ2FjaGVbdGhpcy51cmxdPWgsdGhpcy5vbkxvYWRlZCgpfWVsc2UgdGhpcy5vbkxvYWRlZCgpfSxwcm90by5vbkxvYWRlZD1mdW5jdGlvbigpe3RoaXMubG9hZGVkPSEwLHRoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImxvYWRlZFwiLGNvbnRlbnQ6dGhpc30pfSxwcm90by5vbkVycm9yPWZ1bmN0aW9uKCl7dGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiZXJyb3JcIixjb250ZW50OnRoaXN9KX0sQXNzZXRMb2FkZXIucmVnaXN0ZXJMb2FkZXJUeXBlKFwianNvblwiLEpzb25Mb2FkZXIpLG1vZHVsZS5leHBvcnRzPUpzb25Mb2FkZXI7IiwiLyoqXG4gKiBwaXhpIDAuMi4xICg2YWEwMDMwKVxuICogaHR0cDovL2Rya2liaXR6LmdpdGh1Yi5pby9ub2RlLXBpeGkvXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNCBEci4gS2liaXR6LCBodHRwOi8vZHJraWJpdHouY29tXG4gKiBTdXBlciBmYXN0IDJEIHJlbmRlcmluZyBlbmdpbmUgZm9yIGJyb3dzZXJpZnksIHRoYXQgdXNlcyBXZWJHTCB3aXRoIGEgY29udGV4dCAyZCBmYWxsYmFjay5cbiAqIGJ1aWx0OiBTdW4gSmFuIDA1IDIwMTQgMDE6NTM6NTggR01ULTA1MDAgKEVTVClcbiAqXG4gKiBQaXhpLmpzIC0gdjEuMy4wXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIsIE1hdCBHcm92ZXNcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gU3BpbmVMb2FkZXIoYSxiKXtFdmVudFRhcmdldC5jYWxsKHRoaXMpLHRoaXMudXJsPWEsdGhpcy5jcm9zc29yaWdpbj1iLHRoaXMubG9hZGVkPSExfXZhciBBc3NldExvYWRlcj1yZXF1aXJlKFwiLi9Bc3NldExvYWRlclwiKSxKc29uTG9hZGVyPXJlcXVpcmUoXCIuL0pzb25Mb2FkZXJcIiksRXZlbnRUYXJnZXQ9cmVxdWlyZShcIi4uL2V2ZW50cy9FdmVudFRhcmdldFwiKSxTcGluZT1yZXF1aXJlKFwiLi4vZXh0cmFzL1NwaW5lXCIpLFNrZWxldG9uSnNvbj1yZXF1aXJlKFwiLi4vdXRpbHMvc3BpbmVcIikuU2tlbGV0b25Kc29uLHByb3RvPVNwaW5lTG9hZGVyLnByb3RvdHlwZTtwcm90by5sb2FkPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPW5ldyBKc29uTG9hZGVyKHRoaXMudXJsLHRoaXMuY3Jvc3NvcmlnaW4pO2IuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRlZFwiLGZ1bmN0aW9uKGIpe2EuanNvbj1iLmNvbnRlbnQuanNvbixhLm9uSlNPTkxvYWRlZCgpfSksYi5sb2FkKCl9LHByb3RvLm9uSlNPTkxvYWRlZD1mdW5jdGlvbigpe3ZhciBhPW5ldyBTa2VsZXRvbkpzb24sYj1hLnJlYWRTa2VsZXRvbkRhdGEodGhpcy5qc29uKTtTcGluZS5hbmltQ2FjaGVbdGhpcy51cmxdPWIsdGhpcy5vbkxvYWRlZCgpfSxwcm90by5vbkxvYWRlZD1mdW5jdGlvbigpe3RoaXMubG9hZGVkPSEwLHRoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImxvYWRlZFwiLGNvbnRlbnQ6dGhpc30pfSxBc3NldExvYWRlci5yZWdpc3RlckxvYWRlclR5cGUoXCJhbmltXCIsU3BpbmVMb2FkZXIpLG1vZHVsZS5leHBvcnRzPVNwaW5lTG9hZGVyOyIsIi8qKlxuICogcGl4aSAwLjIuMSAoNmFhMDAzMClcbiAqIGh0dHA6Ly9kcmtpYml0ei5naXRodWIuaW8vbm9kZS1waXhpL1xuICogQ29weXJpZ2h0IChjKSAyMDEzLTIwMTQgRHIuIEtpYml0eiwgaHR0cDovL2Rya2liaXR6LmNvbVxuICogU3VwZXIgZmFzdCAyRCByZW5kZXJpbmcgZW5naW5lIGZvciBicm93c2VyaWZ5LCB0aGF0IHVzZXMgV2ViR0wgd2l0aCBhIGNvbnRleHQgMmQgZmFsbGJhY2suXG4gKiBidWlsdDogU3VuIEphbiAwNSAyMDE0IDAxOjUzOjU4IEdNVC0wNTAwIChFU1QpXG4gKlxuICogUGl4aS5qcyAtIHYxLjMuMFxuICogQ29weXJpZ2h0IChjKSAyMDEyLCBNYXQgR3JvdmVzXG4gKi9cblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIFNwcml0ZVNoZWV0TG9hZGVyKGEsYil7RXZlbnRUYXJnZXQuY2FsbCh0aGlzKSx0aGlzLnVybD1hLHRoaXMuY3Jvc3NvcmlnaW49Yix0aGlzLmJhc2VVcmw9YS5yZXBsYWNlKC9bXlxcL10qJC8sXCJcIiksdGhpcy50ZXh0dXJlPW51bGwsdGhpcy5mcmFtZXM9e319dmFyIEpzb25Mb2FkZXI9cmVxdWlyZShcIi4vSnNvbkxvYWRlclwiKSxJbWFnZUxvYWRlcj1yZXF1aXJlKFwiLi9JbWFnZUxvYWRlclwiKSxFdmVudFRhcmdldD1yZXF1aXJlKFwiLi4vZXZlbnRzL0V2ZW50VGFyZ2V0XCIpLFRleHR1cmU9cmVxdWlyZShcIi4uL3RleHR1cmVzL1RleHR1cmVcIikscHJvdG89U3ByaXRlU2hlZXRMb2FkZXIucHJvdG90eXBlO3Byb3RvLmxvYWQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9bmV3IEpzb25Mb2FkZXIodGhpcy51cmwsdGhpcy5jcm9zc29yaWdpbik7Yi5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVkXCIsZnVuY3Rpb24oYil7YS5qc29uPWIuY29udGVudC5qc29uLGEub25KU09OTG9hZGVkKCl9KSxiLmxvYWQoKX0scHJvdG8ub25KU09OTG9hZGVkPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPXRoaXMuYmFzZVVybCt0aGlzLmpzb24ubWV0YS5pbWFnZSxjPW5ldyBJbWFnZUxvYWRlcihiLHRoaXMuY3Jvc3NvcmlnaW4pLGQ9dGhpcy5qc29uLmZyYW1lczt0aGlzLnRleHR1cmU9Yy50ZXh0dXJlLmJhc2VUZXh0dXJlLGMuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRlZFwiLGZ1bmN0aW9uKCl7YS5vbkxvYWRlZCgpfSk7Zm9yKHZhciBlIGluIGQpe3ZhciBmPWRbZV0uZnJhbWU7ZiYmKFRleHR1cmUuY2FjaGVbZV09bmV3IFRleHR1cmUodGhpcy50ZXh0dXJlLHt4OmYueCx5OmYueSx3aWR0aDpmLncsaGVpZ2h0OmYuaH0pLGRbZV0udHJpbW1lZCYmKFRleHR1cmUuY2FjaGVbZV0ucmVhbFNpemU9ZFtlXS5zcHJpdGVTb3VyY2VTaXplLFRleHR1cmUuY2FjaGVbZV0udHJpbS54PTApKX1jLmxvYWQoKX0scHJvdG8ub25Mb2FkZWQ9ZnVuY3Rpb24oKXt0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJsb2FkZWRcIixjb250ZW50OnRoaXN9KX0sbW9kdWxlLmV4cG9ydHM9U3ByaXRlU2hlZXRMb2FkZXI7IiwiKGZ1bmN0aW9uIChnbG9iYWwpe1xuLyoqXG4gKiBwaXhpIDAuMi4xICg2YWEwMDMwKVxuICogaHR0cDovL2Rya2liaXR6LmdpdGh1Yi5pby9ub2RlLXBpeGkvXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNCBEci4gS2liaXR6LCBodHRwOi8vZHJraWJpdHouY29tXG4gKiBTdXBlciBmYXN0IDJEIHJlbmRlcmluZyBlbmdpbmUgZm9yIGJyb3dzZXJpZnksIHRoYXQgdXNlcyBXZWJHTCB3aXRoIGEgY29udGV4dCAyZCBmYWxsYmFjay5cbiAqIGJ1aWx0OiBTdW4gSmFuIDA1IDIwMTQgMDE6NTM6NTggR01ULTA1MDAgKEVTVClcbiAqXG4gKiBQaXhpLmpzIC0gdjEuMy4wXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIsIE1hdCBHcm92ZXNcbiAqL1xubW9kdWxlLmV4cG9ydHM9e2NvbnNvbGU6Z2xvYmFsLmNvbnNvbGUsZG9jdW1lbnQ6Z2xvYmFsLmRvY3VtZW50LGxvY2F0aW9uOmdsb2JhbC5sb2NhdGlvbixuYXZpZ2F0b3I6Z2xvYmFsLm5hdmlnYXRvcix3aW5kb3c6Z2xvYmFsLndpbmRvdyxjcmVhdGVDYW52YXM6ZnVuY3Rpb24oKXtyZXR1cm4gZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIil9LGNyZWF0ZUltYWdlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBnbG9iYWwuSW1hZ2V9LGNyZWF0ZVJlcXVlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGdsb2JhbC5YTUxIdHRwUmVxdWVzdH19O1xufSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pIiwiLyoqXG4gKiBwaXhpIDAuMi4xICg2YWEwMDMwKVxuICogaHR0cDovL2Rya2liaXR6LmdpdGh1Yi5pby9ub2RlLXBpeGkvXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNCBEci4gS2liaXR6LCBodHRwOi8vZHJraWJpdHouY29tXG4gKiBTdXBlciBmYXN0IDJEIHJlbmRlcmluZyBlbmdpbmUgZm9yIGJyb3dzZXJpZnksIHRoYXQgdXNlcyBXZWJHTCB3aXRoIGEgY29udGV4dCAyZCBmYWxsYmFjay5cbiAqIGJ1aWx0OiBTdW4gSmFuIDA1IDIwMTQgMDE6NTM6NTggR01ULTA1MDAgKEVTVClcbiAqXG4gKiBQaXhpLmpzIC0gdjEuMy4wXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIsIE1hdCBHcm92ZXNcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gR3JhcGhpY3MoKXtEaXNwbGF5T2JqZWN0Q29udGFpbmVyLmNhbGwodGhpcyksdGhpcy5yZW5kZXJhYmxlPSEwLHRoaXMuZmlsbEFscGhhPTEsdGhpcy5saW5lV2lkdGg9MCx0aGlzLmxpbmVDb2xvcj1cImJsYWNrXCIsdGhpcy5ncmFwaGljc0RhdGE9W10sdGhpcy5jdXJyZW50UGF0aD17cG9pbnRzOltdfX12YXIgRGlzcGxheU9iamVjdENvbnRhaW5lcj1yZXF1aXJlKFwiLi4vZGlzcGxheS9EaXNwbGF5T2JqZWN0Q29udGFpbmVyXCIpLFJlY3RhbmdsZT1yZXF1aXJlKFwiLi4vZ2VvbS9SZWN0YW5nbGVcIikscHJvdG89R3JhcGhpY3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRGlzcGxheU9iamVjdENvbnRhaW5lci5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpHcmFwaGljc319KTtwcm90by5saW5lU3R5bGU9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuY3VycmVudFBhdGgucG9pbnRzLmxlbmd0aHx8dGhpcy5ncmFwaGljc0RhdGEucG9wKCksdGhpcy5saW5lV2lkdGg9YXx8MCx0aGlzLmxpbmVDb2xvcj1ifHwwLHRoaXMubGluZUFscGhhPWFyZ3VtZW50cy5sZW5ndGg8Mz8xOmMsdGhpcy5jdXJyZW50UGF0aD17bGluZVdpZHRoOnRoaXMubGluZVdpZHRoLGxpbmVDb2xvcjp0aGlzLmxpbmVDb2xvcixsaW5lQWxwaGE6dGhpcy5saW5lQWxwaGEsZmlsbENvbG9yOnRoaXMuZmlsbENvbG9yLGZpbGxBbHBoYTp0aGlzLmZpbGxBbHBoYSxmaWxsOnRoaXMuZmlsbGluZyxwb2ludHM6W10sdHlwZTpHcmFwaGljcy5QT0xZfSx0aGlzLmdyYXBoaWNzRGF0YS5wdXNoKHRoaXMuY3VycmVudFBhdGgpfSxwcm90by5tb3ZlVG89ZnVuY3Rpb24oYSxiKXt0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5sZW5ndGh8fHRoaXMuZ3JhcGhpY3NEYXRhLnBvcCgpLHRoaXMuY3VycmVudFBhdGg9dGhpcy5jdXJyZW50UGF0aD17bGluZVdpZHRoOnRoaXMubGluZVdpZHRoLGxpbmVDb2xvcjp0aGlzLmxpbmVDb2xvcixsaW5lQWxwaGE6dGhpcy5saW5lQWxwaGEsZmlsbENvbG9yOnRoaXMuZmlsbENvbG9yLGZpbGxBbHBoYTp0aGlzLmZpbGxBbHBoYSxmaWxsOnRoaXMuZmlsbGluZyxwb2ludHM6W10sdHlwZTpHcmFwaGljcy5QT0xZfSx0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5wdXNoKGEsYiksdGhpcy5ncmFwaGljc0RhdGEucHVzaCh0aGlzLmN1cnJlbnRQYXRoKX0scHJvdG8ubGluZVRvPWZ1bmN0aW9uKGEsYil7dGhpcy5jdXJyZW50UGF0aC5wb2ludHMucHVzaChhLGIpLHRoaXMuZGlydHk9ITB9LHByb3RvLmJlZ2luRmlsbD1mdW5jdGlvbihhLGIpe3RoaXMuZmlsbGluZz0hMCx0aGlzLmZpbGxDb2xvcj1hfHwwLHRoaXMuZmlsbEFscGhhPWFyZ3VtZW50cy5sZW5ndGg8Mj8xOmJ9LHByb3RvLmVuZEZpbGw9ZnVuY3Rpb24oKXt0aGlzLmZpbGxpbmc9ITEsdGhpcy5maWxsQ29sb3I9bnVsbCx0aGlzLmZpbGxBbHBoYT0xfSxwcm90by5kcmF3UmVjdD1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5sZW5ndGh8fHRoaXMuZ3JhcGhpY3NEYXRhLnBvcCgpLHRoaXMuY3VycmVudFBhdGg9e2xpbmVXaWR0aDp0aGlzLmxpbmVXaWR0aCxsaW5lQ29sb3I6dGhpcy5saW5lQ29sb3IsbGluZUFscGhhOnRoaXMubGluZUFscGhhLGZpbGxDb2xvcjp0aGlzLmZpbGxDb2xvcixmaWxsQWxwaGE6dGhpcy5maWxsQWxwaGEsZmlsbDp0aGlzLmZpbGxpbmcscG9pbnRzOlthLGIsYyxkXSx0eXBlOkdyYXBoaWNzLlJFQ1R9LHRoaXMuZ3JhcGhpY3NEYXRhLnB1c2godGhpcy5jdXJyZW50UGF0aCksdGhpcy5kaXJ0eT0hMH0scHJvdG8uZHJhd0NpcmNsZT1mdW5jdGlvbihhLGIsYyl7dGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RofHx0aGlzLmdyYXBoaWNzRGF0YS5wb3AoKSx0aGlzLmN1cnJlbnRQYXRoPXtsaW5lV2lkdGg6dGhpcy5saW5lV2lkdGgsbGluZUNvbG9yOnRoaXMubGluZUNvbG9yLGxpbmVBbHBoYTp0aGlzLmxpbmVBbHBoYSxmaWxsQ29sb3I6dGhpcy5maWxsQ29sb3IsZmlsbEFscGhhOnRoaXMuZmlsbEFscGhhLGZpbGw6dGhpcy5maWxsaW5nLHBvaW50czpbYSxiLGMsY10sdHlwZTpHcmFwaGljcy5DSVJDfSx0aGlzLmdyYXBoaWNzRGF0YS5wdXNoKHRoaXMuY3VycmVudFBhdGgpLHRoaXMuZGlydHk9ITB9LHByb3RvLmRyYXdFbGlwc2U9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RofHx0aGlzLmdyYXBoaWNzRGF0YS5wb3AoKSx0aGlzLmN1cnJlbnRQYXRoPXtsaW5lV2lkdGg6dGhpcy5saW5lV2lkdGgsbGluZUNvbG9yOnRoaXMubGluZUNvbG9yLGxpbmVBbHBoYTp0aGlzLmxpbmVBbHBoYSxmaWxsQ29sb3I6dGhpcy5maWxsQ29sb3IsZmlsbEFscGhhOnRoaXMuZmlsbEFscGhhLGZpbGw6dGhpcy5maWxsaW5nLHBvaW50czpbYSxiLGMsZF0sdHlwZTpHcmFwaGljcy5FTElQfSx0aGlzLmdyYXBoaWNzRGF0YS5wdXNoKHRoaXMuY3VycmVudFBhdGgpLHRoaXMuZGlydHk9ITB9LHByb3RvLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5saW5lV2lkdGg9MCx0aGlzLmZpbGxpbmc9ITEsdGhpcy5kaXJ0eT0hMCx0aGlzLmNsZWFyRGlydHk9ITAsdGhpcy5ncmFwaGljc0RhdGE9W10sdGhpcy5ib3VuZHM9bnVsbH0scHJvdG8udXBkYXRlRmlsdGVyQm91bmRzPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYm91bmRzKXtmb3IodmFyIGEsYixjLGQ9MS8wLGU9LTEvMCxmPTEvMCxnPS0xLzAsaD0wO2g8dGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoO2grKyl7dmFyIGk9dGhpcy5ncmFwaGljc0RhdGFbaF0saj1pLnR5cGUsaz1pLmxpbmVXaWR0aDtpZihhPWkucG9pbnRzLGo9PT1HcmFwaGljcy5SRUNUKXtiPWEueC1rLzIsYz1hLnktay8yO3ZhciBsPWEud2lkdGgrayxtPWEuaGVpZ2h0K2s7ZD1kPmI/YjpkLGU9YitsPmU/YitsOmUsZj1mPmM/YjpmLGc9YyttPmc/YyttOmd9ZWxzZSBpZihqPT09R3JhcGhpY3MuQ0lSQ3x8aj09PUdyYXBoaWNzLkVMSVApe2I9YS54LGM9YS55O3ZhciBuPWEucmFkaXVzK2svMjtkPWQ+Yi1uP2ItbjpkLGU9YituPmU/YituOmUsZj1mPmMtbj9jLW46ZixnPWMrbj5nP2MrbjpnfWVsc2UgZm9yKHZhciBvPTA7bzxhLmxlbmd0aDtvKz0yKWI9YVtvXSxjPWFbbysxXSxkPWQ+Yi1rP2ItazpkLGU9YitrPmU/YitrOmUsZj1mPmMtaz9jLWs6ZixnPWMraz5nP2MrazpnfXRoaXMuYm91bmRzPW5ldyBSZWN0YW5nbGUoZCxmLGUtZCxnLWYpfX0sR3JhcGhpY3MuUE9MWT0wLEdyYXBoaWNzLlJFQ1Q9MSxHcmFwaGljcy5DSVJDPTIsR3JhcGhpY3MuRUxJUD0zLG1vZHVsZS5leHBvcnRzPUdyYXBoaWNzOyIsIi8qKlxuICogcGl4aSAwLjIuMSAoNmFhMDAzMClcbiAqIGh0dHA6Ly9kcmtpYml0ei5naXRodWIuaW8vbm9kZS1waXhpL1xuICogQ29weXJpZ2h0IChjKSAyMDEzLTIwMTQgRHIuIEtpYml0eiwgaHR0cDovL2Rya2liaXR6LmNvbVxuICogU3VwZXIgZmFzdCAyRCByZW5kZXJpbmcgZW5naW5lIGZvciBicm93c2VyaWZ5LCB0aGF0IHVzZXMgV2ViR0wgd2l0aCBhIGNvbnRleHQgMmQgZmFsbGJhY2suXG4gKiBidWlsdDogU3VuIEphbiAwNSAyMDE0IDAxOjUzOjU4IEdNVC0wNTAwIChFU1QpXG4gKlxuICogUGl4aS5qcyAtIHYxLjMuMFxuICogQ29weXJpZ2h0IChjKSAyMDEyLCBNYXQgR3JvdmVzXG4gKi9cblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIENhbnZhc1JlbmRlcmVyKGEsYixjLGQpe3RoaXMudHJhbnNwYXJlbnQ9ZCx0aGlzLndpZHRoPWF8fDgwMCx0aGlzLmhlaWdodD1ifHw2MDAsdGhpcy52aWV3PWN8fHBsYXRmb3JtLmNyZWF0ZUNhbnZhcygpLHRoaXMuY29udGV4dD10aGlzLnZpZXcuZ2V0Q29udGV4dChcIjJkXCIpLHRoaXMuc21vb3RoUHJvcGVydHk9bnVsbCxcImltYWdlU21vb3RoaW5nRW5hYmxlZFwiaW4gdGhpcy5jb250ZXh0P3RoaXMuc21vb3RoUHJvcGVydHk9XCJpbWFnZVNtb290aGluZ0VuYWJsZWRcIjpcIndlYmtpdEltYWdlU21vb3RoaW5nRW5hYmxlZFwiaW4gdGhpcy5jb250ZXh0P3RoaXMuc21vb3RoUHJvcGVydHk9XCJ3ZWJraXRJbWFnZVNtb290aGluZ0VuYWJsZWRcIjpcIm1vekltYWdlU21vb3RoaW5nRW5hYmxlZFwiaW4gdGhpcy5jb250ZXh0P3RoaXMuc21vb3RoUHJvcGVydHk9XCJtb3pJbWFnZVNtb290aGluZ0VuYWJsZWRcIjpcIm9JbWFnZVNtb290aGluZ0VuYWJsZWRcImluIHRoaXMuY29udGV4dCYmKHRoaXMuc21vb3RoUHJvcGVydHk9XCJvSW1hZ2VTbW9vdGhpbmdFbmFibGVkXCIpLHRoaXMuc2NhbGVNb2RlPW51bGwsdGhpcy5yZWZyZXNoPSEwLHRoaXMudmlldy53aWR0aD10aGlzLndpZHRoLHRoaXMudmlldy5oZWlnaHQ9dGhpcy5oZWlnaHQsdGhpcy5jb3VudD0wfXZhciBwbGF0Zm9ybT1yZXF1aXJlKFwiLi4vLi4vcGxhdGZvcm1cIiksZ2xvYmFscz1yZXF1aXJlKFwiLi4vLi4vY29yZS9nbG9iYWxzXCIpLGNhbnZhc0dyYXBoaWNzPXJlcXVpcmUoXCIuL2dyYXBoaWNzXCIpLEJhc2VUZXh0dXJlPXJlcXVpcmUoXCIuLi8uLi90ZXh0dXJlcy9CYXNlVGV4dHVyZVwiKSxUZXh0dXJlPXJlcXVpcmUoXCIuLi8uLi90ZXh0dXJlcy9UZXh0dXJlXCIpLFNwcml0ZT1yZXF1aXJlKFwiLi4vLi4vZGlzcGxheS9TcHJpdGVcIiksVGlsaW5nU3ByaXRlPXJlcXVpcmUoXCIuLi8uLi9leHRyYXMvVGlsaW5nU3ByaXRlXCIpLFN0cmlwPXJlcXVpcmUoXCIuLi8uLi9leHRyYXMvU3RyaXBcIiksQ3VzdG9tUmVuZGVyYWJsZT1yZXF1aXJlKFwiLi4vLi4vZXh0cmFzL0N1c3RvbVJlbmRlcmFibGVcIiksR3JhcGhpY3M9cmVxdWlyZShcIi4uLy4uL3ByaW1pdGl2ZXMvR3JhcGhpY3NcIiksRmlsdGVyQmxvY2s9cmVxdWlyZShcIi4uLy4uL2ZpbHRlcnMvRmlsdGVyQmxvY2tcIikscHJvdG89Q2FudmFzUmVuZGVyZXIucHJvdG90eXBlO3Byb3RvLnJlbmRlcj1mdW5jdGlvbihhKXtnbG9iYWxzLnRleHR1cmVzVG9VcGRhdGU9W10sZ2xvYmFscy50ZXh0dXJlc1RvRGVzdHJveT1bXSxnbG9iYWxzLnZpc2libGVDb3VudCsrLGEudXBkYXRlVHJhbnNmb3JtKCksdGhpcy52aWV3LnN0eWxlLmJhY2tncm91bmRDb2xvcj09PWEuYmFja2dyb3VuZENvbG9yU3RyaW5nfHx0aGlzLnRyYW5zcGFyZW50fHwodGhpcy52aWV3LnN0eWxlLmJhY2tncm91bmRDb2xvcj1hLmJhY2tncm91bmRDb2xvclN0cmluZyksdGhpcy5jb250ZXh0LnNldFRyYW5zZm9ybSgxLDAsMCwxLDAsMCksdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCksdGhpcy5yZW5kZXJEaXNwbGF5T2JqZWN0KGEpLGEuaW50ZXJhY3RpdmUmJihhLl9pbnRlcmFjdGl2ZUV2ZW50c0FkZGVkfHwoYS5faW50ZXJhY3RpdmVFdmVudHNBZGRlZD0hMCxhLmludGVyYWN0aW9uTWFuYWdlci5zZXRUYXJnZXQodGhpcykpKSxUZXh0dXJlLmZyYW1lVXBkYXRlcy5sZW5ndGg+MCYmKFRleHR1cmUuZnJhbWVVcGRhdGVzPVtdKX0scHJvdG8ucmVzaXplPWZ1bmN0aW9uKGEsYil7dGhpcy53aWR0aD1hLHRoaXMuaGVpZ2h0PWIsdGhpcy52aWV3LndpZHRoPWEsdGhpcy52aWV3LmhlaWdodD1ifSxwcm90by5yZW5kZXJEaXNwbGF5T2JqZWN0PWZ1bmN0aW9uKGEpe3ZhciBiLGM9dGhpcy5jb250ZXh0O2MuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVwic291cmNlLW92ZXJcIjt2YXIgZD1hLmxhc3QuX2lOZXh0O2E9YS5maXJzdDtkbyBpZihiPWEud29ybGRUcmFuc2Zvcm0sYS52aXNpYmxlKWlmKGEucmVuZGVyYWJsZSl7aWYoYSBpbnN0YW5jZW9mIFNwcml0ZSl7dmFyIGU9YS50ZXh0dXJlLmZyYW1lO2UmJmUud2lkdGgmJmUuaGVpZ2h0JiZhLnRleHR1cmUuYmFzZVRleHR1cmUuc291cmNlJiYoYy5nbG9iYWxBbHBoYT1hLndvcmxkQWxwaGEsYy5zZXRUcmFuc2Zvcm0oYlswXSxiWzNdLGJbMV0sYls0XSxiWzJdLGJbNV0pLHRoaXMuc21vb3RoUHJvcGVydHkmJnRoaXMuc2NhbGVNb2RlIT09YS50ZXh0dXJlLmJhc2VUZXh0dXJlLnNjYWxlTW9kZSYmKHRoaXMuc2NhbGVNb2RlPWEudGV4dHVyZS5iYXNlVGV4dHVyZS5zY2FsZU1vZGUsY1t0aGlzLnNtb290aFByb3BlcnR5XT10aGlzLnNjYWxlTW9kZT09PUJhc2VUZXh0dXJlLlNDQUxFX01PREUuTElORUFSKSxjLmRyYXdJbWFnZShhLnRleHR1cmUuYmFzZVRleHR1cmUuc291cmNlLGUueCxlLnksZS53aWR0aCxlLmhlaWdodCxhLmFuY2hvci54Ki1lLndpZHRoLGEuYW5jaG9yLnkqLWUuaGVpZ2h0LGUud2lkdGgsZS5oZWlnaHQpKX1lbHNlIGlmKGEgaW5zdGFuY2VvZiBTdHJpcCljLnNldFRyYW5zZm9ybShiWzBdLGJbM10sYlsxXSxiWzRdLGJbMl0sYls1XSksdGhpcy5yZW5kZXJTdHJpcChhKTtlbHNlIGlmKGEgaW5zdGFuY2VvZiBUaWxpbmdTcHJpdGUpYy5zZXRUcmFuc2Zvcm0oYlswXSxiWzNdLGJbMV0sYls0XSxiWzJdLGJbNV0pLHRoaXMucmVuZGVyVGlsaW5nU3ByaXRlKGEpO2Vsc2UgaWYoYSBpbnN0YW5jZW9mIEN1c3RvbVJlbmRlcmFibGUpYy5zZXRUcmFuc2Zvcm0oYlswXSxiWzNdLGJbMV0sYls0XSxiWzJdLGJbNV0pLGEucmVuZGVyQ2FudmFzKHRoaXMpO2Vsc2UgaWYoYSBpbnN0YW5jZW9mIEdyYXBoaWNzKWMuc2V0VHJhbnNmb3JtKGJbMF0sYlszXSxiWzFdLGJbNF0sYlsyXSxiWzVdKSxjYW52YXNHcmFwaGljcy5yZW5kZXJHcmFwaGljcyhhLGMpO2Vsc2UgaWYoYSBpbnN0YW5jZW9mIEZpbHRlckJsb2NrJiZhLmRhdGEgaW5zdGFuY2VvZiBHcmFwaGljcyl7dmFyIGY9YS5kYXRhO2lmKGEub3Blbil7Yy5zYXZlKCk7dmFyIGc9Zi5hbHBoYSxoPWYud29ybGRUcmFuc2Zvcm07Yy5zZXRUcmFuc2Zvcm0oaFswXSxoWzNdLGhbMV0saFs0XSxoWzJdLGhbNV0pLGYud29ybGRBbHBoYT0uNSxjLndvcmxkQWxwaGE9MCxjYW52YXNHcmFwaGljcy5yZW5kZXJHcmFwaGljc01hc2soZixjKSxjLmNsaXAoKSxmLndvcmxkQWxwaGE9Z31lbHNlIGMucmVzdG9yZSgpfWE9YS5faU5leHR9ZWxzZSBhPWEuX2lOZXh0O2Vsc2UgYT1hLmxhc3QuX2lOZXh0O3doaWxlKGEhPT1kKX0scHJvdG8ucmVuZGVyU3RyaXBGbGF0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY29udGV4dCxjPWEudmVydGljaWVzLGQ9Yy5sZW5ndGgvMjt0aGlzLmNvdW50KyssYi5iZWdpblBhdGgoKTtmb3IodmFyIGU9MTtkLTI+ZTtlKyspe3ZhciBmPTIqZSxnPWNbZl0saD1jW2YrMl0saT1jW2YrNF0saj1jW2YrMV0saz1jW2YrM10sbD1jW2YrNV07Yi5tb3ZlVG8oZyxqKSxiLmxpbmVUbyhoLGspLGIubGluZVRvKGksbCl9Yi5maWxsU3R5bGU9XCIjRkYwMDAwXCIsYi5maWxsKCksYi5jbG9zZVBhdGgoKX0scHJvdG8ucmVuZGVyVGlsaW5nU3ByaXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY29udGV4dDtiLmdsb2JhbEFscGhhPWEud29ybGRBbHBoYSxhLl9fdGlsZVBhdHRlcm58fChhLl9fdGlsZVBhdHRlcm49Yi5jcmVhdGVQYXR0ZXJuKGEudGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UsXCJyZXBlYXRcIikpLGIuYmVnaW5QYXRoKCk7dmFyIGM9YS50aWxlUG9zaXRpb24sZD1hLnRpbGVTY2FsZTtiLnNjYWxlKGQueCxkLnkpLGIudHJhbnNsYXRlKGMueCxjLnkpLGIuZmlsbFN0eWxlPWEuX190aWxlUGF0dGVybixiLmZpbGxSZWN0KC1jLngsLWMueSxhLndpZHRoL2QueCxhLmhlaWdodC9kLnkpLGIuc2NhbGUoMS9kLngsMS9kLnkpLGIudHJhbnNsYXRlKC1jLngsLWMueSksYi5jbG9zZVBhdGgoKX0scHJvdG8ucmVuZGVyU3RyaXA9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jb250ZXh0LGM9YS52ZXJ0aWNpZXMsZD1hLnV2cyxlPWMubGVuZ3RoLzI7dGhpcy5jb3VudCsrO2Zvcih2YXIgZj0xO2UtMj5mO2YrKyl7dmFyIGc9MipmLGg9Y1tnXSxpPWNbZysyXSxqPWNbZys0XSxrPWNbZysxXSxsPWNbZyszXSxtPWNbZys1XSxuPWRbZ10qYS50ZXh0dXJlLndpZHRoLG89ZFtnKzJdKmEudGV4dHVyZS53aWR0aCxwPWRbZys0XSphLnRleHR1cmUud2lkdGgscT1kW2crMV0qYS50ZXh0dXJlLmhlaWdodCxyPWRbZyszXSphLnRleHR1cmUuaGVpZ2h0LHM9ZFtnKzVdKmEudGV4dHVyZS5oZWlnaHQ7Yi5zYXZlKCksYi5iZWdpblBhdGgoKSxiLm1vdmVUbyhoLGspLGIubGluZVRvKGksbCksYi5saW5lVG8oaixtKSxiLmNsb3NlUGF0aCgpLGIuY2xpcCgpO3ZhciB0PW4qcitxKnArbypzLXIqcC1xKm8tbipzLHU9aCpyK3EqaitpKnMtcipqLXEqaS1oKnMsdj1uKmkraCpwK28qai1pKnAtaCpvLW4qaix3PW4qcipqK3EqaSpwK2gqbypzLWgqcipwLXEqbypqLW4qaSpzLHg9aypyK3EqbStsKnMtciptLXEqbC1rKnMseT1uKmwraypwK28qbS1sKnAtaypvLW4qbSx6PW4qciptK3EqbCpwK2sqbypzLWsqcipwLXEqbyptLW4qbCpzO2IudHJhbnNmb3JtKHUvdCx4L3Qsdi90LHkvdCx3L3Qsei90KSxiLmRyYXdJbWFnZShhLnRleHR1cmUuYmFzZVRleHR1cmUuc291cmNlLDAsMCksYi5yZXN0b3JlKCl9fSxtb2R1bGUuZXhwb3J0cz1DYW52YXNSZW5kZXJlcjsiLCIvKipcbiAqIHBpeGkgMC4yLjEgKDZhYTAwMzApXG4gKiBodHRwOi8vZHJraWJpdHouZ2l0aHViLmlvL25vZGUtcGl4aS9cbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE0IERyLiBLaWJpdHosIGh0dHA6Ly9kcmtpYml0ei5jb21cbiAqIFN1cGVyIGZhc3QgMkQgcmVuZGVyaW5nIGVuZ2luZSBmb3IgYnJvd3NlcmlmeSwgdGhhdCB1c2VzIFdlYkdMIHdpdGggYSBjb250ZXh0IDJkIGZhbGxiYWNrLlxuICogYnVpbHQ6IFN1biBKYW4gMDUgMjAxNCAwMTo1Mzo1OCBHTVQtMDUwMCAoRVNUKVxuICpcbiAqIFBpeGkuanMgLSB2MS4zLjBcbiAqIENvcHlyaWdodCAoYykgMjAxMiwgTWF0IEdyb3Zlc1xuICovXG5cInVzZSBzdHJpY3RcIjt2YXIgcGxhdGZvcm09cmVxdWlyZShcIi4uLy4uL3BsYXRmb3JtXCIpLEdyYXBoaWNzPXJlcXVpcmUoXCIuLi8uLi9wcmltaXRpdmVzL0dyYXBoaWNzXCIpO2V4cG9ydHMucmVuZGVyR3JhcGhpY3M9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZCxlLGYsZz1hLndvcmxkQWxwaGEsaD1cIlwiLGk9MCxqPWEuZ3JhcGhpY3NEYXRhLmxlbmd0aDtqPmk7aSsrKWlmKGM9YS5ncmFwaGljc0RhdGFbaV0sZD1jLnBvaW50cyxoPWIuc3Ryb2tlU3R5bGU9XCIjXCIrKFwiMDAwMDBcIisoMHxjLmxpbmVDb2xvcikudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpLGIubGluZVdpZHRoPWMubGluZVdpZHRoLGMudHlwZT09PUdyYXBoaWNzLlBPTFkpe2ZvcihiLmJlZ2luUGF0aCgpLGIubW92ZVRvKGRbMF0sZFsxXSksZT0xLGY9ZC5sZW5ndGgvMjtmPmU7ZSsrKWIubGluZVRvKGRbMiplXSxkWzIqZSsxXSk7ZFswXT09PWRbZC5sZW5ndGgtMl0mJmRbMV09PT1kW2QubGVuZ3RoLTFdJiZiLmNsb3NlUGF0aCgpLGMuZmlsbCYmKGIuZ2xvYmFsQWxwaGE9Yy5maWxsQWxwaGEqZyxiLmZpbGxTdHlsZT1oPVwiI1wiKyhcIjAwMDAwXCIrKDB8Yy5maWxsQ29sb3IpLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KSxiLmZpbGwoKSksYy5saW5lV2lkdGgmJihiLmdsb2JhbEFscGhhPWMubGluZUFscGhhKmcsYi5zdHJva2UoKSl9ZWxzZSBpZihjLnR5cGU9PT1HcmFwaGljcy5SRUNUKShjLmZpbGxDb2xvcnx8MD09PWMuZmlsbENvbG9yKSYmKGIuZ2xvYmFsQWxwaGE9Yy5maWxsQWxwaGEqZyxiLmZpbGxTdHlsZT1oPVwiI1wiKyhcIjAwMDAwXCIrKDB8Yy5maWxsQ29sb3IpLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KSxiLmZpbGxSZWN0KGRbMF0sZFsxXSxkWzJdLGRbM10pKSxjLmxpbmVXaWR0aCYmKGIuZ2xvYmFsQWxwaGE9Yy5saW5lQWxwaGEqZyxiLnN0cm9rZVJlY3QoZFswXSxkWzFdLGRbMl0sZFszXSkpO2Vsc2UgaWYoYy50eXBlPT09R3JhcGhpY3MuQ0lSQyliLmJlZ2luUGF0aCgpLGIuYXJjKGRbMF0sZFsxXSxkWzJdLDAsMipNYXRoLlBJKSxiLmNsb3NlUGF0aCgpLGMuZmlsbCYmKGIuZ2xvYmFsQWxwaGE9Yy5maWxsQWxwaGEqZyxiLmZpbGxTdHlsZT1oPVwiI1wiKyhcIjAwMDAwXCIrKDB8Yy5maWxsQ29sb3IpLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KSxiLmZpbGwoKSksYy5saW5lV2lkdGgmJihiLmdsb2JhbEFscGhhPWMubGluZUFscGhhKmcsYi5zdHJva2UoKSk7ZWxzZSBpZihjLnR5cGU9PT1HcmFwaGljcy5FTElQKXt2YXIgaz1jLnBvaW50cyxsPTIqa1syXSxtPTIqa1szXSxuPWtbMF0tbC8yLG89a1sxXS1tLzI7Yi5iZWdpblBhdGgoKTt2YXIgcD0uNTUyMjg0OCxxPWwvMipwLHI9bS8yKnAscz1uK2wsdD1vK20sdT1uK2wvMix2PW8rbS8yO2IubW92ZVRvKG4sdiksYi5iZXppZXJDdXJ2ZVRvKG4sdi1yLHUtcSxvLHUsbyksYi5iZXppZXJDdXJ2ZVRvKHUrcSxvLHMsdi1yLHMsdiksYi5iZXppZXJDdXJ2ZVRvKHMsdityLHUrcSx0LHUsdCksYi5iZXppZXJDdXJ2ZVRvKHUtcSx0LG4sdityLG4sdiksYi5jbG9zZVBhdGgoKSxjLmZpbGwmJihiLmdsb2JhbEFscGhhPWMuZmlsbEFscGhhKmcsYi5maWxsU3R5bGU9aD1cIiNcIisoXCIwMDAwMFwiKygwfGMuZmlsbENvbG9yKS50b1N0cmluZygxNikpLnN1YnN0cigtNiksYi5maWxsKCkpLGMubGluZVdpZHRoJiYoYi5nbG9iYWxBbHBoYT1jLmxpbmVBbHBoYSpnLGIuc3Ryb2tlKCkpfX0sZXhwb3J0cy5yZW5kZXJHcmFwaGljc01hc2s9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdyYXBoaWNzRGF0YS5sZW5ndGg7aWYoMCE9PWMpe2M+MSYmKGM9MSxwbGF0Zm9ybS5jb25zb2xlLndhcm4oXCJQaXhpLmpzIHdhcm5pbmc6IG1hc2tzIGluIGNhbnZhcyBjYW4gb25seSBtYXNrIHVzaW5nIHRoZSBmaXJzdCBwYXRoIGluIHRoZSBncmFwaGljcyBvYmplY3RcIikpO2Zvcih2YXIgZD0wOzE+ZDtkKyspe3ZhciBlPWEuZ3JhcGhpY3NEYXRhW2RdLGY9ZS5wb2ludHM7aWYoZS50eXBlPT09R3JhcGhpY3MuUE9MWSl7Yi5iZWdpblBhdGgoKSxiLm1vdmVUbyhmWzBdLGZbMV0pO2Zvcih2YXIgZz0xO2c8Zi5sZW5ndGgvMjtnKyspYi5saW5lVG8oZlsyKmddLGZbMipnKzFdKTtmWzBdPT09ZltmLmxlbmd0aC0yXSYmZlsxXT09PWZbZi5sZW5ndGgtMV0mJmIuY2xvc2VQYXRoKCl9ZWxzZSBpZihlLnR5cGU9PT1HcmFwaGljcy5SRUNUKWIuYmVnaW5QYXRoKCksYi5yZWN0KGZbMF0sZlsxXSxmWzJdLGZbM10pLGIuY2xvc2VQYXRoKCk7ZWxzZSBpZihlLnR5cGU9PT1HcmFwaGljcy5DSVJDKWIuYmVnaW5QYXRoKCksYi5hcmMoZlswXSxmWzFdLGZbMl0sMCwyKk1hdGguUEkpLGIuY2xvc2VQYXRoKCk7ZWxzZSBpZihlLnR5cGU9PT1HcmFwaGljcy5FTElQKXt2YXIgaD1lLnBvaW50cyxpPTIqaFsyXSxqPTIqaFszXSxrPWhbMF0taS8yLGw9aFsxXS1qLzI7Yi5iZWdpblBhdGgoKTt2YXIgbT0uNTUyMjg0OCxuPWkvMiptLG89ai8yKm0scD1rK2kscT1sK2oscj1rK2kvMixzPWwrai8yO2IubW92ZVRvKGsscyksYi5iZXppZXJDdXJ2ZVRvKGsscy1vLHItbixsLHIsbCksYi5iZXppZXJDdXJ2ZVRvKHIrbixsLHAscy1vLHAscyksYi5iZXppZXJDdXJ2ZVRvKHAscytvLHIrbixxLHIscSksYi5iZXppZXJDdXJ2ZVRvKHItbixxLGsscytvLGsscyksYi5jbG9zZVBhdGgoKX19fX07IiwiLyoqXG4gKiBwaXhpIDAuMi4xICg2YWEwMDMwKVxuICogaHR0cDovL2Rya2liaXR6LmdpdGh1Yi5pby9ub2RlLXBpeGkvXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNCBEci4gS2liaXR6LCBodHRwOi8vZHJraWJpdHouY29tXG4gKiBTdXBlciBmYXN0IDJEIHJlbmRlcmluZyBlbmdpbmUgZm9yIGJyb3dzZXJpZnksIHRoYXQgdXNlcyBXZWJHTCB3aXRoIGEgY29udGV4dCAyZCBmYWxsYmFjay5cbiAqIGJ1aWx0OiBTdW4gSmFuIDA1IDIwMTQgMDE6NTM6NTggR01ULTA1MDAgKEVTVClcbiAqXG4gKiBQaXhpLmpzIC0gdjEuMy4wXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIsIE1hdCBHcm92ZXNcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gUGl4aVNoYWRlcigpe3RoaXMucHJvZ3JhbT1udWxsLHRoaXMuZnJhZ21lbnRTcmM9W1wicHJlY2lzaW9uIGxvd3AgZmxvYXQ7XCIsXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcIixcInZhcnlpbmcgZmxvYXQgdkNvbG9yO1wiLFwidW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XCIsXCJ2b2lkIG1haW4odm9pZCkge1wiLFwiICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHZDb2xvcjtcIixcIn1cIl0sdGhpcy50ZXh0dXJlQ291bnQ9MH12YXIgY29tcGlsZT1yZXF1aXJlKFwiLi9jb21waWxlXCIpLGdsb2JhbHM9cmVxdWlyZShcIi4uLy4uL2NvcmUvZ2xvYmFsc1wiKSxwcm90bz1QaXhpU2hhZGVyLnByb3RvdHlwZTtwcm90by5pbml0PWZ1bmN0aW9uKCl7dmFyIGE9Z2xvYmFscy5nbCxiPWNvbXBpbGUucHJvZ3JhbShhLHRoaXMudmVydGV4U3JjfHxQaXhpU2hhZGVyLmRlZmF1bHRWZXJ0ZXhTcmMsdGhpcy5mcmFnbWVudFNyYyk7YS51c2VQcm9ncmFtKGIpLHRoaXMudVNhbXBsZXI9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcInVTYW1wbGVyXCIpLHRoaXMucHJvamVjdGlvblZlY3Rvcj1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwicHJvamVjdGlvblZlY3RvclwiKSx0aGlzLm9mZnNldFZlY3Rvcj1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwib2Zmc2V0VmVjdG9yXCIpLHRoaXMuZGltZW5zaW9ucz1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwiZGltZW5zaW9uc1wiKSx0aGlzLmFWZXJ0ZXhQb3NpdGlvbj1hLmdldEF0dHJpYkxvY2F0aW9uKGIsXCJhVmVydGV4UG9zaXRpb25cIiksdGhpcy5jb2xvckF0dHJpYnV0ZT1hLmdldEF0dHJpYkxvY2F0aW9uKGIsXCJhQ29sb3JcIiksdGhpcy5hVGV4dHVyZUNvb3JkPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImFUZXh0dXJlQ29vcmRcIik7Zm9yKHZhciBjIGluIHRoaXMudW5pZm9ybXMpdGhpcy51bmlmb3Jtc1tjXS51bmlmb3JtTG9jYXRpb249YS5nZXRVbmlmb3JtTG9jYXRpb24oYixjKTt0aGlzLmluaXRVbmlmb3JtcygpLHRoaXMucHJvZ3JhbT1ifSxwcm90by5pbml0VW5pZm9ybXM9ZnVuY3Rpb24oKXt0aGlzLnRleHR1cmVDb3VudD0xO3ZhciBhO2Zvcih2YXIgYiBpbiB0aGlzLnVuaWZvcm1zKXthPXRoaXMudW5pZm9ybXNbYl07dmFyIGM9YS50eXBlO1wic2FtcGxlcjJEXCI9PT1jPyhhLl9pbml0PSExLG51bGwhPT1hLnZhbHVlJiZ0aGlzLmluaXRTYW1wbGVyMkQoYSkpOlwibWF0MlwiPT09Y3x8XCJtYXQzXCI9PT1jfHxcIm1hdDRcIj09PWM/KGEuZ2xNYXRyaXg9ITAsYS5nbFZhbHVlTGVuZ3RoPTEsXCJtYXQyXCI9PT1jP2EuZ2xGdW5jPWdsb2JhbHMuZ2wudW5pZm9ybU1hdHJpeDJmdjpcIm1hdDNcIj09PWM/YS5nbEZ1bmM9Z2xvYmFscy5nbC51bmlmb3JtTWF0cml4M2Z2OlwibWF0NFwiPT09YyYmKGEuZ2xGdW5jPWdsb2JhbHMuZ2wudW5pZm9ybU1hdHJpeDRmdikpOihhLmdsRnVuYz1nbG9iYWxzLmdsW1widW5pZm9ybVwiK2NdLGEuZ2xWYWx1ZUxlbmd0aD1cIjJmXCI9PT1jfHxcIjJpXCI9PT1jPzI6XCIzZlwiPT09Y3x8XCIzaVwiPT09Yz8zOlwiNGZcIj09PWN8fFwiNGlcIj09PWM/NDoxKX19LHByb3RvLmluaXRTYW1wbGVyMkQ9ZnVuY3Rpb24oYSl7aWYoYS52YWx1ZSYmYS52YWx1ZS5iYXNlVGV4dHVyZSYmYS52YWx1ZS5iYXNlVGV4dHVyZS5oYXNMb2FkZWQpe2lmKGdsb2JhbHMuZ2wuYWN0aXZlVGV4dHVyZShnbG9iYWxzLmdsW1wiVEVYVFVSRVwiK3RoaXMudGV4dHVyZUNvdW50XSksZ2xvYmFscy5nbC5iaW5kVGV4dHVyZShnbG9iYWxzLmdsLlRFWFRVUkVfMkQsYS52YWx1ZS5iYXNlVGV4dHVyZS5fZ2xUZXh0dXJlKSxhLnRleHR1cmVEYXRhKXt2YXIgYj1hLnRleHR1cmVEYXRhLGM9Yi5tYWdGaWx0ZXI/Yi5tYWdGaWx0ZXI6Z2xvYmFscy5nbC5MSU5FQVIsZD1iLm1pbkZpbHRlcj9iLm1pbkZpbHRlcjpnbG9iYWxzLmdsLkxJTkVBUixlPWIud3JhcFM/Yi53cmFwUzpnbG9iYWxzLmdsLkNMQU1QX1RPX0VER0UsZj1iLndyYXBUP2Iud3JhcFQ6Z2xvYmFscy5nbC5DTEFNUF9UT19FREdFLGc9Yi5sdW1pbmFuY2U/Z2xvYmFscy5nbC5MVU1JTkFOQ0U6Z2xvYmFscy5nbC5SR0JBO2lmKGIucmVwZWF0JiYoZT1nbG9iYWxzLmdsLlJFUEVBVCxmPWdsb2JhbHMuZ2wuUkVQRUFUKSxnbG9iYWxzLmdsLnBpeGVsU3RvcmVpKGdsb2JhbHMuZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwhMSksYi53aWR0aCl7dmFyIGg9Yi53aWR0aD9iLndpZHRoOjUxMixpPWIuaGVpZ2h0P2IuaGVpZ2h0OjIsaj1iLmJvcmRlcj9iLmJvcmRlcjowO2dsb2JhbHMuZ2wudGV4SW1hZ2UyRChnbG9iYWxzLmdsLlRFWFRVUkVfMkQsMCxnLGgsaSxqLGcsZ2xvYmFscy5nbC5VTlNJR05FRF9CWVRFLG51bGwpfWVsc2UgZ2xvYmFscy5nbC50ZXhJbWFnZTJEKGdsb2JhbHMuZ2wuVEVYVFVSRV8yRCwwLGcsZ2xvYmFscy5nbC5SR0JBLGdsb2JhbHMuZ2wuVU5TSUdORURfQllURSxhLnZhbHVlLmJhc2VUZXh0dXJlLnNvdXJjZSk7Z2xvYmFscy5nbC50ZXhQYXJhbWV0ZXJpKGdsb2JhbHMuZ2wuVEVYVFVSRV8yRCxnbG9iYWxzLmdsLlRFWFRVUkVfTUFHX0ZJTFRFUixjKSxnbG9iYWxzLmdsLnRleFBhcmFtZXRlcmkoZ2xvYmFscy5nbC5URVhUVVJFXzJELGdsb2JhbHMuZ2wuVEVYVFVSRV9NSU5fRklMVEVSLGQpLGdsb2JhbHMuZ2wudGV4UGFyYW1ldGVyaShnbG9iYWxzLmdsLlRFWFRVUkVfMkQsZ2xvYmFscy5nbC5URVhUVVJFX1dSQVBfUyxlKSxnbG9iYWxzLmdsLnRleFBhcmFtZXRlcmkoZ2xvYmFscy5nbC5URVhUVVJFXzJELGdsb2JhbHMuZ2wuVEVYVFVSRV9XUkFQX1QsZil9Z2xvYmFscy5nbC51bmlmb3JtMWkoYS51bmlmb3JtTG9jYXRpb24sdGhpcy50ZXh0dXJlQ291bnQpLGEuX2luaXQ9ITAsdGhpcy50ZXh0dXJlQ291bnQrK319LHByb3RvLnN5bmNVbmlmb3Jtcz1mdW5jdGlvbigpe3RoaXMudGV4dHVyZUNvdW50PTE7dmFyIGE7Zm9yKHZhciBiIGluIHRoaXMudW5pZm9ybXMpYT10aGlzLnVuaWZvcm1zW2JdLDE9PT1hLmdsVmFsdWVMZW5ndGg/YS5nbE1hdHJpeD09PSEwP2EuZ2xGdW5jLmNhbGwoZ2xvYmFscy5nbCxhLnVuaWZvcm1Mb2NhdGlvbixhLnRyYW5zcG9zZSxhLnZhbHVlKTphLmdsRnVuYy5jYWxsKGdsb2JhbHMuZ2wsYS51bmlmb3JtTG9jYXRpb24sYS52YWx1ZSk6Mj09PWEuZ2xWYWx1ZUxlbmd0aD9hLmdsRnVuYy5jYWxsKGdsb2JhbHMuZ2wsYS51bmlmb3JtTG9jYXRpb24sYS52YWx1ZS54LGEudmFsdWUueSk6Mz09PWEuZ2xWYWx1ZUxlbmd0aD9hLmdsRnVuYy5jYWxsKGdsb2JhbHMuZ2wsYS51bmlmb3JtTG9jYXRpb24sYS52YWx1ZS54LGEudmFsdWUueSxhLnZhbHVlLnopOjQ9PT1hLmdsVmFsdWVMZW5ndGg/YS5nbEZ1bmMuY2FsbChnbG9iYWxzLmdsLGEudW5pZm9ybUxvY2F0aW9uLGEudmFsdWUueCxhLnZhbHVlLnksYS52YWx1ZS56LGEudmFsdWUudyk6XCJzYW1wbGVyMkRcIj09PWEudHlwZSYmKGEuX2luaXQ/KGdsb2JhbHMuZ2wuYWN0aXZlVGV4dHVyZShnbG9iYWxzLmdsW1wiVEVYVFVSRVwiK3RoaXMudGV4dHVyZUNvdW50XSksZ2xvYmFscy5nbC5iaW5kVGV4dHVyZShnbG9iYWxzLmdsLlRFWFRVUkVfMkQsYS52YWx1ZS5iYXNlVGV4dHVyZS5fZ2xUZXh0dXJlKSxnbG9iYWxzLmdsLnVuaWZvcm0xaShhLnVuaWZvcm1Mb2NhdGlvbix0aGlzLnRleHR1cmVDb3VudCksdGhpcy50ZXh0dXJlQ291bnQrKyk6dGhpcy5pbml0U2FtcGxlcjJEKGEpKX0sUGl4aVNoYWRlci5kZWZhdWx0VmVydGV4U3JjPVtcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcIixcImF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XCIsXCJhdHRyaWJ1dGUgZmxvYXQgYUNvbG9yO1wiLFwidW5pZm9ybSB2ZWMyIHByb2plY3Rpb25WZWN0b3I7XCIsXCJ1bmlmb3JtIHZlYzIgb2Zmc2V0VmVjdG9yO1wiLFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XCIsXCJ2YXJ5aW5nIGZsb2F0IHZDb2xvcjtcIixcImNvbnN0IHZlYzIgY2VudGVyID0gdmVjMigtMS4wLCAxLjApO1wiLFwidm9pZCBtYWluKHZvaWQpIHtcIixcIiAgIGdsX1Bvc2l0aW9uID0gdmVjNCggKChhVmVydGV4UG9zaXRpb24gKyBvZmZzZXRWZWN0b3IpIC8gcHJvamVjdGlvblZlY3RvcikgKyBjZW50ZXIgLCAwLjAsIDEuMCk7XCIsXCIgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcIixcIiAgIHZDb2xvciA9IGFDb2xvcjtcIixcIn1cIl0sbW9kdWxlLmV4cG9ydHM9UGl4aVNoYWRlcjsiLCIvKipcbiAqIHBpeGkgMC4yLjEgKDZhYTAwMzApXG4gKiBodHRwOi8vZHJraWJpdHouZ2l0aHViLmlvL25vZGUtcGl4aS9cbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE0IERyLiBLaWJpdHosIGh0dHA6Ly9kcmtpYml0ei5jb21cbiAqIFN1cGVyIGZhc3QgMkQgcmVuZGVyaW5nIGVuZ2luZSBmb3IgYnJvd3NlcmlmeSwgdGhhdCB1c2VzIFdlYkdMIHdpdGggYSBjb250ZXh0IDJkIGZhbGxiYWNrLlxuICogYnVpbHQ6IFN1biBKYW4gMDUgMjAxNCAwMTo1Mzo1OCBHTVQtMDUwMCAoRVNUKVxuICpcbiAqIFBpeGkuanMgLSB2MS4zLjBcbiAqIENvcHlyaWdodCAoYykgMjAxMiwgTWF0IEdyb3Zlc1xuICovXG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBQcmltaXRpdmVTaGFkZXIoKXt0aGlzLnByb2dyYW09bnVsbCx0aGlzLmZyYWdtZW50U3JjPVtcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1wiLFwidmFyeWluZyB2ZWM0IHZDb2xvcjtcIixcInZvaWQgbWFpbih2b2lkKSB7XCIsXCIgICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7XCIsXCJ9XCJdLHRoaXMudmVydGV4U3JjPVtcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcIixcImF0dHJpYnV0ZSB2ZWM0IGFDb2xvcjtcIixcInVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcIixcInVuaWZvcm0gdmVjMiBwcm9qZWN0aW9uVmVjdG9yO1wiLFwidW5pZm9ybSB2ZWMyIG9mZnNldFZlY3RvcjtcIixcInVuaWZvcm0gZmxvYXQgYWxwaGE7XCIsXCJ2YXJ5aW5nIHZlYzQgdkNvbG9yO1wiLFwidm9pZCBtYWluKHZvaWQpIHtcIixcIiAgIHZlYzMgdiA9IHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24gLCAxLjApO1wiLFwiICAgdiAtPSBvZmZzZXRWZWN0b3IueHl4O1wiLFwiICAgZ2xfUG9zaXRpb24gPSB2ZWM0KCB2LnggLyBwcm9qZWN0aW9uVmVjdG9yLnggLTEuMCwgdi55IC8gLXByb2plY3Rpb25WZWN0b3IueSArIDEuMCAsIDAuMCwgMS4wKTtcIixcIiAgIHZDb2xvciA9IGFDb2xvciAgKiBhbHBoYTtcIixcIn1cIl19dmFyIGNvbXBpbGU9cmVxdWlyZShcIi4vY29tcGlsZVwiKSxnbG9iYWxzPXJlcXVpcmUoXCIuLi8uLi9jb3JlL2dsb2JhbHNcIik7UHJpbWl0aXZlU2hhZGVyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIGE9Z2xvYmFscy5nbCxiPWNvbXBpbGUucHJvZ3JhbShhLHRoaXMudmVydGV4U3JjLHRoaXMuZnJhZ21lbnRTcmMpO2EudXNlUHJvZ3JhbShiKSx0aGlzLnByb2plY3Rpb25WZWN0b3I9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcInByb2plY3Rpb25WZWN0b3JcIiksdGhpcy5vZmZzZXRWZWN0b3I9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcIm9mZnNldFZlY3RvclwiKSx0aGlzLmFWZXJ0ZXhQb3NpdGlvbj1hLmdldEF0dHJpYkxvY2F0aW9uKGIsXCJhVmVydGV4UG9zaXRpb25cIiksdGhpcy5jb2xvckF0dHJpYnV0ZT1hLmdldEF0dHJpYkxvY2F0aW9uKGIsXCJhQ29sb3JcIiksdGhpcy50cmFuc2xhdGlvbk1hdHJpeD1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwidHJhbnNsYXRpb25NYXRyaXhcIiksdGhpcy5hbHBoYT1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwiYWxwaGFcIiksdGhpcy5wcm9ncmFtPWJ9LG1vZHVsZS5leHBvcnRzPVByaW1pdGl2ZVNoYWRlcjsiLCIvKipcbiAqIHBpeGkgMC4yLjEgKDZhYTAwMzApXG4gKiBodHRwOi8vZHJraWJpdHouZ2l0aHViLmlvL25vZGUtcGl4aS9cbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE0IERyLiBLaWJpdHosIGh0dHA6Ly9kcmtpYml0ei5jb21cbiAqIFN1cGVyIGZhc3QgMkQgcmVuZGVyaW5nIGVuZ2luZSBmb3IgYnJvd3NlcmlmeSwgdGhhdCB1c2VzIFdlYkdMIHdpdGggYSBjb250ZXh0IDJkIGZhbGxiYWNrLlxuICogYnVpbHQ6IFN1biBKYW4gMDUgMjAxNCAwMTo1Mzo1OCBHTVQtMDUwMCAoRVNUKVxuICpcbiAqIFBpeGkuanMgLSB2MS4zLjBcbiAqIENvcHlyaWdodCAoYykgMjAxMiwgTWF0IEdyb3Zlc1xuICovXG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBTdHJpcFNoYWRlcigpe3RoaXMucHJvZ3JhbT1udWxsLHRoaXMuZnJhZ21lbnRTcmM9W1wicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XCIsXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcIixcInZhcnlpbmcgZmxvYXQgdkNvbG9yO1wiLFwidW5pZm9ybSBmbG9hdCBhbHBoYTtcIixcInVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1wiLFwidm9pZCBtYWluKHZvaWQpIHtcIixcIiAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdmVjMih2VGV4dHVyZUNvb3JkLngsIHZUZXh0dXJlQ29vcmQueSkpO1wiLFwiICAgZ2xfRnJhZ0NvbG9yID0gZ2xfRnJhZ0NvbG9yICogYWxwaGE7XCIsXCJ9XCJdLHRoaXMudmVydGV4U3JjPVtcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcIixcImF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XCIsXCJhdHRyaWJ1dGUgZmxvYXQgYUNvbG9yO1wiLFwidW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1wiLFwidW5pZm9ybSB2ZWMyIHByb2plY3Rpb25WZWN0b3I7XCIsXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcIixcInZhcnlpbmcgdmVjMiBvZmZzZXRWZWN0b3I7XCIsXCJ2YXJ5aW5nIGZsb2F0IHZDb2xvcjtcIixcInZvaWQgbWFpbih2b2lkKSB7XCIsXCIgICB2ZWMzIHYgPSB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApO1wiLFwiICAgdiAtPSBvZmZzZXRWZWN0b3IueHl4O1wiLFwiICAgZ2xfUG9zaXRpb24gPSB2ZWM0KCB2LnggLyBwcm9qZWN0aW9uVmVjdG9yLnggLTEuMCwgdi55IC8gcHJvamVjdGlvblZlY3Rvci55ICsgMS4wICwgMC4wLCAxLjApO1wiLFwiICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XCIsXCIgICB2Q29sb3IgPSBhQ29sb3I7XCIsXCJ9XCJdfXZhciBjb21waWxlPXJlcXVpcmUoXCIuL2NvbXBpbGVcIiksZ2xvYmFscz1yZXF1aXJlKFwiLi4vLi4vY29yZS9nbG9iYWxzXCIpO1N0cmlwU2hhZGVyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIGE9Z2xvYmFscy5nbCxiPWNvbXBpbGUucHJvZ3JhbShhLHRoaXMudmVydGV4U3JjLHRoaXMuZnJhZ21lbnRTcmMpO2EudXNlUHJvZ3JhbShiKSx0aGlzLnVTYW1wbGVyPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsXCJ1U2FtcGxlclwiKSx0aGlzLnByb2plY3Rpb25WZWN0b3I9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcInByb2plY3Rpb25WZWN0b3JcIiksdGhpcy5vZmZzZXRWZWN0b3I9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcIm9mZnNldFZlY3RvclwiKSx0aGlzLmNvbG9yQXR0cmlidXRlPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImFDb2xvclwiKSx0aGlzLmFWZXJ0ZXhQb3NpdGlvbj1hLmdldEF0dHJpYkxvY2F0aW9uKGIsXCJhVmVydGV4UG9zaXRpb25cIiksdGhpcy5hVGV4dHVyZUNvb3JkPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImFUZXh0dXJlQ29vcmRcIiksdGhpcy50cmFuc2xhdGlvbk1hdHJpeD1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwidHJhbnNsYXRpb25NYXRyaXhcIiksdGhpcy5hbHBoYT1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwiYWxwaGFcIiksdGhpcy5wcm9ncmFtPWJ9LG1vZHVsZS5leHBvcnRzPVN0cmlwU2hhZGVyOyIsIi8qKlxuICogcGl4aSAwLjIuMSAoNmFhMDAzMClcbiAqIGh0dHA6Ly9kcmtpYml0ei5naXRodWIuaW8vbm9kZS1waXhpL1xuICogQ29weXJpZ2h0IChjKSAyMDEzLTIwMTQgRHIuIEtpYml0eiwgaHR0cDovL2Rya2liaXR6LmNvbVxuICogU3VwZXIgZmFzdCAyRCByZW5kZXJpbmcgZW5naW5lIGZvciBicm93c2VyaWZ5LCB0aGF0IHVzZXMgV2ViR0wgd2l0aCBhIGNvbnRleHQgMmQgZmFsbGJhY2suXG4gKiBidWlsdDogU3VuIEphbiAwNSAyMDE0IDAxOjUzOjU4IEdNVC0wNTAwIChFU1QpXG4gKlxuICogUGl4aS5qcyAtIHYxLjMuMFxuICogQ29weXJpZ2h0IChjKSAyMDEyLCBNYXQgR3JvdmVzXG4gKi9cblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIFdlYkdMQmF0Y2goYSl7dGhpcy5nbD1hLHRoaXMuc2l6ZT0wLHRoaXMudmVydGV4QnVmZmVyPWEuY3JlYXRlQnVmZmVyKCksdGhpcy5pbmRleEJ1ZmZlcj1hLmNyZWF0ZUJ1ZmZlcigpLHRoaXMudXZCdWZmZXI9YS5jcmVhdGVCdWZmZXIoKSx0aGlzLmNvbG9yQnVmZmVyPWEuY3JlYXRlQnVmZmVyKCksdGhpcy5ibGVuZE1vZGU9YmxlbmRNb2Rlcy5OT1JNQUwsdGhpcy5keW5hbWljU2l6ZT0xfXZhciBnbG9iYWxzPXJlcXVpcmUoXCIuLi8uLi9jb3JlL2dsb2JhbHNcIiksYmxlbmRNb2Rlcz1yZXF1aXJlKFwiLi4vLi4vZGlzcGxheS9ibGVuZE1vZGVzXCIpLHByb3RvPVdlYkdMQmF0Y2gucHJvdG90eXBlO3Byb3RvLmNsZWFuPWZ1bmN0aW9uKCl7dGhpcy52ZXJ0aWNpZXM9W10sdGhpcy51dnM9W10sdGhpcy5pbmRpY2VzPVtdLHRoaXMuY29sb3JzPVtdLHRoaXMuZHluYW1pY1NpemU9MSx0aGlzLnRleHR1cmU9bnVsbCx0aGlzLmxhc3Q9bnVsbCx0aGlzLnNpemU9MCx0aGlzLmhlYWQ9bnVsbCx0aGlzLnRhaWw9bnVsbH0scHJvdG8ucmVzdG9yZUxvc3RDb250ZXh0PWZ1bmN0aW9uKGEpe3RoaXMuZ2w9YSx0aGlzLnZlcnRleEJ1ZmZlcj1hLmNyZWF0ZUJ1ZmZlcigpLHRoaXMuaW5kZXhCdWZmZXI9YS5jcmVhdGVCdWZmZXIoKSx0aGlzLnV2QnVmZmVyPWEuY3JlYXRlQnVmZmVyKCksdGhpcy5jb2xvckJ1ZmZlcj1hLmNyZWF0ZUJ1ZmZlcigpfSxwcm90by5pbml0PWZ1bmN0aW9uKGEpe2EuYmF0Y2g9dGhpcyx0aGlzLmRpcnR5PSEwLHRoaXMuYmxlbmRNb2RlPWEuYmxlbmRNb2RlLHRoaXMudGV4dHVyZT1hLnRleHR1cmUuYmFzZVRleHR1cmUsdGhpcy5oZWFkPWEsdGhpcy50YWlsPWEsdGhpcy5zaXplPTEsdGhpcy5ncm93QmF0Y2goKX0scHJvdG8uaW5zZXJ0QmVmb3JlPWZ1bmN0aW9uKGEsYil7dGhpcy5zaXplKyssYS5iYXRjaD10aGlzLHRoaXMuZGlydHk9ITA7dmFyIGM9Yi5fX3ByZXY7Yi5fX3ByZXY9YSxhLl9fbmV4dD1iLGM/KGEuX19wcmV2PWMsYy5fX25leHQ9YSk6dGhpcy5oZWFkPWF9LHByb3RvLmluc2VydEFmdGVyPWZ1bmN0aW9uKGEsYil7dGhpcy5zaXplKyssYS5iYXRjaD10aGlzLHRoaXMuZGlydHk9ITA7dmFyIGM9Yi5fX25leHQ7Yi5fX25leHQ9YSxhLl9fcHJldj1iLGM/KGEuX19uZXh0PWMsYy5fX3ByZXY9YSk6dGhpcy50YWlsPWF9LHByb3RvLnJlbW92ZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zaXplLS0sdGhpcy5zaXplPyhhLl9fcHJldj9hLl9fcHJldi5fX25leHQ9YS5fX25leHQ6KHRoaXMuaGVhZD1hLl9fbmV4dCx0aGlzLmhlYWQuX19wcmV2PW51bGwpLGEuX19uZXh0P2EuX19uZXh0Ll9fcHJldj1hLl9fcHJldjoodGhpcy50YWlsPWEuX19wcmV2LHRoaXMudGFpbC5fX25leHQ9bnVsbCksYS5iYXRjaD1udWxsLGEuX19uZXh0PW51bGwsYS5fX3ByZXY9bnVsbCx0aGlzLmRpcnR5PSEwLHZvaWQgMCk6KGEuYmF0Y2g9bnVsbCxhLl9fcHJldj1udWxsLGEuX19uZXh0PW51bGwsdm9pZCAwKX0scHJvdG8uc3BsaXQ9ZnVuY3Rpb24oYSl7dGhpcy5kaXJ0eT0hMDt2YXIgYj1uZXcgV2ViR0xCYXRjaCh0aGlzLmdsKTtiLmluaXQoYSksYi50ZXh0dXJlPXRoaXMudGV4dHVyZSxiLnRhaWw9dGhpcy50YWlsLHRoaXMudGFpbD1hLl9fcHJldix0aGlzLnRhaWwuX19uZXh0PW51bGwsYS5fX3ByZXY9bnVsbDtmb3IodmFyIGM9MDthOyljKyssYS5iYXRjaD1iLGE9YS5fX25leHQ7cmV0dXJuIGIuc2l6ZT1jLHRoaXMuc2l6ZS09YyxifSxwcm90by5tZXJnZT1mdW5jdGlvbihhKXt0aGlzLmRpcnR5PSEwLHRoaXMudGFpbC5fX25leHQ9YS5oZWFkLGEuaGVhZC5fX3ByZXY9dGhpcy50YWlsLHRoaXMuc2l6ZSs9YS5zaXplLHRoaXMudGFpbD1hLnRhaWw7Zm9yKHZhciBiPWEuaGVhZDtiOyliLmJhdGNoPXRoaXMsYj1iLl9fbmV4dH0scHJvdG8uZ3Jvd0JhdGNoPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nbDt0aGlzLmR5bmFtaWNTaXplPTE9PT10aGlzLnNpemU/MToxLjUqdGhpcy5zaXplLHRoaXMudmVydGljaWVzPW5ldyBGbG9hdDMyQXJyYXkoOCp0aGlzLmR5bmFtaWNTaXplKSxhLmJpbmRCdWZmZXIoYS5BUlJBWV9CVUZGRVIsdGhpcy52ZXJ0ZXhCdWZmZXIpLGEuYnVmZmVyRGF0YShhLkFSUkFZX0JVRkZFUix0aGlzLnZlcnRpY2llcyxhLkRZTkFNSUNfRFJBVyksdGhpcy51dnM9bmV3IEZsb2F0MzJBcnJheSg4KnRoaXMuZHluYW1pY1NpemUpLGEuYmluZEJ1ZmZlcihhLkFSUkFZX0JVRkZFUix0aGlzLnV2QnVmZmVyKSxhLmJ1ZmZlckRhdGEoYS5BUlJBWV9CVUZGRVIsdGhpcy51dnMsYS5EWU5BTUlDX0RSQVcpLHRoaXMuZGlydHlVVlM9ITAsdGhpcy5jb2xvcnM9bmV3IEZsb2F0MzJBcnJheSg0KnRoaXMuZHluYW1pY1NpemUpLGEuYmluZEJ1ZmZlcihhLkFSUkFZX0JVRkZFUix0aGlzLmNvbG9yQnVmZmVyKSxhLmJ1ZmZlckRhdGEoYS5BUlJBWV9CVUZGRVIsdGhpcy5jb2xvcnMsYS5EWU5BTUlDX0RSQVcpLHRoaXMuZGlydHlDb2xvcnM9ITAsdGhpcy5pbmRpY2VzPW5ldyBVaW50MTZBcnJheSg2KnRoaXMuZHluYW1pY1NpemUpO2Zvcih2YXIgYj0wLGM9dGhpcy5pbmRpY2VzLmxlbmd0aC82O2M+YjtiKyspe3ZhciBkPTYqYixlPTQqYjt0aGlzLmluZGljZXNbZCswXT1lKzAsdGhpcy5pbmRpY2VzW2QrMV09ZSsxLHRoaXMuaW5kaWNlc1tkKzJdPWUrMix0aGlzLmluZGljZXNbZCszXT1lKzAsdGhpcy5pbmRpY2VzW2QrNF09ZSsyLHRoaXMuaW5kaWNlc1tkKzVdPWUrM31hLmJpbmRCdWZmZXIoYS5FTEVNRU5UX0FSUkFZX0JVRkZFUix0aGlzLmluZGV4QnVmZmVyKSxhLmJ1ZmZlckRhdGEoYS5FTEVNRU5UX0FSUkFZX0JVRkZFUix0aGlzLmluZGljZXMsYS5TVEFUSUNfRFJBVyl9LHByb3RvLnJlZnJlc2g9ZnVuY3Rpb24oKXt0aGlzLmR5bmFtaWNTaXplPHRoaXMuc2l6ZSYmdGhpcy5ncm93QmF0Y2goKTtmb3IodmFyIGEsYixjPTAsZD10aGlzLmhlYWQ7ZDspe2E9OCpjO3ZhciBlPWQudGV4dHVyZSxmPWUuZnJhbWUsZz1lLmJhc2VUZXh0dXJlLndpZHRoLGg9ZS5iYXNlVGV4dHVyZS5oZWlnaHQ7dGhpcy51dnNbYSswXT1mLngvZyx0aGlzLnV2c1thKzFdPWYueS9oLHRoaXMudXZzW2ErMl09KGYueCtmLndpZHRoKS9nLHRoaXMudXZzW2ErM109Zi55L2gsdGhpcy51dnNbYSs0XT0oZi54K2Yud2lkdGgpL2csdGhpcy51dnNbYSs1XT0oZi55K2YuaGVpZ2h0KS9oLHRoaXMudXZzW2ErNl09Zi54L2csdGhpcy51dnNbYSs3XT0oZi55K2YuaGVpZ2h0KS9oLGQudXBkYXRlRnJhbWU9ITEsYj00KmMsdGhpcy5jb2xvcnNbYl09dGhpcy5jb2xvcnNbYisxXT10aGlzLmNvbG9yc1tiKzJdPXRoaXMuY29sb3JzW2IrM109ZC53b3JsZEFscGhhLGQ9ZC5fX25leHQsYysrfXRoaXMuZGlydHlVVlM9ITAsdGhpcy5kaXJ0eUNvbG9ycz0hMH0scHJvdG8udXBkYXRlPWZ1bmN0aW9uKCl7Zm9yKHZhciBhLGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHE9MCxyPXRoaXMuaGVhZCxzPXRoaXMudmVydGljaWVzLHQ9dGhpcy51dnMsdT10aGlzLmNvbG9ycztyOyl7aWYoci52Y291bnQ9PT1nbG9iYWxzLnZpc2libGVDb3VudCl7aWYoYj1yLnRleHR1cmUuZnJhbWUud2lkdGgsYz1yLnRleHR1cmUuZnJhbWUuaGVpZ2h0LGQ9ci5hbmNob3IueCxlPXIuYW5jaG9yLnksZj1iKigxLWQpLGc9YiotZCxoPWMqKDEtZSksaT1jKi1lLGo9OCpxLGE9ci53b3JsZFRyYW5zZm9ybSxrPWFbMF0sbD1hWzNdLG09YVsxXSxuPWFbNF0sbz1hWzJdLHA9YVs1XSxzW2orMF09aypnK20qaStvLHNbaisxXT1uKmkrbCpnK3Asc1tqKzJdPWsqZittKmkrbyxzW2orM109bippK2wqZitwLHNbais0XT1rKmYrbSpoK28sc1tqKzVdPW4qaCtsKmYrcCxzW2orNl09aypnK20qaCtvLHNbais3XT1uKmgrbCpnK3Asci51cGRhdGVGcmFtZXx8ci50ZXh0dXJlLnVwZGF0ZUZyYW1lKXt0aGlzLmRpcnR5VVZTPSEwO3ZhciB2PXIudGV4dHVyZSx3PXYuZnJhbWUseD12LmJhc2VUZXh0dXJlLndpZHRoLHk9di5iYXNlVGV4dHVyZS5oZWlnaHQ7dFtqKzBdPXcueC94LHRbaisxXT13LnkveSx0W2orMl09KHcueCt3LndpZHRoKS94LHRbaiszXT13LnkveSx0W2orNF09KHcueCt3LndpZHRoKS94LHRbais1XT0ody55K3cuaGVpZ2h0KS95LHRbais2XT13LngveCx0W2orN109KHcueSt3LmhlaWdodCkveSxyLnVwZGF0ZUZyYW1lPSExfWlmKHIuY2FjaGVBbHBoYSE9PXIud29ybGRBbHBoYSl7ci5jYWNoZUFscGhhPXIud29ybGRBbHBoYTt2YXIgej00KnE7dVt6XT11W3orMV09dVt6KzJdPXVbeiszXT1yLndvcmxkQWxwaGEsdGhpcy5kaXJ0eUNvbG9ycz0hMH19ZWxzZSBqPTgqcSxzW2orMF09c1tqKzFdPXNbaisyXT1zW2orM109c1tqKzRdPXNbais1XT1zW2orNl09c1tqKzddPTA7cSsrLHI9ci5fX25leHR9fSxwcm90by5yZW5kZXI9ZnVuY3Rpb24oYSxiKXtpZihhPWF8fDAsYXJndW1lbnRzLmxlbmd0aDwyJiYoYj10aGlzLnNpemUpLHRoaXMuZGlydHkmJih0aGlzLnJlZnJlc2goKSx0aGlzLmRpcnR5PSExKSx0aGlzLnNpemUpe3RoaXMudXBkYXRlKCk7dmFyIGM9dGhpcy5nbCxkPWdsb2JhbHMuZGVmYXVsdFNoYWRlcjtjLmJpbmRCdWZmZXIoYy5BUlJBWV9CVUZGRVIsdGhpcy52ZXJ0ZXhCdWZmZXIpLGMuYnVmZmVyU3ViRGF0YShjLkFSUkFZX0JVRkZFUiwwLHRoaXMudmVydGljaWVzKSxjLnZlcnRleEF0dHJpYlBvaW50ZXIoZC5hVmVydGV4UG9zaXRpb24sMixjLkZMT0FULCExLDAsMCksYy5iaW5kQnVmZmVyKGMuQVJSQVlfQlVGRkVSLHRoaXMudXZCdWZmZXIpLHRoaXMuZGlydHlVVlMmJih0aGlzLmRpcnR5VVZTPSExLGMuYnVmZmVyU3ViRGF0YShjLkFSUkFZX0JVRkZFUiwwLHRoaXMudXZzKSksYy52ZXJ0ZXhBdHRyaWJQb2ludGVyKGQuYVRleHR1cmVDb29yZCwyLGMuRkxPQVQsITEsMCwwKSxjLmFjdGl2ZVRleHR1cmUoYy5URVhUVVJFMCksYy5iaW5kVGV4dHVyZShjLlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlLl9nbFRleHR1cmUpLGMuYmluZEJ1ZmZlcihjLkFSUkFZX0JVRkZFUix0aGlzLmNvbG9yQnVmZmVyKSx0aGlzLmRpcnR5Q29sb3JzJiYodGhpcy5kaXJ0eUNvbG9ycz0hMSxjLmJ1ZmZlclN1YkRhdGEoYy5BUlJBWV9CVUZGRVIsMCx0aGlzLmNvbG9ycykpLGMudmVydGV4QXR0cmliUG9pbnRlcihkLmNvbG9yQXR0cmlidXRlLDEsYy5GTE9BVCwhMSwwLDApLGMuYmluZEJ1ZmZlcihjLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHRoaXMuaW5kZXhCdWZmZXIpO3ZhciBlPWItYTtjLmRyYXdFbGVtZW50cyhjLlRSSUFOR0xFUyw2KmUsYy5VTlNJR05FRF9TSE9SVCwyKmEqNil9fTt2YXIgYmF0Y2hlcz1bXTtXZWJHTEJhdGNoLnJlc3RvcmVCYXRjaGVzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9YmF0Y2hlcy5sZW5ndGg7Yz5iO2IrKyliYXRjaGVzW2JdLnJlc3RvcmVMb3N0Q29udGV4dChhKX0sV2ViR0xCYXRjaC5nZXRCYXRjaD1mdW5jdGlvbigpe3JldHVybiBiYXRjaGVzLmxlbmd0aD9iYXRjaGVzLnBvcCgpOm5ldyBXZWJHTEJhdGNoKGdsb2JhbHMuZ2wpfSxXZWJHTEJhdGNoLnJldHVybkJhdGNoPWZ1bmN0aW9uKGEpe2EuY2xlYW4oKSxiYXRjaGVzLnB1c2goYSl9LG1vZHVsZS5leHBvcnRzPVdlYkdMQmF0Y2g7IiwiLyoqXG4gKiBwaXhpIDAuMi4xICg2YWEwMDMwKVxuICogaHR0cDovL2Rya2liaXR6LmdpdGh1Yi5pby9ub2RlLXBpeGkvXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNCBEci4gS2liaXR6LCBodHRwOi8vZHJraWJpdHouY29tXG4gKiBTdXBlciBmYXN0IDJEIHJlbmRlcmluZyBlbmdpbmUgZm9yIGJyb3dzZXJpZnksIHRoYXQgdXNlcyBXZWJHTCB3aXRoIGEgY29udGV4dCAyZCBmYWxsYmFjay5cbiAqIGJ1aWx0OiBTdW4gSmFuIDA1IDIwMTQgMDE6NTM6NTggR01ULTA1MDAgKEVTVClcbiAqXG4gKiBQaXhpLmpzIC0gdjEuMy4wXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIsIE1hdCBHcm92ZXNcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gRmlsdGVyVGV4dHVyZShhLGIpe3ZhciBjPWdsb2JhbHMuZ2w7dGhpcy5mcmFtZUJ1ZmZlcj1jLmNyZWF0ZUZyYW1lYnVmZmVyKCksdGhpcy50ZXh0dXJlPWMuY3JlYXRlVGV4dHVyZSgpLGMuYmluZFRleHR1cmUoYy5URVhUVVJFXzJELHRoaXMudGV4dHVyZSksYy50ZXhQYXJhbWV0ZXJpKGMuVEVYVFVSRV8yRCxjLlRFWFRVUkVfTUFHX0ZJTFRFUixjLkxJTkVBUiksYy50ZXhQYXJhbWV0ZXJpKGMuVEVYVFVSRV8yRCxjLlRFWFRVUkVfTUlOX0ZJTFRFUixjLkxJTkVBUiksYy50ZXhQYXJhbWV0ZXJpKGMuVEVYVFVSRV8yRCxjLlRFWFRVUkVfV1JBUF9TLGMuQ0xBTVBfVE9fRURHRSksYy50ZXhQYXJhbWV0ZXJpKGMuVEVYVFVSRV8yRCxjLlRFWFRVUkVfV1JBUF9ULGMuQ0xBTVBfVE9fRURHRSksYy5iaW5kRnJhbWVidWZmZXIoYy5GUkFNRUJVRkZFUix0aGlzLmZyYW1lYnVmZmVyKSxjLmJpbmRGcmFtZWJ1ZmZlcihjLkZSQU1FQlVGRkVSLHRoaXMuZnJhbWVCdWZmZXIpLGMuZnJhbWVidWZmZXJUZXh0dXJlMkQoYy5GUkFNRUJVRkZFUixjLkNPTE9SX0FUVEFDSE1FTlQwLGMuVEVYVFVSRV8yRCx0aGlzLnRleHR1cmUsMCksdGhpcy5yZXNpemUoYSxiKX1mdW5jdGlvbiBXZWJHTEZpbHRlck1hbmFnZXIoYSl7dGhpcy50cmFuc3BhcmVudD1hLHRoaXMuZmlsdGVyU3RhY2s9W10sdGhpcy50ZXh0dXJlUG9vbD1bXSx0aGlzLm9mZnNldFg9MCx0aGlzLm9mZnNldFk9MCx0aGlzLmluaXRTaGFkZXJCdWZmZXJzKCl9dmFyIGdsb2JhbHM9cmVxdWlyZShcIi4uLy4uL2NvcmUvZ2xvYmFsc1wiKSxTcHJpdGU9cmVxdWlyZShcIi4uLy4uL2Rpc3BsYXkvU3ByaXRlXCIpLEdyYXBoaWNzPXJlcXVpcmUoXCIuLi8uLi9wcmltaXRpdmVzL0dyYXBoaWNzXCIpLFBpeGlTaGFkZXI9cmVxdWlyZShcIi4vUGl4aVNoYWRlclwiKTtGaWx0ZXJUZXh0dXJlLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLndpZHRoIT09YXx8dGhpcy5oZWlnaHQhPT1iKXt0aGlzLndpZHRoPWEsdGhpcy5oZWlnaHQ9Yjt2YXIgYz1nbG9iYWxzLmdsO2MuYmluZFRleHR1cmUoYy5URVhUVVJFXzJELHRoaXMudGV4dHVyZSksYy50ZXhJbWFnZTJEKGMuVEVYVFVSRV8yRCwwLGMuUkdCQSxhLGIsMCxjLlJHQkEsYy5VTlNJR05FRF9CWVRFLG51bGwpfX07dmFyIHByb3RvPVdlYkdMRmlsdGVyTWFuYWdlci5wcm90b3R5cGU7cHJvdG8uYmVnaW49ZnVuY3Rpb24oYSxiKXt0aGlzLndpZHRoPTIqYS54LHRoaXMuaGVpZ2h0PTIqLWEueSx0aGlzLmJ1ZmZlcj1ifSxwcm90by5wdXNoRmlsdGVyPWZ1bmN0aW9uKGEpe3ZhciBiPWdsb2JhbHMuZ2w7dGhpcy5maWx0ZXJTdGFjay5wdXNoKGEpO3ZhciBjPWEuZmlsdGVyUGFzc2VzWzBdO3RoaXMub2Zmc2V0WCs9YS50YXJnZXQuZmlsdGVyQXJlYS54LHRoaXMub2Zmc2V0WSs9YS50YXJnZXQuZmlsdGVyQXJlYS55O3ZhciBkPXRoaXMudGV4dHVyZVBvb2wucG9wKCk7ZD9kLnJlc2l6ZSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KTpkPW5ldyBGaWx0ZXJUZXh0dXJlKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLGIuYmluZFRleHR1cmUoYi5URVhUVVJFXzJELGQudGV4dHVyZSksdGhpcy5nZXRCb3VuZHMoYS50YXJnZXQpO3ZhciBlPWEudGFyZ2V0LmZpbHRlckFyZWEsZj1jLnBhZGRpbmc7ZS54LT1mLGUueS09ZixlLndpZHRoKz0yKmYsZS5oZWlnaHQrPTIqZixlLng8MCYmKGUueD0wKSxlLndpZHRoPnRoaXMud2lkdGgmJihlLndpZHRoPXRoaXMud2lkdGgpLGUueTwwJiYoZS55PTApLGUuaGVpZ2h0PnRoaXMuaGVpZ2h0JiYoZS5oZWlnaHQ9dGhpcy5oZWlnaHQpLGIuYmluZEZyYW1lYnVmZmVyKGIuRlJBTUVCVUZGRVIsZC5mcmFtZUJ1ZmZlciksYi52aWV3cG9ydCgwLDAsZS53aWR0aCxlLmhlaWdodCksZ2xvYmFscy5wcm9qZWN0aW9uLng9ZS53aWR0aC8yLGdsb2JhbHMucHJvamVjdGlvbi55PS1lLmhlaWdodC8yLGdsb2JhbHMub2Zmc2V0Lng9LWUueCxnbG9iYWxzLm9mZnNldC55PS1lLnksYi51bmlmb3JtMmYoZ2xvYmFscy5kZWZhdWx0U2hhZGVyLnByb2plY3Rpb25WZWN0b3IsZS53aWR0aC8yLC1lLmhlaWdodC8yKSxiLnVuaWZvcm0yZihnbG9iYWxzLmRlZmF1bHRTaGFkZXIub2Zmc2V0VmVjdG9yLC1lLngsLWUueSksYi5jb2xvck1hc2soITAsITAsITAsITApLGIuY2xlYXJDb2xvcigwLDAsMCwwKSxiLmNsZWFyKGIuQ09MT1JfQlVGRkVSX0JJVCksYS5fZ2xGaWx0ZXJUZXh0dXJlPWR9LHByb3RvLnBvcEZpbHRlcj1mdW5jdGlvbigpe3ZhciBhPWdsb2JhbHMuZ2wsYj10aGlzLmZpbHRlclN0YWNrLnBvcCgpLGM9Yi50YXJnZXQuZmlsdGVyQXJlYSxkPWIuX2dsRmlsdGVyVGV4dHVyZTtpZihiLmZpbHRlclBhc3Nlcy5sZW5ndGg+MSl7YS52aWV3cG9ydCgwLDAsYy53aWR0aCxjLmhlaWdodCksYS5iaW5kQnVmZmVyKGEuQVJSQVlfQlVGRkVSLHRoaXMudmVydGV4QnVmZmVyKSx0aGlzLnZlcnRleEFycmF5WzBdPTAsdGhpcy52ZXJ0ZXhBcnJheVsxXT1jLmhlaWdodCx0aGlzLnZlcnRleEFycmF5WzJdPWMud2lkdGgsdGhpcy52ZXJ0ZXhBcnJheVszXT1jLmhlaWdodCx0aGlzLnZlcnRleEFycmF5WzRdPTAsdGhpcy52ZXJ0ZXhBcnJheVs1XT0wLHRoaXMudmVydGV4QXJyYXlbNl09Yy53aWR0aCx0aGlzLnZlcnRleEFycmF5WzddPTAsYS5idWZmZXJTdWJEYXRhKGEuQVJSQVlfQlVGRkVSLDAsdGhpcy52ZXJ0ZXhBcnJheSksYS5iaW5kQnVmZmVyKGEuQVJSQVlfQlVGRkVSLHRoaXMudXZCdWZmZXIpLHRoaXMudXZBcnJheVsyXT1jLndpZHRoL3RoaXMud2lkdGgsdGhpcy51dkFycmF5WzVdPWMuaGVpZ2h0L3RoaXMuaGVpZ2h0LHRoaXMudXZBcnJheVs2XT1jLndpZHRoL3RoaXMud2lkdGgsdGhpcy51dkFycmF5WzddPWMuaGVpZ2h0L3RoaXMuaGVpZ2h0LGEuYnVmZmVyU3ViRGF0YShhLkFSUkFZX0JVRkZFUiwwLHRoaXMudXZBcnJheSk7dmFyIGU9ZCxmPXRoaXMudGV4dHVyZVBvb2wucG9wKCk7Znx8KGY9bmV3IEZpbHRlclRleHR1cmUodGhpcy53aWR0aCx0aGlzLmhlaWdodCkpLGEuYmluZEZyYW1lYnVmZmVyKGEuRlJBTUVCVUZGRVIsZi5mcmFtZUJ1ZmZlciksYS5jbGVhcihhLkNPTE9SX0JVRkZFUl9CSVQpLGEuZGlzYWJsZShhLkJMRU5EKTtmb3IodmFyIGc9MDtnPGIuZmlsdGVyUGFzc2VzLmxlbmd0aC0xO2crKyl7dmFyIGg9Yi5maWx0ZXJQYXNzZXNbZ107YS5iaW5kRnJhbWVidWZmZXIoYS5GUkFNRUJVRkZFUixmLmZyYW1lQnVmZmVyKSxhLmFjdGl2ZVRleHR1cmUoYS5URVhUVVJFMCksYS5iaW5kVGV4dHVyZShhLlRFWFRVUkVfMkQsZS50ZXh0dXJlKSx0aGlzLmFwcGx5RmlsdGVyUGFzcyhoLGMsYy53aWR0aCxjLmhlaWdodCk7dmFyIGk9ZTtlPWYsZj1pfWEuZW5hYmxlKGEuQkxFTkQpLGQ9ZSx0aGlzLnRleHR1cmVQb29sLnB1c2goZil9dmFyIGo9Yi5maWx0ZXJQYXNzZXNbYi5maWx0ZXJQYXNzZXMubGVuZ3RoLTFdO3RoaXMub2Zmc2V0WC09Yy54LHRoaXMub2Zmc2V0WS09Yy55O3ZhciBrPXRoaXMud2lkdGgsbD10aGlzLmhlaWdodCxtPTAsbj0wLG89dGhpcy5idWZmZXI7aWYoMD09PXRoaXMuZmlsdGVyU3RhY2subGVuZ3RoKWEuY29sb3JNYXNrKCEwLCEwLCEwLHRoaXMudHJhbnNwYXJlbnQpO2Vsc2V7dmFyIHA9dGhpcy5maWx0ZXJTdGFja1t0aGlzLmZpbHRlclN0YWNrLmxlbmd0aC0xXTtjPXAudGFyZ2V0LmZpbHRlckFyZWEsaz1jLndpZHRoLGw9Yy5oZWlnaHQsbT1jLngsbj1jLnksbz1wLl9nbEZpbHRlclRleHR1cmUuZnJhbWVCdWZmZXJ9Z2xvYmFscy5wcm9qZWN0aW9uLng9ay8yLGdsb2JhbHMucHJvamVjdGlvbi55PS1sLzIsZ2xvYmFscy5vZmZzZXQueD1tLGdsb2JhbHMub2Zmc2V0Lnk9bixjPWIudGFyZ2V0LmZpbHRlckFyZWE7dmFyIHE9Yy54LW0scj1jLnktbjthLmJpbmRCdWZmZXIoYS5BUlJBWV9CVUZGRVIsdGhpcy52ZXJ0ZXhCdWZmZXIpLHRoaXMudmVydGV4QXJyYXlbMF09cSx0aGlzLnZlcnRleEFycmF5WzFdPXIrYy5oZWlnaHQsdGhpcy52ZXJ0ZXhBcnJheVsyXT1xK2Mud2lkdGgsdGhpcy52ZXJ0ZXhBcnJheVszXT1yK2MuaGVpZ2h0LHRoaXMudmVydGV4QXJyYXlbNF09cSx0aGlzLnZlcnRleEFycmF5WzVdPXIsdGhpcy52ZXJ0ZXhBcnJheVs2XT1xK2Mud2lkdGgsdGhpcy52ZXJ0ZXhBcnJheVs3XT1yLGEuYnVmZmVyU3ViRGF0YShhLkFSUkFZX0JVRkZFUiwwLHRoaXMudmVydGV4QXJyYXkpLGEuYmluZEJ1ZmZlcihhLkFSUkFZX0JVRkZFUix0aGlzLnV2QnVmZmVyKSx0aGlzLnV2QXJyYXlbMl09Yy53aWR0aC90aGlzLndpZHRoLHRoaXMudXZBcnJheVs1XT1jLmhlaWdodC90aGlzLmhlaWdodCx0aGlzLnV2QXJyYXlbNl09Yy53aWR0aC90aGlzLndpZHRoLHRoaXMudXZBcnJheVs3XT1jLmhlaWdodC90aGlzLmhlaWdodCxhLmJ1ZmZlclN1YkRhdGEoYS5BUlJBWV9CVUZGRVIsMCx0aGlzLnV2QXJyYXkpLGEudmlld3BvcnQoMCwwLGssbCksYS5iaW5kRnJhbWVidWZmZXIoYS5GUkFNRUJVRkZFUixvKSxhLmFjdGl2ZVRleHR1cmUoYS5URVhUVVJFMCksYS5iaW5kVGV4dHVyZShhLlRFWFRVUkVfMkQsZC50ZXh0dXJlKSx0aGlzLmFwcGx5RmlsdGVyUGFzcyhqLGMsayxsKSxhLnVzZVByb2dyYW0oZ2xvYmFscy5kZWZhdWx0U2hhZGVyLnByb2dyYW0pLGEudW5pZm9ybTJmKGdsb2JhbHMuZGVmYXVsdFNoYWRlci5wcm9qZWN0aW9uVmVjdG9yLGsvMiwtbC8yKSxhLnVuaWZvcm0yZihnbG9iYWxzLmRlZmF1bHRTaGFkZXIub2Zmc2V0VmVjdG9yLC1tLC1uKSx0aGlzLnRleHR1cmVQb29sLnB1c2goZCksYi5fZ2xGaWx0ZXJUZXh0dXJlPW51bGx9LHByb3RvLmFwcGx5RmlsdGVyUGFzcz1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1nbG9iYWxzLmdsLGY9YS5zaGFkZXI7Znx8KGY9bmV3IFBpeGlTaGFkZXIsZi5mcmFnbWVudFNyYz1hLmZyYWdtZW50U3JjLGYudW5pZm9ybXM9YS51bmlmb3JtcyxmLmluaXQoKSxhLnNoYWRlcj1mKSxlLnVzZVByb2dyYW0oZi5wcm9ncmFtKSxlLnVuaWZvcm0yZihmLnByb2plY3Rpb25WZWN0b3IsYy8yLC1kLzIpLGUudW5pZm9ybTJmKGYub2Zmc2V0VmVjdG9yLDAsMCksYS51bmlmb3Jtcy5kaW1lbnNpb25zJiYoYS51bmlmb3Jtcy5kaW1lbnNpb25zLnZhbHVlWzBdPXRoaXMud2lkdGgsYS51bmlmb3Jtcy5kaW1lbnNpb25zLnZhbHVlWzFdPXRoaXMuaGVpZ2h0LGEudW5pZm9ybXMuZGltZW5zaW9ucy52YWx1ZVsyXT10aGlzLnZlcnRleEFycmF5WzBdLGEudW5pZm9ybXMuZGltZW5zaW9ucy52YWx1ZVszXT10aGlzLnZlcnRleEFycmF5WzVdKSxmLnN5bmNVbmlmb3JtcygpLGUuYmluZEJ1ZmZlcihlLkFSUkFZX0JVRkZFUix0aGlzLnZlcnRleEJ1ZmZlciksZS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGYuYVZlcnRleFBvc2l0aW9uLDIsZS5GTE9BVCwhMSwwLDApLGUuYmluZEJ1ZmZlcihlLkFSUkFZX0JVRkZFUix0aGlzLnV2QnVmZmVyKSxlLnZlcnRleEF0dHJpYlBvaW50ZXIoZi5hVGV4dHVyZUNvb3JkLDIsZS5GTE9BVCwhMSwwLDApLGUuYmluZEJ1ZmZlcihlLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHRoaXMuaW5kZXhCdWZmZXIpLGUuZHJhd0VsZW1lbnRzKGUuVFJJQU5HTEVTLDYsZS5VTlNJR05FRF9TSE9SVCwwKX0scHJvdG8uaW5pdFNoYWRlckJ1ZmZlcnM9ZnVuY3Rpb24oKXt2YXIgYT1nbG9iYWxzLmdsO3RoaXMudmVydGV4QnVmZmVyPWEuY3JlYXRlQnVmZmVyKCksdGhpcy51dkJ1ZmZlcj1hLmNyZWF0ZUJ1ZmZlcigpLHRoaXMuaW5kZXhCdWZmZXI9YS5jcmVhdGVCdWZmZXIoKSx0aGlzLnZlcnRleEFycmF5PW5ldyBGbG9hdDMyQXJyYXkoWzAsMCwxLDAsMCwxLDEsMV0pLGEuYmluZEJ1ZmZlcihhLkFSUkFZX0JVRkZFUix0aGlzLnZlcnRleEJ1ZmZlciksYS5idWZmZXJEYXRhKGEuQVJSQVlfQlVGRkVSLHRoaXMudmVydGV4QXJyYXksYS5TVEFUSUNfRFJBVyksdGhpcy51dkFycmF5PW5ldyBGbG9hdDMyQXJyYXkoWzAsMCwxLDAsMCwxLDEsMV0pLGEuYmluZEJ1ZmZlcihhLkFSUkFZX0JVRkZFUix0aGlzLnV2QnVmZmVyKSxhLmJ1ZmZlckRhdGEoYS5BUlJBWV9CVUZGRVIsdGhpcy51dkFycmF5LGEuU1RBVElDX0RSQVcpLGEuYmluZEJ1ZmZlcihhLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHRoaXMuaW5kZXhCdWZmZXIpLGEuYnVmZmVyRGF0YShhLkVMRU1FTlRfQVJSQVlfQlVGRkVSLG5ldyBVaW50MTZBcnJheShbMCwxLDIsMSwzLDJdKSxhLlNUQVRJQ19EUkFXKX0scHJvdG8uZ2V0Qm91bmRzPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHUsdix3LHgseSx6PWEuZmlyc3QsQT1hLmxhc3QuX2lOZXh0LEI9LTEvMCxDPS0xLzAsRD0xLzAsRT0xLzA7ZG97aWYoei52aXNpYmxlKWlmKHogaW5zdGFuY2VvZiBTcHJpdGUpYz16LnRleHR1cmUuZnJhbWUud2lkdGgsZD16LnRleHR1cmUuZnJhbWUuaGVpZ2h0LGU9ei5hbmNob3IueCxmPXouYW5jaG9yLnksZz1jKigxLWUpLGg9YyotZSxpPWQqKDEtZiksaj1kKi1mLGs9ITA7ZWxzZSBpZih6IGluc3RhbmNlb2YgR3JhcGhpY3Mpe3oudXBkYXRlRmlsdGVyQm91bmRzKCk7dmFyIEY9ei5ib3VuZHM7Yz1GLndpZHRoLGQ9Ri5oZWlnaHQsZz1GLngsaD1GLngrRi53aWR0aCxpPUYueSxqPUYueStGLmhlaWdodCxrPSEwfWsmJihiPXoud29ybGRUcmFuc2Zvcm0sbD1iWzBdLG09YlszXSxuPWJbMV0sbz1iWzRdLHA9YlsyXSxxPWJbNV0scj1sKmgrbipqK3Asdj1vKmorbSpoK3Escz1sKmcrbipqK3Asdz1vKmorbSpnK3EsdD1sKmcrbippK3AseD1vKmkrbSpnK3EsdT1sKmgrbippK3AseT1vKmkrbSpoK3EsRD1EPnI/cjpELEQ9RD5zP3M6RCxEPUQ+dD90OkQsRD1EPnU/dTpELEU9RT52P3Y6RSxFPUU+dz93OkUsRT1FPng/eDpFLEU9RT55P3k6RSxCPXI+Qj9yOkIsQj1zPkI/czpCLEI9dD5CP3Q6QixCPXU+Qj91OkIsQz12PkM/djpDLEM9dz5DP3c6QyxDPXg+Qz94OkMsQz15PkM/eTpDKSxrPSExLHo9ei5faU5leHR9d2hpbGUoeiE9PUEpO2EuZmlsdGVyQXJlYS54PUQsYS5maWx0ZXJBcmVhLnk9RSxhLmZpbHRlckFyZWEud2lkdGg9Qi1ELGEuZmlsdGVyQXJlYS5oZWlnaHQ9Qy1FfSxtb2R1bGUuZXhwb3J0cz1XZWJHTEZpbHRlck1hbmFnZXI7IiwiLyoqXG4gKiBwaXhpIDAuMi4xICg2YWEwMDMwKVxuICogaHR0cDovL2Rya2liaXR6LmdpdGh1Yi5pby9ub2RlLXBpeGkvXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNCBEci4gS2liaXR6LCBodHRwOi8vZHJraWJpdHouY29tXG4gKiBTdXBlciBmYXN0IDJEIHJlbmRlcmluZyBlbmdpbmUgZm9yIGJyb3dzZXJpZnksIHRoYXQgdXNlcyBXZWJHTCB3aXRoIGEgY29udGV4dCAyZCBmYWxsYmFjay5cbiAqIGJ1aWx0OiBTdW4gSmFuIDA1IDIwMTQgMDE6NTM6NTggR01ULTA1MDAgKEVTVClcbiAqXG4gKiBQaXhpLmpzIC0gdjEuMy4wXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIsIE1hdCBHcm92ZXNcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gV2ViR0xSZW5kZXJHcm91cChhLGIpe3RoaXMuZ2w9YSx0aGlzLnJvb3Q9bnVsbCx0aGlzLmJhY2tncm91bmRDb2xvcj12b2lkIDAsdGhpcy50cmFuc3BhcmVudD12b2lkIDA9PT1iPyEwOmIsdGhpcy5iYXRjaHM9W10sdGhpcy50b1JlbW92ZT1bXSx0aGlzLmZpbHRlck1hbmFnZXI9bmV3IFdlYkdMRmlsdGVyTWFuYWdlcih0aGlzLnRyYW5zcGFyZW50KX12YXIgZ2xvYmFscz1yZXF1aXJlKFwiLi4vLi4vY29yZS9nbG9iYWxzXCIpLHNoYWRlcnM9cmVxdWlyZShcIi4vc2hhZGVyc1wiKSx3ZWJnbEdyYXBoaWNzPXJlcXVpcmUoXCIuL2dyYXBoaWNzXCIpLFdlYkdMQmF0Y2g9cmVxdWlyZShcIi4vV2ViR0xCYXRjaFwiKSxXZWJHTEZpbHRlck1hbmFnZXI9cmVxdWlyZShcIi4vV2ViR0xGaWx0ZXJNYW5hZ2VyXCIpLG1hdDM9cmVxdWlyZShcIi4uLy4uL2dlb20vbWF0cml4XCIpLm1hdDMsQmFzZVRleHR1cmU9cmVxdWlyZShcIi4uLy4uL3RleHR1cmVzL0Jhc2VUZXh0dXJlXCIpLFRpbGluZ1Nwcml0ZT1yZXF1aXJlKFwiLi4vLi4vZXh0cmFzL1RpbGluZ1Nwcml0ZVwiKSxTdHJpcD1yZXF1aXJlKFwiLi4vLi4vZXh0cmFzL1N0cmlwXCIpLEdyYXBoaWNzPXJlcXVpcmUoXCIuLi8uLi9wcmltaXRpdmVzL0dyYXBoaWNzXCIpLEZpbHRlckJsb2NrPXJlcXVpcmUoXCIuLi8uLi9maWx0ZXJzL0ZpbHRlckJsb2NrXCIpLFNwcml0ZT1yZXF1aXJlKFwiLi4vLi4vZGlzcGxheS9TcHJpdGVcIiksQ3VzdG9tUmVuZGVyYWJsZT1yZXF1aXJlKFwiLi4vLi4vZXh0cmFzL0N1c3RvbVJlbmRlcmFibGVcIikscHJvdG89V2ViR0xSZW5kZXJHcm91cC5wcm90b3R5cGU7cHJvdG8uc2V0UmVuZGVyYWJsZT1mdW5jdGlvbihhKXt0aGlzLnJvb3QmJnRoaXMucmVtb3ZlRGlzcGxheU9iamVjdEFuZENoaWxkcmVuKHRoaXMucm9vdCksYS53b3JsZFZpc2libGU9YS52aXNpYmxlLHRoaXMucm9vdD1hLHRoaXMuYWRkRGlzcGxheU9iamVjdEFuZENoaWxkcmVuKGEpfSxwcm90by5yZW5kZXI9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdsO1dlYkdMUmVuZGVyR3JvdXAudXBkYXRlVGV4dHVyZXMoYyksYy51bmlmb3JtMmYoZ2xvYmFscy5kZWZhdWx0U2hhZGVyLnByb2plY3Rpb25WZWN0b3IsYS54LGEueSksdGhpcy5maWx0ZXJNYW5hZ2VyLmJlZ2luKGEsYiksYy5ibGVuZEZ1bmMoYy5PTkUsYy5PTkVfTUlOVVNfU1JDX0FMUEhBKTtmb3IodmFyIGQsZT0wO2U8dGhpcy5iYXRjaHMubGVuZ3RoO2UrKylkPXRoaXMuYmF0Y2hzW2VdLGQgaW5zdGFuY2VvZiBXZWJHTEJhdGNoP3RoaXMuYmF0Y2hzW2VdLnJlbmRlcigpOnRoaXMucmVuZGVyU3BlY2lhbChkLGEpfSxwcm90by5oYW5kbGVGaWx0ZXI9ZnVuY3Rpb24oKXt9LHByb3RvLnJlbmRlclNwZWNpZmljPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmdsO1dlYkdMUmVuZGVyR3JvdXAudXBkYXRlVGV4dHVyZXMoZCksZC51bmlmb3JtMmYoZ2xvYmFscy5kZWZhdWx0U2hhZGVyLnByb2plY3Rpb25WZWN0b3IsYi54LGIueSksdGhpcy5maWx0ZXJNYW5hZ2VyLmJlZ2luKGIsYyk7Zm9yKHZhciBlLGYsZyxoLGksaixrPWEuZmlyc3Q7ay5faU5leHQmJighay5yZW5kZXJhYmxlfHwhay5fX3JlbmRlckdyb3VwKTspaz1rLl9pTmV4dDt2YXIgbD1rLmJhdGNoO2lmKGsgaW5zdGFuY2VvZiBTcHJpdGUpaWYobD1rLmJhdGNoLGo9bC5oZWFkLGo9PT1rKWU9MDtlbHNlIGZvcihlPTE7ai5fX25leHQhPT1rOyllKyssaj1qLl9fbmV4dDtlbHNlIGw9aztmb3IodmFyIG09YS5sYXN0O20uX2lQcmV2JiYoIW0ucmVuZGVyYWJsZXx8IW0uX19yZW5kZXJHcm91cCk7KW09bS5faU5leHQ7aWYobSBpbnN0YW5jZW9mIFNwcml0ZSlpZihpPW0uYmF0Y2gsaj1pLmhlYWQsaj09PW0pZz0wO2Vsc2UgZm9yKGc9MTtqLl9fbmV4dCE9PW07KWcrKyxqPWouX19uZXh0O2Vsc2UgaT1tO2lmKGw9PT1pKXJldHVybiBsIGluc3RhbmNlb2YgV2ViR0xCYXRjaD9sLnJlbmRlcihlLGcrMSk6dGhpcy5yZW5kZXJTcGVjaWFsKGwsYiksdm9pZCAwO2Y9dGhpcy5iYXRjaHMuaW5kZXhPZihsKSxoPXRoaXMuYmF0Y2hzLmluZGV4T2YoaSksbCBpbnN0YW5jZW9mIFdlYkdMQmF0Y2g/bC5yZW5kZXIoZSk6dGhpcy5yZW5kZXJTcGVjaWFsKGwsYik7Zm9yKHZhciBuLG89ZisxO2g+bztvKyspbj10aGlzLmJhdGNoc1tvXSxuIGluc3RhbmNlb2YgV2ViR0xCYXRjaD90aGlzLmJhdGNoc1tvXS5yZW5kZXIoKTp0aGlzLnJlbmRlclNwZWNpYWwobixiKTtpIGluc3RhbmNlb2YgV2ViR0xCYXRjaD9pLnJlbmRlcigwLGcrMSk6dGhpcy5yZW5kZXJTcGVjaWFsKGksYil9LHByb3RvLnJlbmRlclNwZWNpYWw9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnZjb3VudD09PWdsb2JhbHMudmlzaWJsZUNvdW50O2EgaW5zdGFuY2VvZiBUaWxpbmdTcHJpdGU/YyYmdGhpcy5yZW5kZXJUaWxpbmdTcHJpdGUoYSxiKTphIGluc3RhbmNlb2YgU3RyaXA/YyYmdGhpcy5yZW5kZXJTdHJpcChhLGIpOmEgaW5zdGFuY2VvZiBDdXN0b21SZW5kZXJhYmxlP2MmJmEucmVuZGVyV2ViR0wodGhpcyxiKTphIGluc3RhbmNlb2YgR3JhcGhpY3M/YyYmYS5yZW5kZXJhYmxlJiZ3ZWJnbEdyYXBoaWNzLnJlbmRlckdyYXBoaWNzKGEsYik6YSBpbnN0YW5jZW9mIEZpbHRlckJsb2NrJiZ0aGlzLmhhbmRsZUZpbHRlckJsb2NrKGEsYil9O3ZhciBtYXNrU3RhY2s9W107cHJvdG8uaGFuZGxlRmlsdGVyQmxvY2s9ZnVuY3Rpb24oYSxiKXt2YXIgYz1nbG9iYWxzLmdsO2lmKGEub3BlbilhLmRhdGEgaW5zdGFuY2VvZiBBcnJheT90aGlzLmZpbHRlck1hbmFnZXIucHVzaEZpbHRlcihhKToobWFza1N0YWNrLnB1c2goYSksYy5lbmFibGUoYy5TVEVOQ0lMX1RFU1QpLGMuY29sb3JNYXNrKCExLCExLCExLCExKSxjLnN0ZW5jaWxGdW5jKGMuQUxXQVlTLDEsMSksYy5zdGVuY2lsT3AoYy5LRUVQLGMuS0VFUCxjLklOQ1IpLHdlYmdsR3JhcGhpY3MucmVuZGVyR3JhcGhpY3MoYS5kYXRhLGIpLGMuY29sb3JNYXNrKCEwLCEwLCEwLCEwKSxjLnN0ZW5jaWxGdW5jKGMuTk9URVFVQUwsMCxtYXNrU3RhY2subGVuZ3RoKSxjLnN0ZW5jaWxPcChjLktFRVAsYy5LRUVQLGMuS0VFUCkpO2Vsc2UgaWYoYS5kYXRhIGluc3RhbmNlb2YgQXJyYXkpdGhpcy5maWx0ZXJNYW5hZ2VyLnBvcEZpbHRlcigpO2Vsc2V7dmFyIGQ9bWFza1N0YWNrLnBvcChhKTtkJiYoYy5jb2xvck1hc2soITEsITEsITEsITEpLGMuc3RlbmNpbEZ1bmMoYy5BTFdBWVMsMSwxKSxjLnN0ZW5jaWxPcChjLktFRVAsYy5LRUVQLGMuREVDUiksd2ViZ2xHcmFwaGljcy5yZW5kZXJHcmFwaGljcyhkLmRhdGEsYiksYy5jb2xvck1hc2soITAsITAsITAsITApLGMuc3RlbmNpbEZ1bmMoYy5OT1RFUVVBTCwwLG1hc2tTdGFjay5sZW5ndGgpLGMuc3RlbmNpbE9wKGMuS0VFUCxjLktFRVAsYy5LRUVQKSksYy5kaXNhYmxlKGMuU1RFTkNJTF9URVNUKX19LHByb3RvLnVwZGF0ZVRleHR1cmU9ZnVuY3Rpb24oYSl7dGhpcy5yZW1vdmVPYmplY3QoYSk7Zm9yKHZhciBiPWEuZmlyc3Q7YiE9PXRoaXMucm9vdCYmKGI9Yi5faVByZXYsIWIucmVuZGVyYWJsZXx8IWIuX19yZW5kZXJHcm91cCk7KTtmb3IodmFyIGM9YS5sYXN0O2MuX2lOZXh0JiYoYz1jLl9pTmV4dCwhYy5yZW5kZXJhYmxlfHwhYy5fX3JlbmRlckdyb3VwKTspO3RoaXMuaW5zZXJ0T2JqZWN0KGEsYixjKX0scHJvdG8uYWRkRmlsdGVyQmxvY2tzPWZ1bmN0aW9uKGEsYil7YS5fX3JlbmRlckdyb3VwPXRoaXMsYi5fX3JlbmRlckdyb3VwPXRoaXM7Zm9yKHZhciBjPWE7YyE9PXRoaXMucm9vdC5maXJzdCYmKGM9Yy5faVByZXYsIWMucmVuZGVyYWJsZXx8IWMuX19yZW5kZXJHcm91cCk7KTt0aGlzLmluc2VydEFmdGVyKGEsYyk7Zm9yKHZhciBkPWI7ZCE9PXRoaXMucm9vdC5maXJzdCYmKGQ9ZC5faVByZXYsIWQucmVuZGVyYWJsZXx8IWQuX19yZW5kZXJHcm91cCk7KTt0aGlzLmluc2VydEFmdGVyKGIsZCl9LHByb3RvLnJlbW92ZUZpbHRlckJsb2Nrcz1mdW5jdGlvbihhLGIpe3RoaXMucmVtb3ZlT2JqZWN0KGEpLHRoaXMucmVtb3ZlT2JqZWN0KGIpfSxwcm90by5hZGREaXNwbGF5T2JqZWN0QW5kQ2hpbGRyZW49ZnVuY3Rpb24oYSl7YS5fX3JlbmRlckdyb3VwJiZhLl9fcmVuZGVyR3JvdXAucmVtb3ZlRGlzcGxheU9iamVjdEFuZENoaWxkcmVuKGEpO2Zvcih2YXIgYj1hLmZpcnN0O2IhPT10aGlzLnJvb3QuZmlyc3QmJihiPWIuX2lQcmV2LCFiLnJlbmRlcmFibGV8fCFiLl9fcmVuZGVyR3JvdXApOyk7Zm9yKHZhciBjPWEubGFzdDtjLl9pTmV4dCYmKGM9Yy5faU5leHQsIWMucmVuZGVyYWJsZXx8IWMuX19yZW5kZXJHcm91cCk7KTt2YXIgZD1hLmZpcnN0LGU9YS5sYXN0Ll9pTmV4dDtkbyBkLl9fcmVuZGVyR3JvdXA9dGhpcyxkLnJlbmRlcmFibGUmJih0aGlzLmluc2VydE9iamVjdChkLGIsYyksYj1kKSxkPWQuX2lOZXh0O3doaWxlKGQhPT1lKX0scHJvdG8ucmVtb3ZlRGlzcGxheU9iamVjdEFuZENoaWxkcmVuPWZ1bmN0aW9uKGEpe2lmKGEuX19yZW5kZXJHcm91cD09PXRoaXMpZG8gYS5fX3JlbmRlckdyb3VwPW51bGwsYS5yZW5kZXJhYmxlJiZ0aGlzLnJlbW92ZU9iamVjdChhKSxhPWEuX2lOZXh0O3doaWxlKGEpfSxwcm90by5pbnNlcnRPYmplY3Q9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj1iLGc9YztpZihhIGluc3RhbmNlb2YgU3ByaXRlKXt2YXIgaCxpO2lmKGYgaW5zdGFuY2VvZiBTcHJpdGUpe2lmKGg9Zi5iYXRjaCxoJiZoLnRleHR1cmU9PT1hLnRleHR1cmUuYmFzZVRleHR1cmUmJmguYmxlbmRNb2RlPT09YS5ibGVuZE1vZGUpcmV0dXJuIGguaW5zZXJ0QWZ0ZXIoYSxmKSx2b2lkIDB9ZWxzZSBoPWY7aWYoZylpZihnIGluc3RhbmNlb2YgU3ByaXRlKXtpZihpPWcuYmF0Y2gpe2lmKGkudGV4dHVyZT09PWEudGV4dHVyZS5iYXNlVGV4dHVyZSYmaS5ibGVuZE1vZGU9PT1hLmJsZW5kTW9kZSlyZXR1cm4gaS5pbnNlcnRCZWZvcmUoYSxnKSx2b2lkIDA7aWYoaT09PWgpe3ZhciBqPWguc3BsaXQoZyk7cmV0dXJuIGQ9V2ViR0xCYXRjaC5nZXRCYXRjaCgpLGU9dGhpcy5iYXRjaHMuaW5kZXhPZihoKSxkLmluaXQoYSksdGhpcy5iYXRjaHMuc3BsaWNlKGUrMSwwLGQsaiksdm9pZCAwfX19ZWxzZSBpPWc7cmV0dXJuIGQ9V2ViR0xCYXRjaC5nZXRCYXRjaCgpLGQuaW5pdChhKSxoPyhlPXRoaXMuYmF0Y2hzLmluZGV4T2YoaCksdGhpcy5iYXRjaHMuc3BsaWNlKGUrMSwwLGQpKTp0aGlzLmJhdGNocy5wdXNoKGQpLHZvaWQgMH1hIGluc3RhbmNlb2YgVGlsaW5nU3ByaXRlP3RoaXMuaW5pdFRpbGluZ1Nwcml0ZShhKTphIGluc3RhbmNlb2YgU3RyaXAmJnRoaXMuaW5pdFN0cmlwKGEpLHRoaXMuaW5zZXJ0QWZ0ZXIoYSxmKX0scHJvdG8uaW5zZXJ0QWZ0ZXI9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU7YiBpbnN0YW5jZW9mIFNwcml0ZT8oYz1iLmJhdGNoLGM/Yy50YWlsPT09Yj8oZT10aGlzLmJhdGNocy5pbmRleE9mKGMpLHRoaXMuYmF0Y2hzLnNwbGljZShlKzEsMCxhKSk6KGQ9Yy5zcGxpdChiLl9fbmV4dCksZT10aGlzLmJhdGNocy5pbmRleE9mKGMpLHRoaXMuYmF0Y2hzLnNwbGljZShlKzEsMCxhLGQpKTp0aGlzLmJhdGNocy5wdXNoKGEpKTooZT10aGlzLmJhdGNocy5pbmRleE9mKGIpLHRoaXMuYmF0Y2hzLnNwbGljZShlKzEsMCxhKSl9LHByb3RvLnJlbW92ZU9iamVjdD1mdW5jdGlvbihhKXt2YXIgYixjO2lmKGEgaW5zdGFuY2VvZiBTcHJpdGUpe3ZhciBkPWEuYmF0Y2g7aWYoIWQpcmV0dXJuO2QucmVtb3ZlKGEpLGQuc2l6ZXx8KGI9ZCl9ZWxzZSBiPWE7aWYoYil7aWYoYz10aGlzLmJhdGNocy5pbmRleE9mKGIpLC0xPT09YylyZXR1cm47aWYoMD09PWN8fGM9PT10aGlzLmJhdGNocy5sZW5ndGgtMSlyZXR1cm4gdGhpcy5iYXRjaHMuc3BsaWNlKGMsMSksYiBpbnN0YW5jZW9mIFdlYkdMQmF0Y2gmJldlYkdMQmF0Y2gucmV0dXJuQmF0Y2goYiksdm9pZCAwO2lmKHRoaXMuYmF0Y2hzW2MtMV1pbnN0YW5jZW9mIFdlYkdMQmF0Y2gmJnRoaXMuYmF0Y2hzW2MrMV1pbnN0YW5jZW9mIFdlYkdMQmF0Y2gmJnRoaXMuYmF0Y2hzW2MtMV0udGV4dHVyZT09PXRoaXMuYmF0Y2hzW2MrMV0udGV4dHVyZSYmdGhpcy5iYXRjaHNbYy0xXS5ibGVuZE1vZGU9PT10aGlzLmJhdGNoc1tjKzFdLmJsZW5kTW9kZSlyZXR1cm4gdGhpcy5iYXRjaHNbYy0xXS5tZXJnZSh0aGlzLmJhdGNoc1tjKzFdKSxiIGluc3RhbmNlb2YgV2ViR0xCYXRjaCYmV2ViR0xCYXRjaC5yZXR1cm5CYXRjaChiKSxXZWJHTEJhdGNoLnJldHVybkJhdGNoKHRoaXMuYmF0Y2hzW2MrMV0pLHRoaXMuYmF0Y2hzLnNwbGljZShjLDIpLHZvaWQgMDt0aGlzLmJhdGNocy5zcGxpY2UoYywxKSxiIGluc3RhbmNlb2YgV2ViR0xCYXRjaCYmV2ViR0xCYXRjaC5yZXR1cm5CYXRjaChiKX19LHByb3RvLmluaXRUaWxpbmdTcHJpdGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nbDthLnZlcnRpY2llcz1uZXcgRmxvYXQzMkFycmF5KFswLDAsYS53aWR0aCwwLGEud2lkdGgsYS5oZWlnaHQsMCxhLmhlaWdodF0pLGEudXZzPW5ldyBGbG9hdDMyQXJyYXkoWzAsMCwxLDAsMSwxLDAsMV0pLGEuY29sb3JzPW5ldyBGbG9hdDMyQXJyYXkoWzEsMSwxLDFdKSxhLmluZGljZXM9bmV3IFVpbnQxNkFycmF5KFswLDEsMywyXSksYS5fdmVydGV4QnVmZmVyPWIuY3JlYXRlQnVmZmVyKCksYS5faW5kZXhCdWZmZXI9Yi5jcmVhdGVCdWZmZXIoKSxhLl91dkJ1ZmZlcj1iLmNyZWF0ZUJ1ZmZlcigpLGEuX2NvbG9yQnVmZmVyPWIuY3JlYXRlQnVmZmVyKCksYi5iaW5kQnVmZmVyKGIuQVJSQVlfQlVGRkVSLGEuX3ZlcnRleEJ1ZmZlciksYi5idWZmZXJEYXRhKGIuQVJSQVlfQlVGRkVSLGEudmVydGljaWVzLGIuU1RBVElDX0RSQVcpLGIuYmluZEJ1ZmZlcihiLkFSUkFZX0JVRkZFUixhLl91dkJ1ZmZlciksYi5idWZmZXJEYXRhKGIuQVJSQVlfQlVGRkVSLGEudXZzLGIuRFlOQU1JQ19EUkFXKSxiLmJpbmRCdWZmZXIoYi5BUlJBWV9CVUZGRVIsYS5fY29sb3JCdWZmZXIpLGIuYnVmZmVyRGF0YShiLkFSUkFZX0JVRkZFUixhLmNvbG9ycyxiLlNUQVRJQ19EUkFXKSxiLmJpbmRCdWZmZXIoYi5FTEVNRU5UX0FSUkFZX0JVRkZFUixhLl9pbmRleEJ1ZmZlciksYi5idWZmZXJEYXRhKGIuRUxFTUVOVF9BUlJBWV9CVUZGRVIsYS5pbmRpY2VzLGIuU1RBVElDX0RSQVcpLGEudGV4dHVyZS5iYXNlVGV4dHVyZS5fZ2xUZXh0dXJlPyhiLmJpbmRUZXh0dXJlKGIuVEVYVFVSRV8yRCxhLnRleHR1cmUuYmFzZVRleHR1cmUuX2dsVGV4dHVyZSksYi50ZXhQYXJhbWV0ZXJpKGIuVEVYVFVSRV8yRCxiLlRFWFRVUkVfV1JBUF9TLGIuUkVQRUFUKSxiLnRleFBhcmFtZXRlcmkoYi5URVhUVVJFXzJELGIuVEVYVFVSRV9XUkFQX1QsYi5SRVBFQVQpLGEudGV4dHVyZS5iYXNlVGV4dHVyZS5fcG93ZXJPZjI9ITApOmEudGV4dHVyZS5iYXNlVGV4dHVyZS5fcG93ZXJPZjI9ITB9LHByb3RvLnJlbmRlclN0cmlwPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nbDtzaGFkZXJzLmFjdGl2YXRlU3RyaXBTaGFkZXIoKTt2YXIgZD1nbG9iYWxzLnN0cmlwU2hhZGVyLGU9bWF0My5jbG9uZShhLndvcmxkVHJhbnNmb3JtKTttYXQzLnRyYW5zcG9zZShlKSxjLnVuaWZvcm1NYXRyaXgzZnYoZC50cmFuc2xhdGlvbk1hdHJpeCwhMSxlKSxjLnVuaWZvcm0yZihkLnByb2plY3Rpb25WZWN0b3IsYi54LGIueSksYy51bmlmb3JtMmYoZC5vZmZzZXRWZWN0b3IsLWdsb2JhbHMub2Zmc2V0LngsLWdsb2JhbHMub2Zmc2V0LnkpLGMudW5pZm9ybTFmKGQuYWxwaGEsYS53b3JsZEFscGhhKSxhLmRpcnR5PyhhLmRpcnR5PSExLGMuYmluZEJ1ZmZlcihjLkFSUkFZX0JVRkZFUixhLl92ZXJ0ZXhCdWZmZXIpLGMuYnVmZmVyRGF0YShjLkFSUkFZX0JVRkZFUixhLnZlcnRpY2llcyxjLlNUQVRJQ19EUkFXKSxjLnZlcnRleEF0dHJpYlBvaW50ZXIoZC5hVmVydGV4UG9zaXRpb24sMixjLkZMT0FULCExLDAsMCksYy5iaW5kQnVmZmVyKGMuQVJSQVlfQlVGRkVSLGEuX3V2QnVmZmVyKSxjLmJ1ZmZlckRhdGEoYy5BUlJBWV9CVUZGRVIsYS51dnMsYy5TVEFUSUNfRFJBVyksYy52ZXJ0ZXhBdHRyaWJQb2ludGVyKGQuYVRleHR1cmVDb29yZCwyLGMuRkxPQVQsITEsMCwwKSxjLmFjdGl2ZVRleHR1cmUoYy5URVhUVVJFMCksYy5iaW5kVGV4dHVyZShjLlRFWFRVUkVfMkQsYS50ZXh0dXJlLmJhc2VUZXh0dXJlLl9nbFRleHR1cmUpLGMuYmluZEJ1ZmZlcihjLkFSUkFZX0JVRkZFUixhLl9jb2xvckJ1ZmZlciksYy5idWZmZXJEYXRhKGMuQVJSQVlfQlVGRkVSLGEuY29sb3JzLGMuU1RBVElDX0RSQVcpLGMudmVydGV4QXR0cmliUG9pbnRlcihkLmNvbG9yQXR0cmlidXRlLDEsYy5GTE9BVCwhMSwwLDApLGMuYmluZEJ1ZmZlcihjLkVMRU1FTlRfQVJSQVlfQlVGRkVSLGEuX2luZGV4QnVmZmVyKSxjLmJ1ZmZlckRhdGEoYy5FTEVNRU5UX0FSUkFZX0JVRkZFUixhLmluZGljZXMsYy5TVEFUSUNfRFJBVykpOihjLmJpbmRCdWZmZXIoYy5BUlJBWV9CVUZGRVIsYS5fdmVydGV4QnVmZmVyKSxjLmJ1ZmZlclN1YkRhdGEoYy5BUlJBWV9CVUZGRVIsMCxhLnZlcnRpY2llcyksYy52ZXJ0ZXhBdHRyaWJQb2ludGVyKGQuYVZlcnRleFBvc2l0aW9uLDIsYy5GTE9BVCwhMSwwLDApLGMuYmluZEJ1ZmZlcihjLkFSUkFZX0JVRkZFUixhLl91dkJ1ZmZlciksYy52ZXJ0ZXhBdHRyaWJQb2ludGVyKGQuYVRleHR1cmVDb29yZCwyLGMuRkxPQVQsITEsMCwwKSxjLmFjdGl2ZVRleHR1cmUoYy5URVhUVVJFMCksYy5iaW5kVGV4dHVyZShjLlRFWFRVUkVfMkQsYS50ZXh0dXJlLmJhc2VUZXh0dXJlLl9nbFRleHR1cmUpLGMuYmluZEJ1ZmZlcihjLkFSUkFZX0JVRkZFUixhLl9jb2xvckJ1ZmZlciksYy52ZXJ0ZXhBdHRyaWJQb2ludGVyKGQuY29sb3JBdHRyaWJ1dGUsMSxjLkZMT0FULCExLDAsMCksYy5iaW5kQnVmZmVyKGMuRUxFTUVOVF9BUlJBWV9CVUZGRVIsYS5faW5kZXhCdWZmZXIpKSxjLmRyYXdFbGVtZW50cyhjLlRSSUFOR0xFX1NUUklQLGEuaW5kaWNlcy5sZW5ndGgsYy5VTlNJR05FRF9TSE9SVCwwKSxzaGFkZXJzLmRlYWN0aXZhdGVTdHJpcFNoYWRlcigpfSxwcm90by5yZW5kZXJUaWxpbmdTcHJpdGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdsLGQ9YS50aWxlUG9zaXRpb24sZT1hLnRpbGVTY2FsZSxmPWQueC9hLnRleHR1cmUuYmFzZVRleHR1cmUud2lkdGgsZz1kLnkvYS50ZXh0dXJlLmJhc2VUZXh0dXJlLmhlaWdodCxoPWEud2lkdGgvYS50ZXh0dXJlLmJhc2VUZXh0dXJlLndpZHRoL2UueCxpPWEuaGVpZ2h0L2EudGV4dHVyZS5iYXNlVGV4dHVyZS5oZWlnaHQvZS55O2EudXZzWzBdPTAtZixhLnV2c1sxXT0wLWcsYS51dnNbMl09MSpoLWYsYS51dnNbM109MC1nLGEudXZzWzRdPTEqaC1mLGEudXZzWzVdPTEqaS1nLGEudXZzWzZdPTAtZixhLnV2c1s3XT0xKmktZyxjLmJpbmRCdWZmZXIoYy5BUlJBWV9CVUZGRVIsYS5fdXZCdWZmZXIpLGMuYnVmZmVyU3ViRGF0YShjLkFSUkFZX0JVRkZFUiwwLGEudXZzKSx0aGlzLnJlbmRlclN0cmlwKGEsYil9LHByb3RvLmluaXRTdHJpcD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdsO2EuX3ZlcnRleEJ1ZmZlcj1iLmNyZWF0ZUJ1ZmZlcigpLGEuX2luZGV4QnVmZmVyPWIuY3JlYXRlQnVmZmVyKCksYS5fdXZCdWZmZXI9Yi5jcmVhdGVCdWZmZXIoKSxhLl9jb2xvckJ1ZmZlcj1iLmNyZWF0ZUJ1ZmZlcigpLGIuYmluZEJ1ZmZlcihiLkFSUkFZX0JVRkZFUixhLl92ZXJ0ZXhCdWZmZXIpLGIuYnVmZmVyRGF0YShiLkFSUkFZX0JVRkZFUixhLnZlcnRpY2llcyxiLkRZTkFNSUNfRFJBVyksYi5iaW5kQnVmZmVyKGIuQVJSQVlfQlVGRkVSLGEuX3V2QnVmZmVyKSxiLmJ1ZmZlckRhdGEoYi5BUlJBWV9CVUZGRVIsYS51dnMsYi5TVEFUSUNfRFJBVyksYi5iaW5kQnVmZmVyKGIuQVJSQVlfQlVGRkVSLGEuX2NvbG9yQnVmZmVyKSxiLmJ1ZmZlckRhdGEoYi5BUlJBWV9CVUZGRVIsYS5jb2xvcnMsYi5TVEFUSUNfRFJBVyksYi5iaW5kQnVmZmVyKGIuRUxFTUVOVF9BUlJBWV9CVUZGRVIsYS5faW5kZXhCdWZmZXIpLGIuYnVmZmVyRGF0YShiLkVMRU1FTlRfQVJSQVlfQlVGRkVSLGEuaW5kaWNlcyxiLlNUQVRJQ19EUkFXKX0sV2ViR0xSZW5kZXJHcm91cC51cGRhdGVUZXh0dXJlPWZ1bmN0aW9uKGEsYil7Yi5fZ2xUZXh0dXJlfHwoYi5fZ2xUZXh0dXJlPWEuY3JlYXRlVGV4dHVyZSgpKSxiLmhhc0xvYWRlZCYmKGEuYmluZFRleHR1cmUoYS5URVhUVVJFXzJELGIuX2dsVGV4dHVyZSksYS5waXhlbFN0b3JlaShhLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwhMCksYS50ZXhJbWFnZTJEKGEuVEVYVFVSRV8yRCwwLGEuUkdCQSxhLlJHQkEsYS5VTlNJR05FRF9CWVRFLGIuc291cmNlKSxhLnRleFBhcmFtZXRlcmkoYS5URVhUVVJFXzJELGEuVEVYVFVSRV9NQUdfRklMVEVSLGIuc2NhbGVNb2RlPT09QmFzZVRleHR1cmUuU0NBTEVfTU9ERS5MSU5FQVI/YS5MSU5FQVI6YS5ORUFSRVNUKSxhLnRleFBhcmFtZXRlcmkoYS5URVhUVVJFXzJELGEuVEVYVFVSRV9NSU5fRklMVEVSLGIuc2NhbGVNb2RlPT09QmFzZVRleHR1cmUuU0NBTEVfTU9ERS5MSU5FQVI/YS5MSU5FQVI6YS5ORUFSRVNUKSxiLl9wb3dlck9mMj8oYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV8yRCxhLlRFWFRVUkVfV1JBUF9TLGEuUkVQRUFUKSxhLnRleFBhcmFtZXRlcmkoYS5URVhUVVJFXzJELGEuVEVYVFVSRV9XUkFQX1QsYS5SRVBFQVQpKTooYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV8yRCxhLlRFWFRVUkVfV1JBUF9TLGEuQ0xBTVBfVE9fRURHRSksYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV8yRCxhLlRFWFRVUkVfV1JBUF9ULGEuQ0xBTVBfVE9fRURHRSkpLGEuYmluZFRleHR1cmUoYS5URVhUVVJFXzJELG51bGwpKX0sV2ViR0xSZW5kZXJHcm91cC5kZXN0cm95VGV4dHVyZT1mdW5jdGlvbihhLGIpe2IuX2dsVGV4dHVyZSYmKGIuX2dsVGV4dHVyZT1hLmNyZWF0ZVRleHR1cmUoKSxhLmRlbGV0ZVRleHR1cmUoYS5URVhUVVJFXzJELGIuX2dsVGV4dHVyZSkpfSxXZWJHTFJlbmRlckdyb3VwLnVwZGF0ZVRleHR1cmVzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9Z2xvYmFscy50ZXh0dXJlc1RvVXBkYXRlLmxlbmd0aDtjPmI7YisrKVdlYkdMUmVuZGVyR3JvdXAudXBkYXRlVGV4dHVyZShhLGdsb2JhbHMudGV4dHVyZXNUb1VwZGF0ZVtiXSk7Zm9yKGI9MCxjPWdsb2JhbHMudGV4dHVyZXNUb0Rlc3Ryb3kubGVuZ3RoO2M+YjtiKyspV2ViR0xSZW5kZXJHcm91cC5kZXN0cm95VGV4dHVyZShhLGdsb2JhbHMudGV4dHVyZXNUb0Rlc3Ryb3lbYl0pO2dsb2JhbHMudGV4dHVyZXNUb1VwZGF0ZT1bXSxnbG9iYWxzLnRleHR1cmVzVG9EZXN0cm95PVtdfSxtb2R1bGUuZXhwb3J0cz1XZWJHTFJlbmRlckdyb3VwOyIsIi8qKlxuICogcGl4aSAwLjIuMSAoNmFhMDAzMClcbiAqIGh0dHA6Ly9kcmtpYml0ei5naXRodWIuaW8vbm9kZS1waXhpL1xuICogQ29weXJpZ2h0IChjKSAyMDEzLTIwMTQgRHIuIEtpYml0eiwgaHR0cDovL2Rya2liaXR6LmNvbVxuICogU3VwZXIgZmFzdCAyRCByZW5kZXJpbmcgZW5naW5lIGZvciBicm93c2VyaWZ5LCB0aGF0IHVzZXMgV2ViR0wgd2l0aCBhIGNvbnRleHQgMmQgZmFsbGJhY2suXG4gKiBidWlsdDogU3VuIEphbiAwNSAyMDE0IDAxOjUzOjU4IEdNVC0wNTAwIChFU1QpXG4gKlxuICogUGl4aS5qcyAtIHYxLjMuMFxuICogQ29weXJpZ2h0IChjKSAyMDEyLCBNYXQgR3JvdmVzXG4gKi9cblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIFdlYkdMUmVuZGVyZXIoYSxiLGMsZCxlKXt2YXIgZjt0aGlzLnRyYW5zcGFyZW50PSEhZCx0aGlzLndpZHRoPWF8fDgwMCx0aGlzLmhlaWdodD1ifHw2MDAsdGhpcy52aWV3PWN8fHBsYXRmb3JtLmNyZWF0ZUNhbnZhcygpLHRoaXMudmlldy53aWR0aD10aGlzLndpZHRoLHRoaXMudmlldy5oZWlnaHQ9dGhpcy5oZWlnaHQ7dmFyIGc9dGhpczt0aGlzLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dGxvc3RcIixmdW5jdGlvbihhKXtnLmhhbmRsZUNvbnRleHRMb3N0KGEpfSwhMSksdGhpcy52aWV3LmFkZEV2ZW50TGlzdGVuZXIoXCJ3ZWJnbGNvbnRleHRyZXN0b3JlZFwiLGZ1bmN0aW9uKGEpe2cuaGFuZGxlQ29udGV4dFJlc3RvcmVkKGEpfSwhMSksdGhpcy5iYXRjaHM9W107dmFyIGg9e2FscGhhOnRoaXMudHJhbnNwYXJlbnQsYW50aWFsaWFzOiEhZSxwcmVtdWx0aXBsaWVkQWxwaGE6ITEsc3RlbmNpbDohMH07dHJ5e2Y9dGhpcy52aWV3LmdldENvbnRleHQoXCJleHBlcmltZW50YWwtd2ViZ2xcIixoKX1jYXRjaChpKXt0cnl7Zj10aGlzLnZpZXcuZ2V0Q29udGV4dChcIndlYmdsXCIsaCl9Y2F0Y2goail7dGhyb3cgbmV3IEVycm9yKFwiIFRoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHdlYkdMLiBUcnkgdXNpbmcgdGhlIGNhbnZhcyByZW5kZXJlclwiK3RoaXMpfX10aGlzLmdsPWdsb2JhbHMuZ2w9ZixzaGFkZXJzLmluaXREZWZhdWx0U2hhZGVycygpLGYudXNlUHJvZ3JhbShnbG9iYWxzLmRlZmF1bHRTaGFkZXIucHJvZ3JhbSksdGhpcy5iYXRjaD1uZXcgV2ViR0xCYXRjaChmKSxmLmRpc2FibGUoZi5ERVBUSF9URVNUKSxmLmRpc2FibGUoZi5DVUxMX0ZBQ0UpLGYuZW5hYmxlKGYuQkxFTkQpLGYuY29sb3JNYXNrKCEwLCEwLCEwLHRoaXMudHJhbnNwYXJlbnQpLHRoaXMucHJvamVjdGlvbj1nbG9iYWxzLnByb2plY3Rpb249bmV3IFBvaW50KDQwMCwzMDApLHRoaXMub2Zmc2V0PWdsb2JhbHMub2Zmc2V0PW5ldyBQb2ludCgwLDApLHRoaXMucmVzaXplKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHRoaXMuY29udGV4dExvc3Q9ITEsdGhpcy5zdGFnZVJlbmRlckdyb3VwPW5ldyBXZWJHTFJlbmRlckdyb3VwKHRoaXMuZ2wsdGhpcy50cmFuc3BhcmVudCl9dmFyIHBsYXRmb3JtPXJlcXVpcmUoXCIuLi8uLi9wbGF0Zm9ybVwiKSxnbG9iYWxzPXJlcXVpcmUoXCIuLi8uLi9jb3JlL2dsb2JhbHNcIiksc2hhZGVycz1yZXF1aXJlKFwiLi9zaGFkZXJzXCIpLFdlYkdMQmF0Y2g9cmVxdWlyZShcIi4vV2ViR0xCYXRjaFwiKSxXZWJHTFJlbmRlckdyb3VwPXJlcXVpcmUoXCIuL1dlYkdMUmVuZGVyR3JvdXBcIiksUG9pbnQ9cmVxdWlyZShcIi4uLy4uL2dlb20vUG9pbnRcIiksVGV4dHVyZT1yZXF1aXJlKFwiLi4vLi4vdGV4dHVyZXMvVGV4dHVyZVwiKSxwcm90bz1XZWJHTFJlbmRlcmVyLnByb3RvdHlwZTtwcm90by5yZW5kZXI9ZnVuY3Rpb24oYSl7aWYoIXRoaXMuY29udGV4dExvc3Qpe3RoaXMuX19zdGFnZSE9PWEmJih0aGlzLl9fc3RhZ2U9YSx0aGlzLnN0YWdlUmVuZGVyR3JvdXAuc2V0UmVuZGVyYWJsZShhKSk7dmFyIGI9dGhpcy5nbDtpZihXZWJHTFJlbmRlckdyb3VwLnVwZGF0ZVRleHR1cmVzKGIpLGdsb2JhbHMudmlzaWJsZUNvdW50KyssYS51cGRhdGVUcmFuc2Zvcm0oKSxiLmNvbG9yTWFzayghMCwhMCwhMCx0aGlzLnRyYW5zcGFyZW50KSxiLnZpZXdwb3J0KDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSxiLmJpbmRGcmFtZWJ1ZmZlcihiLkZSQU1FQlVGRkVSLG51bGwpLGIuY2xlYXJDb2xvcihhLmJhY2tncm91bmRDb2xvclNwbGl0WzBdLGEuYmFja2dyb3VuZENvbG9yU3BsaXRbMV0sYS5iYWNrZ3JvdW5kQ29sb3JTcGxpdFsyXSwhdGhpcy50cmFuc3BhcmVudCksYi5jbGVhcihiLkNPTE9SX0JVRkZFUl9CSVQpLHRoaXMuc3RhZ2VSZW5kZXJHcm91cC5iYWNrZ3JvdW5kQ29sb3I9YS5iYWNrZ3JvdW5kQ29sb3JTcGxpdCx0aGlzLnByb2plY3Rpb24ueD10aGlzLndpZHRoLzIsdGhpcy5wcm9qZWN0aW9uLnk9LXRoaXMuaGVpZ2h0LzIsdGhpcy5zdGFnZVJlbmRlckdyb3VwLnJlbmRlcih0aGlzLnByb2plY3Rpb24pLGEuaW50ZXJhY3RpdmUmJihhLl9pbnRlcmFjdGl2ZUV2ZW50c0FkZGVkfHwoYS5faW50ZXJhY3RpdmVFdmVudHNBZGRlZD0hMCxhLmludGVyYWN0aW9uTWFuYWdlci5zZXRUYXJnZXQodGhpcykpKSxUZXh0dXJlLmZyYW1lVXBkYXRlcy5sZW5ndGg+MCl7Zm9yKHZhciBjPTAsZD1UZXh0dXJlLmZyYW1lVXBkYXRlcy5sZW5ndGg7ZD5jO2MrKylUZXh0dXJlLmZyYW1lVXBkYXRlc1tjXS51cGRhdGVGcmFtZT0hMTtUZXh0dXJlLmZyYW1lVXBkYXRlcz1bXX19fSxwcm90by5yZXNpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLndpZHRoPWEsdGhpcy5oZWlnaHQ9Yix0aGlzLnZpZXcud2lkdGg9YSx0aGlzLnZpZXcuaGVpZ2h0PWIsdGhpcy5nbC52aWV3cG9ydCgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCksdGhpcy5wcm9qZWN0aW9uLng9dGhpcy53aWR0aC8yLHRoaXMucHJvamVjdGlvbi55PS10aGlzLmhlaWdodC8yfSxwcm90by5oYW5kbGVDb250ZXh0TG9zdD1mdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksdGhpcy5jb250ZXh0TG9zdD0hMH0scHJvdG8uaGFuZGxlQ29udGV4dFJlc3RvcmVkPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nbD10aGlzLnZpZXcuZ2V0Q29udGV4dChcImV4cGVyaW1lbnRhbC13ZWJnbFwiLHthbHBoYTohMH0pO3RoaXMuaW5pdFNoYWRlcnMoKTtmb3IodmFyIGIgaW4gVGV4dHVyZS5jYWNoZSl7dmFyIGM9VGV4dHVyZS5jYWNoZVtiXS5iYXNlVGV4dHVyZTtjLl9nbFRleHR1cmU9bnVsbCxXZWJHTFJlbmRlckdyb3VwLnVwZGF0ZVRleHR1cmUoYSxjKX1mb3IodmFyIGQ9MCxlPXRoaXMuYmF0Y2hzLmxlbmd0aDtlPmQ7ZCsrKXRoaXMuYmF0Y2hzW2RdLnJlc3RvcmVMb3N0Q29udGV4dChhKSx0aGlzLmJhdGNoc1tkXS5kaXJ0eT0hMDtXZWJHTEJhdGNoLnJlc3RvcmVCYXRjaGVzKGEpLHRoaXMuY29udGV4dExvc3Q9ITF9LG1vZHVsZS5leHBvcnRzPVdlYkdMUmVuZGVyZXI7IiwiLyoqXG4gKiBwaXhpIDAuMi4xICg2YWEwMDMwKVxuICogaHR0cDovL2Rya2liaXR6LmdpdGh1Yi5pby9ub2RlLXBpeGkvXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNCBEci4gS2liaXR6LCBodHRwOi8vZHJraWJpdHouY29tXG4gKiBTdXBlciBmYXN0IDJEIHJlbmRlcmluZyBlbmdpbmUgZm9yIGJyb3dzZXJpZnksIHRoYXQgdXNlcyBXZWJHTCB3aXRoIGEgY29udGV4dCAyZCBmYWxsYmFjay5cbiAqIGJ1aWx0OiBTdW4gSmFuIDA1IDIwMTQgMDE6NTM6NTggR01ULTA1MDAgKEVTVClcbiAqXG4gKiBQaXhpLmpzIC0gdjEuMy4wXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIsIE1hdCBHcm92ZXNcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIHBsYXRmb3JtPXJlcXVpcmUoXCIuLi8uLi9wbGF0Zm9ybVwiKTtleHBvcnRzLnNoYWRlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Yi5qb2luKFwiXFxuXCIpLGU9YS5jcmVhdGVTaGFkZXIoYyk7cmV0dXJuIGEuc2hhZGVyU291cmNlKGUsZCksYS5jb21waWxlU2hhZGVyKGUpLGEuZ2V0U2hhZGVyUGFyYW1ldGVyKGUsYS5DT01QSUxFX1NUQVRVUyk/ZToocGxhdGZvcm0uY29uc29sZSYmcGxhdGZvcm0uY29uc29sZS5lcnJvcihhLmdldFNoYWRlckluZm9Mb2coZSkpLG51bGwpfSxleHBvcnRzLnByb2dyYW09ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWV4cG9ydHMuc2hhZGVyKGEsYyxhLkZSQUdNRU5UX1NIQURFUiksZT1leHBvcnRzLnNoYWRlcihhLGIsYS5WRVJURVhfU0hBREVSKSxmPWEuY3JlYXRlUHJvZ3JhbSgpO3JldHVybiBhLmF0dGFjaFNoYWRlcihmLGUpLGEuYXR0YWNoU2hhZGVyKGYsZCksYS5saW5rUHJvZ3JhbShmKSxhLmdldFByb2dyYW1QYXJhbWV0ZXIoZixhLkxJTktfU1RBVFVTKT9mOihwbGF0Zm9ybS5jb25zb2xlJiZwbGF0Zm9ybS5jb25zb2xlLmVycm9yKFwiQ291bGQgbm90IGluaXRpYWxpc2Ugc2hhZGVyc1wiKSxudWxsKX07IiwiLyoqXG4gKiBwaXhpIDAuMi4xICg2YWEwMDMwKVxuICogaHR0cDovL2Rya2liaXR6LmdpdGh1Yi5pby9ub2RlLXBpeGkvXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNCBEci4gS2liaXR6LCBodHRwOi8vZHJraWJpdHouY29tXG4gKiBTdXBlciBmYXN0IDJEIHJlbmRlcmluZyBlbmdpbmUgZm9yIGJyb3dzZXJpZnksIHRoYXQgdXNlcyBXZWJHTCB3aXRoIGEgY29udGV4dCAyZCBmYWxsYmFjay5cbiAqIGJ1aWx0OiBTdW4gSmFuIDA1IDIwMTQgMDE6NTM6NTggR01ULTA1MDAgKEVTVClcbiAqXG4gKiBQaXhpLmpzIC0gdjEuMy4wXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIsIE1hdCBHcm92ZXNcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIHNoYWRlcnM9cmVxdWlyZShcIi4vc2hhZGVyc1wiKSxnbG9iYWxzPXJlcXVpcmUoXCIuLi8uLi9jb3JlL2dsb2JhbHNcIiksbWF0Mz1yZXF1aXJlKFwiLi4vLi4vZ2VvbS9tYXRyaXhcIikubWF0MyxoZXgycmdiPXJlcXVpcmUoXCIuLi8uLi91dGlscy9jb2xvclwiKS5oZXgycmdiLHRyaWFuZ3VsYXRlPXJlcXVpcmUoXCIuLi8uLi91dGlscy9Qb2x5a1wiKS50cmlhbmd1bGF0ZSxQb2ludD1yZXF1aXJlKFwiLi4vLi4vZ2VvbS9Qb2ludFwiKSxHcmFwaGljcz1yZXF1aXJlKFwiLi4vLi4vcHJpbWl0aXZlcy9HcmFwaGljc1wiKTtleHBvcnRzLnJlbmRlckdyYXBoaWNzPWZ1bmN0aW9uKGEsYil7dmFyIGM9Z2xvYmFscy5nbDthLl93ZWJHTHx8KGEuX3dlYkdMPXtwb2ludHM6W10saW5kaWNlczpbXSxsYXN0SW5kZXg6MCxidWZmZXI6Yy5jcmVhdGVCdWZmZXIoKSxpbmRleEJ1ZmZlcjpjLmNyZWF0ZUJ1ZmZlcigpfSksYS5kaXJ0eSYmKGEuZGlydHk9ITEsYS5jbGVhckRpcnR5JiYoYS5jbGVhckRpcnR5PSExLGEuX3dlYkdMLmxhc3RJbmRleD0wLGEuX3dlYkdMLnBvaW50cz1bXSxhLl93ZWJHTC5pbmRpY2VzPVtdKSxleHBvcnRzLnVwZGF0ZUdyYXBoaWNzKGEpKSxzaGFkZXJzLmFjdGl2YXRlUHJpbWl0aXZlU2hhZGVyKCk7dmFyIGQ9bWF0My5jbG9uZShhLndvcmxkVHJhbnNmb3JtKTttYXQzLnRyYW5zcG9zZShkKSxjLmJsZW5kRnVuYyhjLk9ORSxjLk9ORV9NSU5VU19TUkNfQUxQSEEpLGMudW5pZm9ybU1hdHJpeDNmdihnbG9iYWxzLnByaW1pdGl2ZVNoYWRlci50cmFuc2xhdGlvbk1hdHJpeCwhMSxkKSxjLnVuaWZvcm0yZihnbG9iYWxzLnByaW1pdGl2ZVNoYWRlci5wcm9qZWN0aW9uVmVjdG9yLGIueCwtYi55KSxjLnVuaWZvcm0yZihnbG9iYWxzLnByaW1pdGl2ZVNoYWRlci5vZmZzZXRWZWN0b3IsLWdsb2JhbHMub2Zmc2V0LngsLWdsb2JhbHMub2Zmc2V0LnkpLGMudW5pZm9ybTFmKGdsb2JhbHMucHJpbWl0aXZlU2hhZGVyLmFscGhhLGEud29ybGRBbHBoYSksYy5iaW5kQnVmZmVyKGMuQVJSQVlfQlVGRkVSLGEuX3dlYkdMLmJ1ZmZlciksYy52ZXJ0ZXhBdHRyaWJQb2ludGVyKGdsb2JhbHMucHJpbWl0aXZlU2hhZGVyLmFWZXJ0ZXhQb3NpdGlvbiwyLGMuRkxPQVQsITEsMjQsMCksYy52ZXJ0ZXhBdHRyaWJQb2ludGVyKGdsb2JhbHMucHJpbWl0aXZlU2hhZGVyLmNvbG9yQXR0cmlidXRlLDQsYy5GTE9BVCwhMSwyNCw4KSxjLmJpbmRCdWZmZXIoYy5FTEVNRU5UX0FSUkFZX0JVRkZFUixhLl93ZWJHTC5pbmRleEJ1ZmZlciksYy5kcmF3RWxlbWVudHMoYy5UUklBTkdMRV9TVFJJUCxhLl93ZWJHTC5pbmRpY2VzLmxlbmd0aCxjLlVOU0lHTkVEX1NIT1JULDApLHNoYWRlcnMuZGVhY3RpdmF0ZVByaW1pdGl2ZVNoYWRlcigpfSxleHBvcnRzLnVwZGF0ZUdyYXBoaWNzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLl93ZWJHTC5sYXN0SW5kZXg7YjxhLmdyYXBoaWNzRGF0YS5sZW5ndGg7YisrKXt2YXIgYz1hLmdyYXBoaWNzRGF0YVtiXTtjLnR5cGU9PT1HcmFwaGljcy5QT0xZPyhjLmZpbGwmJmMucG9pbnRzLmxlbmd0aD4zJiZleHBvcnRzLmJ1aWxkUG9seShjLGEuX3dlYkdMKSxjLmxpbmVXaWR0aD4wJiZleHBvcnRzLmJ1aWxkTGluZShjLGEuX3dlYkdMKSk6Yy50eXBlPT09R3JhcGhpY3MuUkVDVD9leHBvcnRzLmJ1aWxkUmVjdGFuZ2xlKGMsYS5fd2ViR0wpOmMudHlwZT09PUdyYXBoaWNzLkNJUkN8fGMudHlwZT09PUdyYXBoaWNzLkVMSVAsZXhwb3J0cy5idWlsZENpcmNsZShjLGEuX3dlYkdMKX1hLl93ZWJHTC5sYXN0SW5kZXg9YS5ncmFwaGljc0RhdGEubGVuZ3RoO3ZhciBkPWdsb2JhbHMuZ2w7YS5fd2ViR0wuZ2xQb2ludHM9bmV3IEZsb2F0MzJBcnJheShhLl93ZWJHTC5wb2ludHMpLGQuYmluZEJ1ZmZlcihkLkFSUkFZX0JVRkZFUixhLl93ZWJHTC5idWZmZXIpLGQuYnVmZmVyRGF0YShkLkFSUkFZX0JVRkZFUixhLl93ZWJHTC5nbFBvaW50cyxkLlNUQVRJQ19EUkFXKSxhLl93ZWJHTC5nbEluZGljaWVzPW5ldyBVaW50MTZBcnJheShhLl93ZWJHTC5pbmRpY2VzKSxkLmJpbmRCdWZmZXIoZC5FTEVNRU5UX0FSUkFZX0JVRkZFUixhLl93ZWJHTC5pbmRleEJ1ZmZlciksZC5idWZmZXJEYXRhKGQuRUxFTUVOVF9BUlJBWV9CVUZGRVIsYS5fd2ViR0wuZ2xJbmRpY2llcyxkLlNUQVRJQ19EUkFXKX0sZXhwb3J0cy5idWlsZFJlY3RhbmdsZT1mdW5jdGlvbihhLGIpe3ZhciBjPWEucG9pbnRzLGQ9Y1swXSxlPWNbMV0sZj1jWzJdLGc9Y1szXTtpZihhLmZpbGwpe3ZhciBoPWhleDJyZ2IoYS5maWxsQ29sb3IpLGk9YS5maWxsQWxwaGEsaj1oWzBdKmksaz1oWzFdKmksbD1oWzJdKmksbT1iLnBvaW50cyxuPWIuaW5kaWNlcyxvPW0ubGVuZ3RoLzY7bS5wdXNoKGQsZSksbS5wdXNoKGosayxsLGkpLG0ucHVzaChkK2YsZSksbS5wdXNoKGosayxsLGkpLG0ucHVzaChkLGUrZyksbS5wdXNoKGosayxsLGkpLG0ucHVzaChkK2YsZStnKSxtLnB1c2goaixrLGwsaSksbi5wdXNoKG8sbyxvKzEsbysyLG8rMyxvKzMpfWEubGluZVdpZHRoJiYoYS5wb2ludHM9W2QsZSxkK2YsZSxkK2YsZStnLGQsZStnLGQsZV0sZXhwb3J0cy5idWlsZExpbmUoYSxiKSl9LGV4cG9ydHMuYnVpbGRDaXJjbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnBvaW50cyxkPWNbMF0sZT1jWzFdLGY9Y1syXSxnPWNbM10saD00MCxpPTIqTWF0aC5QSS9oLGo9MDtpZihhLmZpbGwpe3ZhciBrPWhleDJyZ2IoYS5maWxsQ29sb3IpLGw9YS5maWxsQWxwaGEsbT1rWzBdKmwsbj1rWzFdKmwsbz1rWzJdKmwscD1iLnBvaW50cyxxPWIuaW5kaWNlcyxyPXAubGVuZ3RoLzY7Zm9yKHEucHVzaChyKSxqPTA7aCsxPmo7aisrKXAucHVzaChkLGUsbSxuLG8sbCkscC5wdXNoKGQrTWF0aC5zaW4oaSpqKSpmLGUrTWF0aC5jb3MoaSpqKSpnLG0sbixvLGwpLHEucHVzaChyKysscisrKTtxLnB1c2goci0xKX1pZihhLmxpbmVXaWR0aCl7Zm9yKGEucG9pbnRzPVtdLGo9MDtoKzE+ajtqKyspYS5wb2ludHMucHVzaChkK01hdGguc2luKGkqaikqZixlK01hdGguY29zKGkqaikqZyk7ZXhwb3J0cy5idWlsZExpbmUoYSxiKX19LGV4cG9ydHMuYnVpbGRMaW5lPWZ1bmN0aW9uKGEsYil7dmFyIGM9MCxkPWEucG9pbnRzO2lmKDAhPT1kLmxlbmd0aCl7aWYoYS5saW5lV2lkdGglMilmb3IoYz0wO2M8ZC5sZW5ndGg7YysrKWRbY10rPS41O3ZhciBlPW5ldyBQb2ludChkWzBdLGRbMV0pLGY9bmV3IFBvaW50KGRbZC5sZW5ndGgtMl0sZFtkLmxlbmd0aC0xXSk7aWYoZS54PT09Zi54JiZlLnk9PT1mLnkpe2QucG9wKCksZC5wb3AoKSxmPW5ldyBQb2ludChkW2QubGVuZ3RoLTJdLGRbZC5sZW5ndGgtMV0pO3ZhciBnPWYueCsuNSooZS54LWYueCksaD1mLnkrLjUqKGUueS1mLnkpO2QudW5zaGlmdChnLGgpLGQucHVzaChnLGgpfXZhciBpLGosayxsLG0sbixvLHAscSxyLHMsdCx1LHYsdyx4LHkseixBLEIsQyxELEUsRj1iLnBvaW50cyxHPWIuaW5kaWNlcyxIPWQubGVuZ3RoLzIsST1kLmxlbmd0aCxKPUYubGVuZ3RoLzYsSz1hLmxpbmVXaWR0aC8yLEw9aGV4MnJnYihhLmxpbmVDb2xvciksTT1hLmxpbmVBbHBoYSxOPUxbMF0qTSxPPUxbMV0qTSxQPUxbMl0qTTtmb3Ioaz1kWzBdLGw9ZFsxXSxtPWRbMl0sbj1kWzNdLHE9LShsLW4pLHI9ay1tLEU9TWF0aC5zcXJ0KHEqcStyKnIpLHEvPUUsci89RSxxKj1LLHIqPUssRi5wdXNoKGstcSxsLXIsTixPLFAsTSksRi5wdXNoKGsrcSxsK3IsTixPLFAsTSksYz0xO0gtMT5jO2MrKylrPWRbMiooYy0xKV0sbD1kWzIqKGMtMSkrMV0sbT1kWzIqY10sbj1kWzIqYysxXSxvPWRbMiooYysxKV0scD1kWzIqKGMrMSkrMV0scT0tKGwtbikscj1rLW0sRT1NYXRoLnNxcnQocSpxK3IqcikscS89RSxyLz1FLHEqPUsscio9SyxzPS0obi1wKSx0PW0tbyxFPU1hdGguc3FydChzKnMrdCp0KSxzLz1FLHQvPUUscyo9Syx0Kj1LLHc9LXIrbC0oLXIrbikseD0tcSttLSgtcStrKSx5PSgtcStrKSooLXIrbiktKC1xK20pKigtcitsKSx6PS10K3AtKC10K24pLEE9LXMrbS0oLXMrbyksQj0oLXMrbykqKC10K24pLSgtcyttKSooLXQrcCksQz13KkEteip4LE1hdGguYWJzKEMpPC4xPyhDKz0xMC4xLEYucHVzaChtLXEsbi1yLE4sTyxQLE0pLEYucHVzaChtK3EsbityLE4sTyxQLE0pKTooaT0oeCpCLUEqeSkvQyxqPSh6KnktdypCKS9DLEQ9KGktbSkqKGktbSkrKGotbikrKGotbiksRD4xOTYwMD8odT1xLXMsdj1yLXQsRT1NYXRoLnNxcnQodSp1K3YqdiksdS89RSx2Lz1FLHUqPUssdio9SyxGLnB1c2gobS11LG4tdiksRi5wdXNoKE4sTyxQLE0pLEYucHVzaChtK3Usbit2KSxGLnB1c2goTixPLFAsTSksRi5wdXNoKG0tdSxuLXYpLEYucHVzaChOLE8sUCxNKSxJKyspOihGLnB1c2goaSxqKSxGLnB1c2goTixPLFAsTSksRi5wdXNoKG0tKGktbSksbi0oai1uKSksRi5wdXNoKE4sTyxQLE0pKSk7Zm9yKGs9ZFsyKihILTIpXSxsPWRbMiooSC0yKSsxXSxtPWRbMiooSC0xKV0sbj1kWzIqKEgtMSkrMV0scT0tKGwtbikscj1rLW0sRT1NYXRoLnNxcnQocSpxK3IqcikscS89RSxyLz1FLHEqPUsscio9SyxGLnB1c2gobS1xLG4tciksRi5wdXNoKE4sTyxQLE0pLEYucHVzaChtK3EsbityKSxGLnB1c2goTixPLFAsTSksRy5wdXNoKEopLGM9MDtJPmM7YysrKUcucHVzaChKKyspO0cucHVzaChKLTEpfX0sZXhwb3J0cy5idWlsZFBvbHk9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnBvaW50cztpZighKGMubGVuZ3RoPDYpKXt2YXIgZD1iLnBvaW50cyxlPWIuaW5kaWNlcyxmPWMubGVuZ3RoLzIsZz1oZXgycmdiKGEuZmlsbENvbG9yKSxoPWEuZmlsbEFscGhhLGk9Z1swXSpoLGo9Z1sxXSpoLGs9Z1syXSpoLGw9dHJpYW5ndWxhdGUoYyksbT1kLmxlbmd0aC82LG49MDtmb3Iobj0wO248bC5sZW5ndGg7bis9MyllLnB1c2gobFtuXSttKSxlLnB1c2gobFtuXSttKSxlLnB1c2gobFtuKzFdK20pLGUucHVzaChsW24rMl0rbSksZS5wdXNoKGxbbisyXSttKTtmb3Iobj0wO2Y+bjtuKyspZC5wdXNoKGNbMipuXSxjWzIqbisxXSxpLGosayxoKX19OyIsIi8qKlxuICogcGl4aSAwLjIuMSAoNmFhMDAzMClcbiAqIGh0dHA6Ly9kcmtpYml0ei5naXRodWIuaW8vbm9kZS1waXhpL1xuICogQ29weXJpZ2h0IChjKSAyMDEzLTIwMTQgRHIuIEtpYml0eiwgaHR0cDovL2Rya2liaXR6LmNvbVxuICogU3VwZXIgZmFzdCAyRCByZW5kZXJpbmcgZW5naW5lIGZvciBicm93c2VyaWZ5LCB0aGF0IHVzZXMgV2ViR0wgd2l0aCBhIGNvbnRleHQgMmQgZmFsbGJhY2suXG4gKiBidWlsdDogU3VuIEphbiAwNSAyMDE0IDAxOjUzOjU4IEdNVC0wNTAwIChFU1QpXG4gKlxuICogUGl4aS5qcyAtIHYxLjMuMFxuICogQ29weXJpZ2h0IChjKSAyMDEyLCBNYXQgR3JvdmVzXG4gKi9cblwidXNlIHN0cmljdFwiO3ZhciBnbG9iYWxzPXJlcXVpcmUoXCIuLi8uLi9jb3JlL2dsb2JhbHNcIiksUHJpbWl0aXZlU2hhZGVyPXJlcXVpcmUoXCIuL1ByaW1pdGl2ZVNoYWRlclwiKSxTdHJpcFNoYWRlcj1yZXF1aXJlKFwiLi9TdHJpcFNoYWRlclwiKSxQaXhpU2hhZGVyPXJlcXVpcmUoXCIuL1BpeGlTaGFkZXJcIik7ZXhwb3J0cy5pbml0RGVmYXVsdFNoYWRlcnM9ZnVuY3Rpb24oKXtnbG9iYWxzLnByaW1pdGl2ZVNoYWRlcj1uZXcgUHJpbWl0aXZlU2hhZGVyLGdsb2JhbHMucHJpbWl0aXZlU2hhZGVyLmluaXQoKSxnbG9iYWxzLnN0cmlwU2hhZGVyPW5ldyBTdHJpcFNoYWRlcixnbG9iYWxzLnN0cmlwU2hhZGVyLmluaXQoKSxnbG9iYWxzLmRlZmF1bHRTaGFkZXI9bmV3IFBpeGlTaGFkZXIsZ2xvYmFscy5kZWZhdWx0U2hhZGVyLmluaXQoKTt2YXIgYT1nbG9iYWxzLmdsLGI9Z2xvYmFscy5kZWZhdWx0U2hhZGVyLnByb2dyYW07YS51c2VQcm9ncmFtKGIpLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZ2xvYmFscy5kZWZhdWx0U2hhZGVyLmFWZXJ0ZXhQb3NpdGlvbiksYS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShnbG9iYWxzLmRlZmF1bHRTaGFkZXIuY29sb3JBdHRyaWJ1dGUpLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZ2xvYmFscy5kZWZhdWx0U2hhZGVyLmFUZXh0dXJlQ29vcmQpfSxleHBvcnRzLmFjdGl2YXRlUHJpbWl0aXZlU2hhZGVyPWZ1bmN0aW9uKCl7dmFyIGE9Z2xvYmFscy5nbDthLnVzZVByb2dyYW0oZ2xvYmFscy5wcmltaXRpdmVTaGFkZXIucHJvZ3JhbSksYS5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoZ2xvYmFscy5kZWZhdWx0U2hhZGVyLmFWZXJ0ZXhQb3NpdGlvbiksYS5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoZ2xvYmFscy5kZWZhdWx0U2hhZGVyLmNvbG9yQXR0cmlidXRlKSxhLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShnbG9iYWxzLmRlZmF1bHRTaGFkZXIuYVRleHR1cmVDb29yZCksYS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShnbG9iYWxzLnByaW1pdGl2ZVNoYWRlci5hVmVydGV4UG9zaXRpb24pLGEuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZ2xvYmFscy5wcmltaXRpdmVTaGFkZXIuY29sb3JBdHRyaWJ1dGUpfSxleHBvcnRzLmRlYWN0aXZhdGVQcmltaXRpdmVTaGFkZXI9ZnVuY3Rpb24oKXt2YXIgYT1nbG9iYWxzLmdsO2EudXNlUHJvZ3JhbShnbG9iYWxzLmRlZmF1bHRTaGFkZXIucHJvZ3JhbSksYS5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoZ2xvYmFscy5wcmltaXRpdmVTaGFkZXIuYVZlcnRleFBvc2l0aW9uKSxhLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShnbG9iYWxzLnByaW1pdGl2ZVNoYWRlci5jb2xvckF0dHJpYnV0ZSksYS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShnbG9iYWxzLmRlZmF1bHRTaGFkZXIuYVZlcnRleFBvc2l0aW9uKSxhLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGdsb2JhbHMuZGVmYXVsdFNoYWRlci5jb2xvckF0dHJpYnV0ZSksYS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShnbG9iYWxzLmRlZmF1bHRTaGFkZXIuYVRleHR1cmVDb29yZCl9LGV4cG9ydHMuYWN0aXZhdGVTdHJpcFNoYWRlcj1mdW5jdGlvbigpe3ZhciBhPWdsb2JhbHMuZ2w7YS51c2VQcm9ncmFtKGdsb2JhbHMuc3RyaXBTaGFkZXIucHJvZ3JhbSl9LGV4cG9ydHMuZGVhY3RpdmF0ZVN0cmlwU2hhZGVyPWZ1bmN0aW9uKCl7dmFyIGE9Z2xvYmFscy5nbDthLnVzZVByb2dyYW0oZ2xvYmFscy5kZWZhdWx0U2hhZGVyLnByb2dyYW0pfTsiLCIvKipcbiAqIHBpeGkgMC4yLjEgKDZhYTAwMzApXG4gKiBodHRwOi8vZHJraWJpdHouZ2l0aHViLmlvL25vZGUtcGl4aS9cbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE0IERyLiBLaWJpdHosIGh0dHA6Ly9kcmtpYml0ei5jb21cbiAqIFN1cGVyIGZhc3QgMkQgcmVuZGVyaW5nIGVuZ2luZSBmb3IgYnJvd3NlcmlmeSwgdGhhdCB1c2VzIFdlYkdMIHdpdGggYSBjb250ZXh0IDJkIGZhbGxiYWNrLlxuICogYnVpbHQ6IFN1biBKYW4gMDUgMjAxNCAwMTo1Mzo1OCBHTVQtMDUwMCAoRVNUKVxuICpcbiAqIFBpeGkuanMgLSB2MS4zLjBcbiAqIENvcHlyaWdodCAoYykgMjAxMiwgTWF0IEdyb3Zlc1xuICovXG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBCaXRtYXBUZXh0KGEsYil7RGlzcGxheU9iamVjdENvbnRhaW5lci5jYWxsKHRoaXMpLHRoaXMuc2V0VGV4dChhKSx0aGlzLnNldFN0eWxlKGIpLHRoaXMudXBkYXRlVGV4dCgpLHRoaXMuZGlydHk9ITF9dmFyIERpc3BsYXlPYmplY3RDb250YWluZXI9cmVxdWlyZShcIi4uL2Rpc3BsYXkvRGlzcGxheU9iamVjdENvbnRhaW5lclwiKSxTcHJpdGU9cmVxdWlyZShcIi4uL2Rpc3BsYXkvU3ByaXRlXCIpLFBvaW50PXJlcXVpcmUoXCIuLi9nZW9tL1BvaW50XCIpLHByb3RvPUJpdG1hcFRleHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRGlzcGxheU9iamVjdENvbnRhaW5lci5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpCaXRtYXBUZXh0fX0pO3Byb3RvLnNldFRleHQ9ZnVuY3Rpb24oYSl7dGhpcy50ZXh0PWF8fFwiIFwiLHRoaXMuZGlydHk9ITB9LHByb3RvLnNldFN0eWxlPWZ1bmN0aW9uKGEpe2E9YXx8e30sYS5hbGlnbj1hLmFsaWdufHxcImxlZnRcIix0aGlzLnN0eWxlPWE7dmFyIGI9YS5mb250LnNwbGl0KFwiIFwiKTt0aGlzLmZvbnROYW1lPWJbYi5sZW5ndGgtMV0sdGhpcy5mb250U2l6ZT1iLmxlbmd0aD49Mj9wYXJzZUludChiW2IubGVuZ3RoLTJdLDEwKTpCaXRtYXBUZXh0LmZvbnRzW3RoaXMuZm9udE5hbWVdLnNpemUsdGhpcy5kaXJ0eT0hMH0scHJvdG8udXBkYXRlVGV4dD1mdW5jdGlvbigpe2Zvcih2YXIgYT1CaXRtYXBUZXh0LmZvbnRzW3RoaXMuZm9udE5hbWVdLGI9bmV3IFBvaW50LGM9bnVsbCxkPVtdLGU9MCxmPVtdLGc9MCxoPXRoaXMuZm9udFNpemUvYS5zaXplLGk9MDtpPHRoaXMudGV4dC5sZW5ndGg7aSsrKXt2YXIgaj10aGlzLnRleHQuY2hhckNvZGVBdChpKTtpZigvKD86XFxyXFxufFxccnxcXG4pLy50ZXN0KHRoaXMudGV4dC5jaGFyQXQoaSkpKWYucHVzaChiLngpLGU9TWF0aC5tYXgoZSxiLngpLGcrKyxiLng9MCxiLnkrPWEubGluZUhlaWdodCxjPW51bGw7ZWxzZXt2YXIgaz1hLmNoYXJzW2pdO2smJihjJiZrW2NdJiYoYi54Kz1rLmtlcm5pbmdbY10pLGQucHVzaCh7dGV4dHVyZTprLnRleHR1cmUsbGluZTpnLGNoYXJDb2RlOmoscG9zaXRpb246bmV3IFBvaW50KGIueCtrLnhPZmZzZXQsYi55K2sueU9mZnNldCl9KSxiLngrPWsueEFkdmFuY2UsYz1qKX19Zi5wdXNoKGIueCksZT1NYXRoLm1heChlLGIueCk7dmFyIGw9W107Zm9yKGk9MDtnPj1pO2krKyl7dmFyIG09MDtcInJpZ2h0XCI9PT10aGlzLnN0eWxlLmFsaWduP209ZS1mW2ldOlwiY2VudGVyXCI9PT10aGlzLnN0eWxlLmFsaWduJiYobT0oZS1mW2ldKS8yKSxsLnB1c2gobSl9Zm9yKGk9MDtpPGQubGVuZ3RoO2krKyl7dmFyIG49bmV3IFNwcml0ZShkW2ldLnRleHR1cmUpO24ucG9zaXRpb24ueD0oZFtpXS5wb3NpdGlvbi54K2xbZFtpXS5saW5lXSkqaCxuLnBvc2l0aW9uLnk9ZFtpXS5wb3NpdGlvbi55Kmgsbi5zY2FsZS54PW4uc2NhbGUueT1oLHRoaXMuYWRkQ2hpbGQobil9dGhpcy53aWR0aD1lKmgsdGhpcy5oZWlnaHQ9KGIueSthLmxpbmVIZWlnaHQpKmh9LHByb3RvLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbigpe2lmKHRoaXMuZGlydHkpe2Zvcig7dGhpcy5jaGlsZHJlbi5sZW5ndGg+MDspdGhpcy5yZW1vdmVDaGlsZCh0aGlzLmdldENoaWxkQXQoMCkpO3RoaXMudXBkYXRlVGV4dCgpLHRoaXMuZGlydHk9ITF9RGlzcGxheU9iamVjdENvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtLmNhbGwodGhpcyl9LEJpdG1hcFRleHQuZm9udHM9e30sbW9kdWxlLmV4cG9ydHM9Qml0bWFwVGV4dDsiLCIvKipcbiAqIHBpeGkgMC4yLjEgKDZhYTAwMzApXG4gKiBodHRwOi8vZHJraWJpdHouZ2l0aHViLmlvL25vZGUtcGl4aS9cbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE0IERyLiBLaWJpdHosIGh0dHA6Ly9kcmtpYml0ei5jb21cbiAqIFN1cGVyIGZhc3QgMkQgcmVuZGVyaW5nIGVuZ2luZSBmb3IgYnJvd3NlcmlmeSwgdGhhdCB1c2VzIFdlYkdMIHdpdGggYSBjb250ZXh0IDJkIGZhbGxiYWNrLlxuICogYnVpbHQ6IFN1biBKYW4gMDUgMjAxNCAwMTo1Mzo1OCBHTVQtMDUwMCAoRVNUKVxuICpcbiAqIFBpeGkuanMgLSB2MS4zLjBcbiAqIENvcHlyaWdodCAoYykgMjAxMiwgTWF0IEdyb3Zlc1xuICovXG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBUZXh0KGEsYil7dGhpcy5jYW52YXM9cGxhdGZvcm0uY3JlYXRlQ2FudmFzKCksdGhpcy5jb250ZXh0PXRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSxTcHJpdGUuY2FsbCh0aGlzLFRleHR1cmUuZnJvbUNhbnZhcyh0aGlzLmNhbnZhcykpLHRoaXMuc2V0VGV4dChhKSx0aGlzLnNldFN0eWxlKGIpLHRoaXMudXBkYXRlVGV4dCgpLHRoaXMuZGlydHk9ITF9dmFyIHBsYXRmb3JtPXJlcXVpcmUoXCIuLi9wbGF0Zm9ybVwiKSxnbG9iYWxzPXJlcXVpcmUoXCIuLi9jb3JlL2dsb2JhbHNcIiksUG9pbnQ9cmVxdWlyZShcIi4uL2dlb20vUG9pbnRcIiksU3ByaXRlPXJlcXVpcmUoXCIuLi9kaXNwbGF5L1Nwcml0ZVwiKSxUZXh0dXJlPXJlcXVpcmUoXCIuLi90ZXh0dXJlcy9UZXh0dXJlXCIpLHByb3RvPVRleHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoU3ByaXRlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOlRleHR9fSk7cHJvdG8uc2V0U3R5bGU9ZnVuY3Rpb24oYSl7YT1hfHx7fSxhLmZvbnQ9YS5mb250fHxcImJvbGQgMjBwdCBBcmlhbFwiLGEuZmlsbD1hLmZpbGx8fFwiYmxhY2tcIixhLmFsaWduPWEuYWxpZ258fFwibGVmdFwiLGEuc3Ryb2tlPWEuc3Ryb2tlfHxcImJsYWNrXCIsYS5zdHJva2VUaGlja25lc3M9YS5zdHJva2VUaGlja25lc3N8fDAsYS53b3JkV3JhcD1hLndvcmRXcmFwfHwhMSxhLndvcmRXcmFwV2lkdGg9YS53b3JkV3JhcFdpZHRofHwxMDAsdGhpcy5zdHlsZT1hLHRoaXMuZGlydHk9ITB9LHByb3RvLnNldFRleHQ9ZnVuY3Rpb24oYSl7dGhpcy50ZXh0PWEudG9TdHJpbmcoKXx8XCIgXCIsdGhpcy5kaXJ0eT0hMH0scHJvdG8udXBkYXRlVGV4dD1mdW5jdGlvbigpe3RoaXMuY29udGV4dC5mb250PXRoaXMuc3R5bGUuZm9udDt2YXIgYT10aGlzLnRleHQ7dGhpcy5zdHlsZS53b3JkV3JhcCYmKGE9dGhpcy53b3JkV3JhcCh0aGlzLnRleHQpKTtmb3IodmFyIGI9YS5zcGxpdCgvKD86XFxyXFxufFxccnxcXG4pLyksYz1bXSxkPTAsZT0wO2U8Yi5sZW5ndGg7ZSsrKXt2YXIgZj10aGlzLmNvbnRleHQubWVhc3VyZVRleHQoYltlXSkud2lkdGg7Y1tlXT1mLGQ9TWF0aC5tYXgoZCxmKX10aGlzLmNhbnZhcy53aWR0aD1kK3RoaXMuc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO3ZhciBnPXRoaXMuZGV0ZXJtaW5lRm9udEhlaWdodChcImZvbnQ6IFwiK3RoaXMuc3R5bGUuZm9udCtcIjtcIikrdGhpcy5zdHlsZS5zdHJva2VUaGlja25lc3M7Zm9yKHRoaXMuY2FudmFzLmhlaWdodD1nKmIubGVuZ3RoLHRoaXMuY29udGV4dC5maWxsU3R5bGU9dGhpcy5zdHlsZS5maWxsLHRoaXMuY29udGV4dC5mb250PXRoaXMuc3R5bGUuZm9udCx0aGlzLmNvbnRleHQuc3Ryb2tlU3R5bGU9dGhpcy5zdHlsZS5zdHJva2UsdGhpcy5jb250ZXh0LmxpbmVXaWR0aD10aGlzLnN0eWxlLnN0cm9rZVRoaWNrbmVzcyx0aGlzLmNvbnRleHQudGV4dEJhc2VsaW5lPVwidG9wXCIsZT0wO2U8Yi5sZW5ndGg7ZSsrKXt2YXIgaD1uZXcgUG9pbnQodGhpcy5zdHlsZS5zdHJva2VUaGlja25lc3MvMix0aGlzLnN0eWxlLnN0cm9rZVRoaWNrbmVzcy8yK2UqZyk7XCJyaWdodFwiPT09dGhpcy5zdHlsZS5hbGlnbj9oLngrPWQtY1tlXTpcImNlbnRlclwiPT09dGhpcy5zdHlsZS5hbGlnbiYmKGgueCs9KGQtY1tlXSkvMiksdGhpcy5zdHlsZS5zdHJva2UmJnRoaXMuc3R5bGUuc3Ryb2tlVGhpY2tuZXNzJiZ0aGlzLmNvbnRleHQuc3Ryb2tlVGV4dChiW2VdLGgueCxoLnkpLHRoaXMuc3R5bGUuZmlsbCYmdGhpcy5jb250ZXh0LmZpbGxUZXh0KGJbZV0saC54LGgueSl9dGhpcy51cGRhdGVUZXh0dXJlKCl9LHByb3RvLnVwZGF0ZVRleHR1cmU9ZnVuY3Rpb24oKXt0aGlzLnRleHR1cmUuYmFzZVRleHR1cmUud2lkdGg9dGhpcy5jYW52YXMud2lkdGgsdGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlLmhlaWdodD10aGlzLmNhbnZhcy5oZWlnaHQsdGhpcy50ZXh0dXJlLmZyYW1lLndpZHRoPXRoaXMuY2FudmFzLndpZHRoLHRoaXMudGV4dHVyZS5mcmFtZS5oZWlnaHQ9dGhpcy5jYW52YXMuaGVpZ2h0LHRoaXMuX3dpZHRoPXRoaXMuY2FudmFzLndpZHRoLHRoaXMuX2hlaWdodD10aGlzLmNhbnZhcy5oZWlnaHQsZ2xvYmFscy50ZXh0dXJlc1RvVXBkYXRlLnB1c2godGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlKX0scHJvdG8udXBkYXRlVHJhbnNmb3JtPWZ1bmN0aW9uKCl7dGhpcy5kaXJ0eSYmKHRoaXMudXBkYXRlVGV4dCgpLHRoaXMuZGlydHk9ITEpLFNwcml0ZS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtLmNhbGwodGhpcyl9LHByb3RvLmRldGVybWluZUZvbnRIZWlnaHQ9ZnVuY3Rpb24oYSl7dmFyIGI9VGV4dC5oZWlnaHRDYWNoZVthXTtpZighYil7dmFyIGM9cGxhdGZvcm0uZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdLGQ9cGxhdGZvcm0uZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxlPXBsYXRmb3JtLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiTVwiKTtkLmFwcGVuZENoaWxkKGUpLGQuc2V0QXR0cmlidXRlKFwic3R5bGVcIixhK1wiO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MFwiKSxjLmFwcGVuZENoaWxkKGQpLGI9ZC5vZmZzZXRIZWlnaHQsVGV4dC5oZWlnaHRDYWNoZVthXT1iLGMucmVtb3ZlQ2hpbGQoZCl9cmV0dXJuIGJ9LHByb3RvLndvcmRXcmFwPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1cIlwiLGM9YS5zcGxpdChcIlxcblwiKSxkPTA7ZDxjLmxlbmd0aDtkKyspe2Zvcih2YXIgZT10aGlzLnN0eWxlLndvcmRXcmFwV2lkdGgsZj1jW2RdLnNwbGl0KFwiIFwiKSxnPTA7ZzxmLmxlbmd0aDtnKyspe3ZhciBoPXRoaXMuY29udGV4dC5tZWFzdXJlVGV4dChmW2ddKS53aWR0aCxpPWgrdGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KFwiIFwiKS53aWR0aDtpPmU/KGc+MCYmKGIrPVwiXFxuXCIpLGIrPWZbZ10rXCIgXCIsZT10aGlzLnN0eWxlLndvcmRXcmFwV2lkdGgtaCk6KGUtPWksYis9ZltnXStcIiBcIil9Yis9XCJcXG5cIn1yZXR1cm4gYn0scHJvdG8uZGVzdHJveT1mdW5jdGlvbihhKXthJiZ0aGlzLnRleHR1cmUuZGVzdHJveSgpfSxUZXh0LmhlaWdodENhY2hlPXt9LG1vZHVsZS5leHBvcnRzPVRleHQ7IiwiLyoqXG4gKiBwaXhpIDAuMi4xICg2YWEwMDMwKVxuICogaHR0cDovL2Rya2liaXR6LmdpdGh1Yi5pby9ub2RlLXBpeGkvXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNCBEci4gS2liaXR6LCBodHRwOi8vZHJraWJpdHouY29tXG4gKiBTdXBlciBmYXN0IDJEIHJlbmRlcmluZyBlbmdpbmUgZm9yIGJyb3dzZXJpZnksIHRoYXQgdXNlcyBXZWJHTCB3aXRoIGEgY29udGV4dCAyZCBmYWxsYmFjay5cbiAqIGJ1aWx0OiBTdW4gSmFuIDA1IDIwMTQgMDE6NTM6NTggR01ULTA1MDAgKEVTVClcbiAqXG4gKiBQaXhpLmpzIC0gdjEuMy4wXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIsIE1hdCBHcm92ZXNcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gQmFzZVRleHR1cmUoYSxiKXtpZihFdmVudFRhcmdldC5jYWxsKHRoaXMpLHRoaXMud2lkdGg9MTAwLHRoaXMuaGVpZ2h0PTEwMCx0aGlzLnNjYWxlTW9kZT1ifHxCYXNlVGV4dHVyZS5TQ0FMRV9NT0RFLkRFRkFVTFQsdGhpcy5oYXNMb2FkZWQ9ITEsdGhpcy5zb3VyY2U9YSxhKXtpZihcImNvbXBsZXRlXCJpbiB0aGlzLnNvdXJjZSlpZih0aGlzLnNvdXJjZS5jb21wbGV0ZSl0aGlzLmhhc0xvYWRlZD0hMCx0aGlzLndpZHRoPXRoaXMuc291cmNlLndpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuc291cmNlLmhlaWdodCxnbG9iYWxzLnRleHR1cmVzVG9VcGRhdGUucHVzaCh0aGlzKTtlbHNle3ZhciBjPXRoaXM7dGhpcy5zb3VyY2Uub25sb2FkPWZ1bmN0aW9uKCl7Yy5oYXNMb2FkZWQ9ITAsYy53aWR0aD1jLnNvdXJjZS53aWR0aCxjLmhlaWdodD1jLnNvdXJjZS5oZWlnaHQsZ2xvYmFscy50ZXh0dXJlc1RvVXBkYXRlLnB1c2goYyksYy5kaXNwYXRjaEV2ZW50KHt0eXBlOlwibG9hZGVkXCIsY29udGVudDpjfSl9fWVsc2UgdGhpcy5oYXNMb2FkZWQ9ITAsdGhpcy53aWR0aD10aGlzLnNvdXJjZS53aWR0aCx0aGlzLmhlaWdodD10aGlzLnNvdXJjZS5oZWlnaHQsZ2xvYmFscy50ZXh0dXJlc1RvVXBkYXRlLnB1c2godGhpcyk7dGhpcy5pbWFnZVVybD1udWxsLHRoaXMuX3Bvd2VyT2YyPSExfX12YXIgcGxhdGZvcm09cmVxdWlyZShcIi4uL3BsYXRmb3JtXCIpLGdsb2JhbHM9cmVxdWlyZShcIi4uL2NvcmUvZ2xvYmFsc1wiKSxFdmVudFRhcmdldD1yZXF1aXJlKFwiLi4vZXZlbnRzL0V2ZW50VGFyZ2V0XCIpLGJhc2VUZXh0dXJlQ2FjaGU9e30scHJvdG89QmFzZVRleHR1cmUucHJvdG90eXBlO3Byb3RvLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnNvdXJjZS5zcmMmJih0aGlzLmltYWdlVXJsIGluIGJhc2VUZXh0dXJlQ2FjaGUmJmRlbGV0ZSBiYXNlVGV4dHVyZUNhY2hlW3RoaXMuaW1hZ2VVcmxdLHRoaXMuaW1hZ2VVcmw9bnVsbCx0aGlzLnNvdXJjZS5zcmM9bnVsbCksdGhpcy5zb3VyY2U9bnVsbCxnbG9iYWxzLnRleHR1cmVzVG9EZXN0cm95LnB1c2godGhpcyl9LHByb3RvLnVwZGF0ZVNvdXJjZUltYWdlPWZ1bmN0aW9uKGEpe3RoaXMuaGFzTG9hZGVkPSExLHRoaXMuc291cmNlLnNyYz1udWxsLHRoaXMuc291cmNlLnNyYz1hfSxCYXNlVGV4dHVyZS5mcm9tSW1hZ2U9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWJhc2VUZXh0dXJlQ2FjaGVbYV07aWYoIWQpe3ZhciBlPW5ldyBwbGF0Zm9ybS5jcmVhdGVJbWFnZTtiJiYoZS5jcm9zc09yaWdpbj1cIlwiKSxlLnNyYz1hLGQ9bmV3IEJhc2VUZXh0dXJlKGUsYyksZC5pbWFnZVVybD1hLGJhc2VUZXh0dXJlQ2FjaGVbYV09ZH1yZXR1cm4gZH0sQmFzZVRleHR1cmUuU0NBTEVfTU9ERT17REVGQVVMVDowLExJTkVBUjowLE5FQVJFU1Q6MX0sbW9kdWxlLmV4cG9ydHM9QmFzZVRleHR1cmU7IiwiLyoqXG4gKiBwaXhpIDAuMi4xICg2YWEwMDMwKVxuICogaHR0cDovL2Rya2liaXR6LmdpdGh1Yi5pby9ub2RlLXBpeGkvXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNCBEci4gS2liaXR6LCBodHRwOi8vZHJraWJpdHouY29tXG4gKiBTdXBlciBmYXN0IDJEIHJlbmRlcmluZyBlbmdpbmUgZm9yIGJyb3dzZXJpZnksIHRoYXQgdXNlcyBXZWJHTCB3aXRoIGEgY29udGV4dCAyZCBmYWxsYmFjay5cbiAqIGJ1aWx0OiBTdW4gSmFuIDA1IDIwMTQgMDE6NTM6NTggR01ULTA1MDAgKEVTVClcbiAqXG4gKiBQaXhpLmpzIC0gdjEuMy4wXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIsIE1hdCBHcm92ZXNcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gUmVuZGVyVGV4dHVyZShhLGIpe0V2ZW50VGFyZ2V0LmNhbGwodGhpcyksdGhpcy53aWR0aD1hfHwxMDAsdGhpcy5oZWlnaHQ9Ynx8MTAwLHRoaXMuaWRlbnRpdHlNYXRyaXg9bWF0My5jcmVhdGUoKSx0aGlzLmZyYW1lPW5ldyBSZWN0YW5nbGUoMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLGdsb2JhbHMuZ2w/dGhpcy5pbml0V2ViR0woKTp0aGlzLmluaXRDYW52YXMoKX12YXIgZ2xvYmFscz1yZXF1aXJlKFwiLi4vY29yZS9nbG9iYWxzXCIpLG1hdDM9cmVxdWlyZShcIi4uL2dlb20vbWF0cml4XCIpLm1hdDMsVGV4dHVyZT1yZXF1aXJlKFwiLi9UZXh0dXJlXCIpLEJhc2VUZXh0dXJlPXJlcXVpcmUoXCIuL0Jhc2VUZXh0dXJlXCIpLFBvaW50PXJlcXVpcmUoXCIuLi9nZW9tL1BvaW50XCIpLFJlY3RhbmdsZT1yZXF1aXJlKFwiLi4vZ2VvbS9SZWN0YW5nbGVcIiksRXZlbnRUYXJnZXQ9cmVxdWlyZShcIi4uL2V2ZW50cy9FdmVudFRhcmdldFwiKSxDYW52YXNSZW5kZXJlcj1yZXF1aXJlKFwiLi4vcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlclwiKSxXZWJHTFJlbmRlckdyb3VwPXJlcXVpcmUoXCIuLi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xSZW5kZXJHcm91cFwiKSxwcm90bz1SZW5kZXJUZXh0dXJlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRleHR1cmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6UmVuZGVyVGV4dHVyZX19KTtwcm90by5pbml0V2ViR0w9ZnVuY3Rpb24oKXt2YXIgYT1nbG9iYWxzLmdsO3RoaXMuZ2xGcmFtZWJ1ZmZlcj1hLmNyZWF0ZUZyYW1lYnVmZmVyKCksYS5iaW5kRnJhbWVidWZmZXIoYS5GUkFNRUJVRkZFUix0aGlzLmdsRnJhbWVidWZmZXIpLHRoaXMuZ2xGcmFtZWJ1ZmZlci53aWR0aD10aGlzLndpZHRoLHRoaXMuZ2xGcmFtZWJ1ZmZlci5oZWlnaHQ9dGhpcy5oZWlnaHQsdGhpcy5iYXNlVGV4dHVyZT1uZXcgQmFzZVRleHR1cmUsdGhpcy5iYXNlVGV4dHVyZS53aWR0aD10aGlzLndpZHRoLHRoaXMuYmFzZVRleHR1cmUuaGVpZ2h0PXRoaXMuaGVpZ2h0LHRoaXMuYmFzZVRleHR1cmUuX2dsVGV4dHVyZT1hLmNyZWF0ZVRleHR1cmUoKSxhLmJpbmRUZXh0dXJlKGEuVEVYVFVSRV8yRCx0aGlzLmJhc2VUZXh0dXJlLl9nbFRleHR1cmUpLGEudGV4SW1hZ2UyRChhLlRFWFRVUkVfMkQsMCxhLlJHQkEsdGhpcy53aWR0aCx0aGlzLmhlaWdodCwwLGEuUkdCQSxhLlVOU0lHTkVEX0JZVEUsbnVsbCksYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV8yRCxhLlRFWFRVUkVfTUFHX0ZJTFRFUixhLkxJTkVBUiksYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV8yRCxhLlRFWFRVUkVfTUlOX0ZJTFRFUixhLkxJTkVBUiksYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV8yRCxhLlRFWFRVUkVfV1JBUF9TLGEuQ0xBTVBfVE9fRURHRSksYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV8yRCxhLlRFWFRVUkVfV1JBUF9ULGEuQ0xBTVBfVE9fRURHRSksdGhpcy5iYXNlVGV4dHVyZS5pc1JlbmRlcj0hMCxhLmJpbmRGcmFtZWJ1ZmZlcihhLkZSQU1FQlVGRkVSLHRoaXMuZ2xGcmFtZWJ1ZmZlciksYS5mcmFtZWJ1ZmZlclRleHR1cmUyRChhLkZSQU1FQlVGRkVSLGEuQ09MT1JfQVRUQUNITUVOVDAsYS5URVhUVVJFXzJELHRoaXMuYmFzZVRleHR1cmUuX2dsVGV4dHVyZSwwKSx0aGlzLnByb2plY3Rpb249bmV3IFBvaW50KHRoaXMud2lkdGgvMiwtdGhpcy5oZWlnaHQvMiksdGhpcy5yZW5kZXI9dGhpcy5yZW5kZXJXZWJHTH0scHJvdG8ucmVzaXplPWZ1bmN0aW9uKGEsYil7aWYodGhpcy53aWR0aD1hLHRoaXMuaGVpZ2h0PWIsZ2xvYmFscy5nbCl7dGhpcy5wcm9qZWN0aW9uLng9dGhpcy53aWR0aC8yLHRoaXMucHJvamVjdGlvbi55PS10aGlzLmhlaWdodC8yO3ZhciBjPWdsb2JhbHMuZ2w7Yy5iaW5kVGV4dHVyZShjLlRFWFRVUkVfMkQsdGhpcy5iYXNlVGV4dHVyZS5fZ2xUZXh0dXJlKSxjLnRleEltYWdlMkQoYy5URVhUVVJFXzJELDAsYy5SR0JBLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsMCxjLlJHQkEsYy5VTlNJR05FRF9CWVRFLG51bGwpfWVsc2UgdGhpcy5mcmFtZS53aWR0aD10aGlzLndpZHRoLHRoaXMuZnJhbWUuaGVpZ2h0PXRoaXMuaGVpZ2h0LHRoaXMucmVuZGVyZXIucmVzaXplKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfSxwcm90by5pbml0Q2FudmFzPWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlcj1uZXcgQ2FudmFzUmVuZGVyZXIodGhpcy53aWR0aCx0aGlzLmhlaWdodCxudWxsLDApLHRoaXMuYmFzZVRleHR1cmU9bmV3IEJhc2VUZXh0dXJlKHRoaXMucmVuZGVyZXIudmlldyksdGhpcy5mcmFtZT1uZXcgUmVjdGFuZ2xlKDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSx0aGlzLnJlbmRlcj10aGlzLnJlbmRlckNhbnZhc30scHJvdG8ucmVuZGVyV2ViR0w9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWdsb2JhbHMuZ2w7ZC5jb2xvck1hc2soITAsITAsITAsITApLGQudmlld3BvcnQoMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLGQuYmluZEZyYW1lYnVmZmVyKGQuRlJBTUVCVUZGRVIsdGhpcy5nbEZyYW1lYnVmZmVyKSxjJiYoZC5jbGVhckNvbG9yKDAsMCwwLDApLGQuY2xlYXIoZC5DT0xPUl9CVUZGRVJfQklUKSk7dmFyIGU9YS5jaGlsZHJlbixmPWEud29ybGRUcmFuc2Zvcm07YS53b3JsZFRyYW5zZm9ybT1tYXQzLmNyZWF0ZSgpLGEud29ybGRUcmFuc2Zvcm1bNF09LTEsYS53b3JsZFRyYW5zZm9ybVs1XT0tMip0aGlzLnByb2plY3Rpb24ueSxiJiYoYS53b3JsZFRyYW5zZm9ybVsyXT1iLngsYS53b3JsZFRyYW5zZm9ybVs1XS09Yi55KSxnbG9iYWxzLnZpc2libGVDb3VudCsrLGEudmNvdW50PWdsb2JhbHMudmlzaWJsZUNvdW50O2Zvcih2YXIgZz0wLGg9ZS5sZW5ndGg7aD5nO2crKyllW2ddLnVwZGF0ZVRyYW5zZm9ybSgpO3ZhciBpPWEuX19yZW5kZXJHcm91cDtpP2E9PT1pLnJvb3Q/aS5yZW5kZXIodGhpcy5wcm9qZWN0aW9uLHRoaXMuZ2xGcmFtZWJ1ZmZlcik6aS5yZW5kZXJTcGVjaWZpYyhhLHRoaXMucHJvamVjdGlvbix0aGlzLmdsRnJhbWVidWZmZXIpOih0aGlzLnJlbmRlckdyb3VwfHwodGhpcy5yZW5kZXJHcm91cD1uZXcgV2ViR0xSZW5kZXJHcm91cChkKSksdGhpcy5yZW5kZXJHcm91cC5zZXRSZW5kZXJhYmxlKGEpLHRoaXMucmVuZGVyR3JvdXAucmVuZGVyKHRoaXMucHJvamVjdGlvbix0aGlzLmdsRnJhbWVidWZmZXIpKSxhLndvcmxkVHJhbnNmb3JtPWZ9LHByb3RvLnJlbmRlckNhbnZhcz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5jaGlsZHJlbjthLndvcmxkVHJhbnNmb3JtPW1hdDMuY3JlYXRlKCksYiYmKGEud29ybGRUcmFuc2Zvcm1bMl09Yi54LGEud29ybGRUcmFuc2Zvcm1bNV09Yi55KTtmb3IodmFyIGU9MCxmPWQubGVuZ3RoO2Y+ZTtlKyspZFtlXS51cGRhdGVUcmFuc2Zvcm0oKTtjJiZ0aGlzLnJlbmRlcmVyLmNvbnRleHQuY2xlYXJSZWN0KDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSx0aGlzLnJlbmRlcmVyLnJlbmRlckRpc3BsYXlPYmplY3QoYSksdGhpcy5yZW5kZXJlci5jb250ZXh0LnNldFRyYW5zZm9ybSgxLDAsMCwxLDAsMCl9LG1vZHVsZS5leHBvcnRzPVJlbmRlclRleHR1cmU7IiwiLyoqXG4gKiBwaXhpIDAuMi4xICg2YWEwMDMwKVxuICogaHR0cDovL2Rya2liaXR6LmdpdGh1Yi5pby9ub2RlLXBpeGkvXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNCBEci4gS2liaXR6LCBodHRwOi8vZHJraWJpdHouY29tXG4gKiBTdXBlciBmYXN0IDJEIHJlbmRlcmluZyBlbmdpbmUgZm9yIGJyb3dzZXJpZnksIHRoYXQgdXNlcyBXZWJHTCB3aXRoIGEgY29udGV4dCAyZCBmYWxsYmFjay5cbiAqIGJ1aWx0OiBTdW4gSmFuIDA1IDIwMTQgMDE6NTM6NTggR01ULTA1MDAgKEVTVClcbiAqXG4gKiBQaXhpLmpzIC0gdjEuMy4wXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIsIE1hdCBHcm92ZXNcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gVGV4dHVyZShhLGIpe2lmKEV2ZW50VGFyZ2V0LmNhbGwodGhpcyksYnx8KHRoaXMubm9GcmFtZT0hMCxiPW5ldyBSZWN0YW5nbGUoMCwwLDEsMSkpLGEgaW5zdGFuY2VvZiBUZXh0dXJlJiYoYT1hLmJhc2VUZXh0dXJlKSx0aGlzLmJhc2VUZXh0dXJlPWEsdGhpcy5mcmFtZT1iLHRoaXMudHJpbT1uZXcgUG9pbnQsdGhpcy5zY29wZT10aGlzLGEuaGFzTG9hZGVkKXRoaXMubm9GcmFtZSYmKGI9bmV3IFJlY3RhbmdsZSgwLDAsYS53aWR0aCxhLmhlaWdodCkpLHRoaXMuc2V0RnJhbWUoYik7ZWxzZXt2YXIgYz10aGlzO2EuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRlZFwiLGZ1bmN0aW9uKCl7Yy5vbkJhc2VUZXh0dXJlTG9hZGVkKCl9KX19dmFyIEJhc2VUZXh0dXJlPXJlcXVpcmUoXCIuL0Jhc2VUZXh0dXJlXCIpLFBvaW50PXJlcXVpcmUoXCIuLi9nZW9tL1BvaW50XCIpLFJlY3RhbmdsZT1yZXF1aXJlKFwiLi4vZ2VvbS9SZWN0YW5nbGVcIiksRXZlbnRUYXJnZXQ9cmVxdWlyZShcIi4uL2V2ZW50cy9FdmVudFRhcmdldFwiKSxwcm90bz1UZXh0dXJlLnByb3RvdHlwZTtwcm90by5vbkJhc2VUZXh0dXJlTG9hZGVkPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5iYXNlVGV4dHVyZTthLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkZWRcIix0aGlzLm9uTG9hZGVkKSx0aGlzLm5vRnJhbWUmJih0aGlzLmZyYW1lPW5ldyBSZWN0YW5nbGUoMCwwLGEud2lkdGgsYS5oZWlnaHQpKSx0aGlzLm5vRnJhbWU9ITEsdGhpcy53aWR0aD10aGlzLmZyYW1lLndpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuZnJhbWUuaGVpZ2h0LHRoaXMuc2NvcGUuZGlzcGF0Y2hFdmVudCh7dHlwZTpcInVwZGF0ZVwiLGNvbnRlbnQ6dGhpc30pfSxwcm90by5kZXN0cm95PWZ1bmN0aW9uKGEpe2EmJnRoaXMuYmFzZVRleHR1cmUuZGVzdHJveSgpfSxwcm90by5zZXRGcmFtZT1mdW5jdGlvbihhKXtpZih0aGlzLmZyYW1lPWEsdGhpcy53aWR0aD1hLndpZHRoLHRoaXMuaGVpZ2h0PWEuaGVpZ2h0LGEueCthLndpZHRoPnRoaXMuYmFzZVRleHR1cmUud2lkdGh8fGEueSthLmhlaWdodD50aGlzLmJhc2VUZXh0dXJlLmhlaWdodCl0aHJvdyBuZXcgRXJyb3IoXCJUZXh0dXJlIEVycm9yOiBmcmFtZSBkb2VzIG5vdCBmaXQgaW5zaWRlIHRoZSBiYXNlIFRleHR1cmUgZGltZW5zaW9ucyBcIit0aGlzKTt0aGlzLnVwZGF0ZUZyYW1lPSEwLFRleHR1cmUuZnJhbWVVcGRhdGVzLnB1c2godGhpcyl9LFRleHR1cmUuZnJvbUltYWdlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1UZXh0dXJlLmNhY2hlW2FdO3JldHVybiBkfHwoZD1uZXcgVGV4dHVyZShCYXNlVGV4dHVyZS5mcm9tSW1hZ2UoYSxiLGMpKSxUZXh0dXJlLmNhY2hlW2FdPWQpLGR9LFRleHR1cmUuZnJvbUZyYW1lPWZ1bmN0aW9uKGEpe3ZhciBiPVRleHR1cmUuY2FjaGVbYV07aWYoIWIpdGhyb3cgbmV3IEVycm9yKCdUaGUgZnJhbWVJZCBcIicrYSsnXCIgZG9lcyBub3QgZXhpc3QgaW4gdGhlIHRleHR1cmUgY2FjaGUgJyt0aGlzKTtyZXR1cm4gYn0sVGV4dHVyZS5mcm9tQ2FudmFzPWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IEJhc2VUZXh0dXJlKGEsYik7cmV0dXJuIG5ldyBUZXh0dXJlKGMpfSxUZXh0dXJlLmFkZFRleHR1cmVUb0NhY2hlPWZ1bmN0aW9uKGEsYil7VGV4dHVyZS5jYWNoZVtiXT1hfSxUZXh0dXJlLnJlbW92ZVRleHR1cmVGcm9tQ2FjaGU9ZnVuY3Rpb24oYSl7dmFyIGI9VGV4dHVyZS5jYWNoZVthXTtyZXR1cm4gVGV4dHVyZS5jYWNoZVthXT1udWxsLGJ9LFRleHR1cmUuY2FjaGU9e30sVGV4dHVyZS5mcmFtZVVwZGF0ZXM9W10sVGV4dHVyZS5TQ0FMRV9NT0RFPUJhc2VUZXh0dXJlLlNDQUxFX01PREUsbW9kdWxlLmV4cG9ydHM9VGV4dHVyZTsiLCIvKipcbiAqIHBpeGkgMC4yLjEgKDZhYTAwMzApXG4gKiBodHRwOi8vZHJraWJpdHouZ2l0aHViLmlvL25vZGUtcGl4aS9cbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE0IERyLiBLaWJpdHosIGh0dHA6Ly9kcmtpYml0ei5jb21cbiAqIFN1cGVyIGZhc3QgMkQgcmVuZGVyaW5nIGVuZ2luZSBmb3IgYnJvd3NlcmlmeSwgdGhhdCB1c2VzIFdlYkdMIHdpdGggYSBjb250ZXh0IDJkIGZhbGxiYWNrLlxuICogYnVpbHQ6IFN1biBKYW4gMDUgMjAxNCAwMTo1Mzo1OCBHTVQtMDUwMCAoRVNUKVxuICpcbiAqIFBpeGkuanMgLSB2MS4zLjBcbiAqIENvcHlyaWdodCAoYykgMjAxMiwgTWF0IEdyb3Zlc1xuICovXG5cInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBwb2ludEluVHJpYW5nbGUoYSxiLGMsZCxlLGYsZyxoKXt2YXIgaT1nLWMsaj1oLWQsaz1lLWMsbD1mLWQsbT1hLWMsbj1iLWQsbz1pKmkraipqLHA9aSprK2oqbCxxPWkqbStqKm4scj1rKmsrbCpsLHM9ayptK2wqbix0PTEvKG8qci1wKnApLHU9KHIqcS1wKnMpKnQsdj0obypzLXAqcSkqdDtyZXR1cm4gdT49MCYmdj49MCYmMT51K3Z9ZnVuY3Rpb24gY29udmV4KGEsYixjLGQsZSxmLGcpe3JldHVybihiLWQpKihlLWMpKyhjLWEpKihmLWQpPj0wPT09Z312YXIgcGxhdGZvcm09cmVxdWlyZShcIi4uL3BsYXRmb3JtXCIpO2V4cG9ydHMudHJpYW5ndWxhdGU9ZnVuY3Rpb24oYSl7dmFyIGI9ITAsYz1hLmxlbmd0aD4+MTtpZigzPmMpcmV0dXJuW107Zm9yKHZhciBkPVtdLGU9W10sZj0wO2M+ZjtmKyspZS5wdXNoKGYpO2Y9MDtmb3IodmFyIGc9YztnPjM7KXt2YXIgaD1lWyhmKzApJWddLGk9ZVsoZisxKSVnXSxqPWVbKGYrMiklZ10saz1hWzIqaF0sbD1hWzIqaCsxXSxtPWFbMippXSxuPWFbMippKzFdLG89YVsyKmpdLHA9YVsyKmorMV0scT0hMTtpZihjb252ZXgoayxsLG0sbixvLHAsYikpe3E9ITA7Zm9yKHZhciByPTA7Zz5yO3IrKyl7dmFyIHM9ZVtyXTtpZihzIT09aCYmcyE9PWkmJnMhPT1qJiZwb2ludEluVHJpYW5nbGUoYVsyKnNdLGFbMipzKzFdLGssbCxtLG4sbyxwKSl7cT0hMTticmVha319fWlmKHEpZC5wdXNoKGgsaSxqKSxlLnNwbGljZSgoZisxKSVnLDEpLGctLSxmPTA7ZWxzZSBpZihmKys+MypnKXtpZighYilyZXR1cm4gcGxhdGZvcm0uY29uc29sZS53YXJuKFwiUElYSSBXYXJuaW5nOiBzaGFwZSB0b28gY29tcGxleCB0byBmaWxsXCIpLFtdO2ZvcihkPVtdLGU9W10sZj0wO2M+ZjtmKyspZS5wdXNoKGYpO2Y9MCxnPWMsYj0hMX19cmV0dXJuIGQucHVzaChlWzBdLGVbMV0sZVsyXSksZH07IiwiLyoqXG4gKiBwaXhpIDAuMi4xICg2YWEwMDMwKVxuICogaHR0cDovL2Rya2liaXR6LmdpdGh1Yi5pby9ub2RlLXBpeGkvXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNCBEci4gS2liaXR6LCBodHRwOi8vZHJraWJpdHouY29tXG4gKiBTdXBlciBmYXN0IDJEIHJlbmRlcmluZyBlbmdpbmUgZm9yIGJyb3dzZXJpZnksIHRoYXQgdXNlcyBXZWJHTCB3aXRoIGEgY29udGV4dCAyZCBmYWxsYmFjay5cbiAqIGJ1aWx0OiBTdW4gSmFuIDA1IDIwMTQgMDE6NTM6NTggR01ULTA1MDAgKEVTVClcbiAqXG4gKiBQaXhpLmpzIC0gdjEuMy4wXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIsIE1hdCBHcm92ZXNcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7dmFyIHBsYXRmb3JtPXJlcXVpcmUoXCIuLi9wbGF0Zm9ybVwiKSxDYW52YXNSZW5kZXJlcj1yZXF1aXJlKFwiLi4vcmVuZGVyZXJzL2NhbnZhcy9DYW52YXNSZW5kZXJlclwiKSxXZWJHTFJlbmRlcmVyPXJlcXVpcmUoXCIuLi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xSZW5kZXJlclwiKTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihhLGIsYyxkLGUpe2F8fChhPTgwMCksYnx8KGI9NjAwKTt2YXIgZj1mdW5jdGlvbigpe3RyeXt2YXIgYT1wbGF0Zm9ybS5jcmVhdGVDYW52YXMoKTtyZXR1cm4hIXBsYXRmb3JtLndpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQmJihhLmdldENvbnRleHQoXCJ3ZWJnbFwiKXx8YS5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIpKX1jYXRjaChiKXtyZXR1cm4hMX19KCk7aWYoZiYmcGxhdGZvcm0ubmF2aWdhdG9yKXt2YXIgZz0tMSE9PXBsYXRmb3JtLm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwidHJpZGVudFwiKTtmPSFnfXJldHVybiBmP25ldyBXZWJHTFJlbmRlcmVyKGEsYixjLGQsZSk6bmV3IENhbnZhc1JlbmRlcmVyKGEsYixjLGQpfTsiLCIvKipcbiAqIHBpeGkgMC4yLjEgKDZhYTAwMzApXG4gKiBodHRwOi8vZHJraWJpdHouZ2l0aHViLmlvL25vZGUtcGl4aS9cbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE0IERyLiBLaWJpdHosIGh0dHA6Ly9kcmtpYml0ei5jb21cbiAqIFN1cGVyIGZhc3QgMkQgcmVuZGVyaW5nIGVuZ2luZSBmb3IgYnJvd3NlcmlmeSwgdGhhdCB1c2VzIFdlYkdMIHdpdGggYSBjb250ZXh0IDJkIGZhbGxiYWNrLlxuICogYnVpbHQ6IFN1biBKYW4gMDUgMjAxNCAwMTo1Mzo1OCBHTVQtMDUwMCAoRVNUKVxuICpcbiAqIFBpeGkuanMgLSB2MS4zLjBcbiAqIENvcHlyaWdodCAoYykgMjAxMiwgTWF0IEdyb3Zlc1xuICovXG5cInVzZSBzdHJpY3RcIjtleHBvcnRzLmhleDJyZ2I9ZnVuY3Rpb24oYSl7cmV0dXJuWyhhPj4xNiYyNTUpLzI1NSwoYT4+OCYyNTUpLzI1NSwoMjU1JmEpLzI1NV19OyIsIi8qKlxuICogcGl4aSAwLjIuMSAoNmFhMDAzMClcbiAqIGh0dHA6Ly9kcmtpYml0ei5naXRodWIuaW8vbm9kZS1waXhpL1xuICogQ29weXJpZ2h0IChjKSAyMDEzLTIwMTQgRHIuIEtpYml0eiwgaHR0cDovL2Rya2liaXR6LmNvbVxuICogU3VwZXIgZmFzdCAyRCByZW5kZXJpbmcgZW5naW5lIGZvciBicm93c2VyaWZ5LCB0aGF0IHVzZXMgV2ViR0wgd2l0aCBhIGNvbnRleHQgMmQgZmFsbGJhY2suXG4gKiBidWlsdDogU3VuIEphbiAwNSAyMDE0IDAxOjUzOjU4IEdNVC0wNTAwIChFU1QpXG4gKlxuICogUGl4aS5qcyAtIHYxLjMuMFxuICogQ29weXJpZ2h0IChjKSAyMDEyLCBNYXQgR3JvdmVzXG4gKi9cblwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIGxvZ0dyb3VwKGEpe3ZhciBiPXBsYXRmb3JtLmNvbnNvbGU7Yi5ncm91cENvbGxhcHNlZD9iLmdyb3VwQ29sbGFwc2VkKGEpOmIuZ3JvdXA/Yi5ncm91cChhKTpiLmxvZyhhK1wiID4+Pj4+Pj4+PlwiKX1mdW5jdGlvbiBsb2dHcm91cEVuZChhKXt2YXIgYj1wbGF0Zm9ybS5jb25zb2xlO2IuZ3JvdXBFbmQ/Yi5ncm91cEVuZChhKTpiLmxvZyhhK1wiIF9fX19fX19fX1wiKX12YXIgcGxhdGZvcm09cmVxdWlyZShcIi4uL3BsYXRmb3JtXCIpO2V4cG9ydHMucnVuTGlzdD1mdW5jdGlvbihhLGIpe3ZhciBjPTAsZD1hLmZpcnN0O2ZvcihiPVwicGl4aS5ydW5MaXN0XCIrKGI/XCIoXCIrYitcIilcIjpcIlwiKSxsb2dHcm91cChiKSxwbGF0Zm9ybS5jb25zb2xlLmxvZyhkKTtkLl9pTmV4dDspaWYoYysrLGQ9ZC5faU5leHQscGxhdGZvcm0uY29uc29sZS5sb2coZCksYz4xMDApe3BsYXRmb3JtLmNvbnNvbGUubG9nKFwiQlJFQUtcIik7YnJlYWt9bG9nR3JvdXBFbmQoYil9OyIsIi8qKlxuICogcGl4aSAwLjIuMSAoNmFhMDAzMClcbiAqIGh0dHA6Ly9kcmtpYml0ei5naXRodWIuaW8vbm9kZS1waXhpL1xuICogQ29weXJpZ2h0IChjKSAyMDEzLTIwMTQgRHIuIEtpYml0eiwgaHR0cDovL2Rya2liaXR6LmNvbVxuICogU3VwZXIgZmFzdCAyRCByZW5kZXJpbmcgZW5naW5lIGZvciBicm93c2VyaWZ5LCB0aGF0IHVzZXMgV2ViR0wgd2l0aCBhIGNvbnRleHQgMmQgZmFsbGJhY2suXG4gKiBidWlsdDogU3VuIEphbiAwNSAyMDE0IDAxOjUzOjU4IEdNVC0wNTAwIChFU1QpXG4gKlxuICogUGl4aS5qcyAtIHYxLjMuMFxuICogQ29weXJpZ2h0IChjKSAyMDEyLCBNYXQgR3JvdmVzXG4gKi9cblwidXNlIHN0cmljdFwiO3ZhciBzcGluZT1tb2R1bGUuZXhwb3J0cz17fTtzcGluZS5Cb25lRGF0YT1mdW5jdGlvbihhLGIpe3RoaXMubmFtZT1hLHRoaXMucGFyZW50PWJ9LHNwaW5lLkJvbmVEYXRhLnByb3RvdHlwZT17bGVuZ3RoOjAseDowLHk6MCxyb3RhdGlvbjowLHNjYWxlWDoxLHNjYWxlWToxfSxzcGluZS5TbG90RGF0YT1mdW5jdGlvbihhLGIpe3RoaXMubmFtZT1hLHRoaXMuYm9uZURhdGE9Yn0sc3BpbmUuU2xvdERhdGEucHJvdG90eXBlPXtyOjEsZzoxLGI6MSxhOjEsYXR0YWNobWVudE5hbWU6bnVsbH0sc3BpbmUuQm9uZT1mdW5jdGlvbihhLGIpe3RoaXMuZGF0YT1hLHRoaXMucGFyZW50PWIsdGhpcy5zZXRUb1NldHVwUG9zZSgpfSxzcGluZS5Cb25lLnlEb3duPSExLHNwaW5lLkJvbmUucHJvdG90eXBlPXt4OjAseTowLHJvdGF0aW9uOjAsc2NhbGVYOjEsc2NhbGVZOjEsbTAwOjAsbTAxOjAsd29ybGRYOjAsbTEwOjAsbTExOjAsd29ybGRZOjAsd29ybGRSb3RhdGlvbjowLHdvcmxkU2NhbGVYOjEsd29ybGRTY2FsZVk6MSx1cGRhdGVXb3JsZFRyYW5zZm9ybTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMucGFyZW50O251bGwhPWM/KHRoaXMud29ybGRYPXRoaXMueCpjLm0wMCt0aGlzLnkqYy5tMDErYy53b3JsZFgsdGhpcy53b3JsZFk9dGhpcy54KmMubTEwK3RoaXMueSpjLm0xMStjLndvcmxkWSx0aGlzLndvcmxkU2NhbGVYPWMud29ybGRTY2FsZVgqdGhpcy5zY2FsZVgsdGhpcy53b3JsZFNjYWxlWT1jLndvcmxkU2NhbGVZKnRoaXMuc2NhbGVZLHRoaXMud29ybGRSb3RhdGlvbj1jLndvcmxkUm90YXRpb24rdGhpcy5yb3RhdGlvbik6KHRoaXMud29ybGRYPXRoaXMueCx0aGlzLndvcmxkWT10aGlzLnksdGhpcy53b3JsZFNjYWxlWD10aGlzLnNjYWxlWCx0aGlzLndvcmxkU2NhbGVZPXRoaXMuc2NhbGVZLHRoaXMud29ybGRSb3RhdGlvbj10aGlzLnJvdGF0aW9uKTt2YXIgZD10aGlzLndvcmxkUm90YXRpb24qTWF0aC5QSS8xODAsZT1NYXRoLmNvcyhkKSxmPU1hdGguc2luKGQpO3RoaXMubTAwPWUqdGhpcy53b3JsZFNjYWxlWCx0aGlzLm0xMD1mKnRoaXMud29ybGRTY2FsZVgsdGhpcy5tMDE9LWYqdGhpcy53b3JsZFNjYWxlWSx0aGlzLm0xMT1lKnRoaXMud29ybGRTY2FsZVksYSYmKHRoaXMubTAwPS10aGlzLm0wMCx0aGlzLm0wMT0tdGhpcy5tMDEpLGImJih0aGlzLm0xMD0tdGhpcy5tMTAsdGhpcy5tMTE9LXRoaXMubTExKSxzcGluZS5Cb25lLnlEb3duJiYodGhpcy5tMTA9LXRoaXMubTEwLHRoaXMubTExPS10aGlzLm0xMSl9LHNldFRvU2V0dXBQb3NlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5kYXRhO3RoaXMueD1hLngsdGhpcy55PWEueSx0aGlzLnJvdGF0aW9uPWEucm90YXRpb24sdGhpcy5zY2FsZVg9YS5zY2FsZVgsdGhpcy5zY2FsZVk9YS5zY2FsZVl9fSxzcGluZS5TbG90PWZ1bmN0aW9uKGEsYixjKXt0aGlzLmRhdGE9YSx0aGlzLnNrZWxldG9uPWIsdGhpcy5ib25lPWMsdGhpcy5zZXRUb1NldHVwUG9zZSgpfSxzcGluZS5TbG90LnByb3RvdHlwZT17cjoxLGc6MSxiOjEsYToxLF9hdHRhY2htZW50VGltZTowLGF0dGFjaG1lbnQ6bnVsbCxzZXRBdHRhY2htZW50OmZ1bmN0aW9uKGEpe3RoaXMuYXR0YWNobWVudD1hLHRoaXMuX2F0dGFjaG1lbnRUaW1lPXRoaXMuc2tlbGV0b24udGltZX0sc2V0QXR0YWNobWVudFRpbWU6ZnVuY3Rpb24oYSl7dGhpcy5fYXR0YWNobWVudFRpbWU9dGhpcy5za2VsZXRvbi50aW1lLWF9LGdldEF0dGFjaG1lbnRUaW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2tlbGV0b24udGltZS10aGlzLl9hdHRhY2htZW50VGltZX0sc2V0VG9TZXR1cFBvc2U6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmRhdGE7dGhpcy5yPWEucix0aGlzLmc9YS5nLHRoaXMuYj1hLmIsdGhpcy5hPWEuYTtmb3IodmFyIGI9dGhpcy5za2VsZXRvbi5kYXRhLnNsb3RzLGM9MCxkPWIubGVuZ3RoO2Q+YztjKyspaWYoYltjXT09YSl7dGhpcy5zZXRBdHRhY2htZW50KGEuYXR0YWNobWVudE5hbWU/dGhpcy5za2VsZXRvbi5nZXRBdHRhY2htZW50QnlTbG90SW5kZXgoYyxhLmF0dGFjaG1lbnROYW1lKTpudWxsKTticmVha319fSxzcGluZS5Ta2luPWZ1bmN0aW9uKGEpe3RoaXMubmFtZT1hLHRoaXMuYXR0YWNobWVudHM9e319LHNwaW5lLlNraW4ucHJvdG90eXBlPXthZGRBdHRhY2htZW50OmZ1bmN0aW9uKGEsYixjKXt0aGlzLmF0dGFjaG1lbnRzW2ErXCI6XCIrYl09Y30sZ2V0QXR0YWNobWVudDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmF0dGFjaG1lbnRzW2ErXCI6XCIrYl19LF9hdHRhY2hBbGw6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMgaW4gYi5hdHRhY2htZW50cyl7dmFyIGQ9Yy5pbmRleE9mKFwiOlwiKSxlPXBhcnNlSW50KGMuc3Vic3RyaW5nKDAsZCksMTApLGY9Yy5zdWJzdHJpbmcoZCsxKSxnPWEuc2xvdHNbZV07aWYoZy5hdHRhY2htZW50JiZnLmF0dGFjaG1lbnQubmFtZT09Zil7dmFyIGg9dGhpcy5nZXRBdHRhY2htZW50KGUsZik7aCYmZy5zZXRBdHRhY2htZW50KGgpfX19fSxzcGluZS5BbmltYXRpb249ZnVuY3Rpb24oYSxiLGMpe3RoaXMubmFtZT1hLHRoaXMudGltZWxpbmVzPWIsdGhpcy5kdXJhdGlvbj1jfSxzcGluZS5BbmltYXRpb24ucHJvdG90eXBlPXthcHBseTpmdW5jdGlvbihhLGIsYyl7YyYmdGhpcy5kdXJhdGlvbiYmKGIlPXRoaXMuZHVyYXRpb24pO2Zvcih2YXIgZD10aGlzLnRpbWVsaW5lcyxlPTAsZj1kLmxlbmd0aDtmPmU7ZSsrKWRbZV0uYXBwbHkoYSxiLDEpfSxtaXg6ZnVuY3Rpb24oYSxiLGMsZCl7YyYmdGhpcy5kdXJhdGlvbiYmKGIlPXRoaXMuZHVyYXRpb24pO2Zvcih2YXIgZT10aGlzLnRpbWVsaW5lcyxmPTAsZz1lLmxlbmd0aDtnPmY7ZisrKWVbZl0uYXBwbHkoYSxiLGQpfX0sc3BpbmUuYmluYXJ5U2VhcmNoPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD0wLGU9TWF0aC5mbG9vcihhLmxlbmd0aC9jKS0yO2lmKCFlKXJldHVybiBjO2Zvcih2YXIgZj1lPj4+MTs7KXtpZihhWyhmKzEpKmNdPD1iP2Q9ZisxOmU9ZixkPT1lKXJldHVybihkKzEpKmM7Zj1kK2U+Pj4xfX0sc3BpbmUubGluZWFyU2VhcmNoPWZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MCxlPWEubGVuZ3RoLWM7ZT49ZDtkKz1jKWlmKGFbZF0+YilyZXR1cm4gZDtyZXR1cm4tMX0sc3BpbmUuQ3VydmVzPWZ1bmN0aW9uKGEpe3RoaXMuY3VydmVzPVtdLHRoaXMuY3VydmVzLmxlbmd0aD02KihhLTEpfSxzcGluZS5DdXJ2ZXMucHJvdG90eXBlPXtzZXRMaW5lYXI6ZnVuY3Rpb24oYSl7dGhpcy5jdXJ2ZXNbNiphXT0wfSxzZXRTdGVwcGVkOmZ1bmN0aW9uKGEpe3RoaXMuY3VydmVzWzYqYV09LTF9LHNldEN1cnZlOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9LjEsZz1mKmYsaD1nKmYsaT0zKmYsaj0zKmcsaz02KmcsbD02KmgsbT0yKi1iK2Qsbj0yKi1jK2Usbz0zKihiLWQpKzEscD0zKihjLWUpKzEscT02KmEscj10aGlzLmN1cnZlcztyW3FdPWIqaSttKmorbypoLHJbcSsxXT1jKmkrbipqK3AqaCxyW3ErMl09bSprK28qbCxyW3ErM109biprK3AqbCxyW3ErNF09bypsLHJbcSs1XT1wKmx9LGdldEN1cnZlUGVyY2VudDpmdW5jdGlvbihhLGIpe2I9MD5iPzA6Yj4xPzE6Yjt2YXIgYz02KmEsZD10aGlzLmN1cnZlcyxlPWRbY107aWYoIWUpcmV0dXJuIGI7aWYoLTE9PWUpcmV0dXJuIDA7Zm9yKHZhciBmPWRbYysxXSxnPWRbYysyXSxoPWRbYyszXSxpPWRbYys0XSxqPWRbYys1XSxrPWUsbD1mLG09ODs7KXtpZihrPj1iKXt2YXIgbj1rLWUsbz1sLWY7cmV0dXJuIG8rKGwtbykqKGItbikvKGstbil9aWYoIW0pYnJlYWs7bS0tLGUrPWcsZis9aCxnKz1pLGgrPWosays9ZSxsKz1mfXJldHVybiBsKygxLWwpKihiLWspLygxLWspfX0sc3BpbmUuUm90YXRlVGltZWxpbmU9ZnVuY3Rpb24oYSl7dGhpcy5jdXJ2ZXM9bmV3IHNwaW5lLkN1cnZlcyhhKSx0aGlzLmZyYW1lcz1bXSx0aGlzLmZyYW1lcy5sZW5ndGg9MiphfSxzcGluZS5Sb3RhdGVUaW1lbGluZS5wcm90b3R5cGU9e2JvbmVJbmRleDowLGdldEZyYW1lQ291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mcmFtZXMubGVuZ3RoLzJ9LHNldEZyYW1lOmZ1bmN0aW9uKGEsYixjKXthKj0yLHRoaXMuZnJhbWVzW2FdPWIsdGhpcy5mcmFtZXNbYSsxXT1jfSxhcHBseTpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT10aGlzLmZyYW1lcztpZighKGI8ZVswXSkpe3ZhciBmPWEuYm9uZXNbdGhpcy5ib25lSW5kZXhdO2lmKGI+PWVbZS5sZW5ndGgtMl0pe2ZvcihkPWYuZGF0YS5yb3RhdGlvbitlW2UubGVuZ3RoLTFdLWYucm90YXRpb247ZD4xODA7KWQtPTM2MDtmb3IoOy0xODA+ZDspZCs9MzYwO3JldHVybiBmLnJvdGF0aW9uKz1kKmMsdm9pZCAwfXZhciBnPXNwaW5lLmJpbmFyeVNlYXJjaChlLGIsMiksaD1lW2ctMV0saT1lW2ddLGo9MS0oYi1pKS8oZVtnLTJdLWkpO2ZvcihqPXRoaXMuY3VydmVzLmdldEN1cnZlUGVyY2VudChnLzItMSxqKSxkPWVbZysxXS1oO2Q+MTgwOylkLT0zNjA7Zm9yKDstMTgwPmQ7KWQrPTM2MDtmb3IoZD1mLmRhdGEucm90YXRpb24rKGgrZCpqKS1mLnJvdGF0aW9uO2Q+MTgwOylkLT0zNjA7Zm9yKDstMTgwPmQ7KWQrPTM2MDtmLnJvdGF0aW9uKz1kKmN9fX0sc3BpbmUuVHJhbnNsYXRlVGltZWxpbmU9ZnVuY3Rpb24oYSl7dGhpcy5jdXJ2ZXM9bmV3IHNwaW5lLkN1cnZlcyhhKSx0aGlzLmZyYW1lcz1bXSx0aGlzLmZyYW1lcy5sZW5ndGg9MyphfSxzcGluZS5UcmFuc2xhdGVUaW1lbGluZS5wcm90b3R5cGU9e2JvbmVJbmRleDowLGdldEZyYW1lQ291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mcmFtZXMubGVuZ3RoLzN9LHNldEZyYW1lOmZ1bmN0aW9uKGEsYixjLGQpe2EqPTMsdGhpcy5mcmFtZXNbYV09Yix0aGlzLmZyYW1lc1thKzFdPWMsdGhpcy5mcmFtZXNbYSsyXT1kfSxhcHBseTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5mcmFtZXM7aWYoIShiPGRbMF0pKXt2YXIgZT1hLmJvbmVzW3RoaXMuYm9uZUluZGV4XTtpZihiPj1kW2QubGVuZ3RoLTNdKXJldHVybiBlLngrPShlLmRhdGEueCtkW2QubGVuZ3RoLTJdLWUueCkqYyxlLnkrPShlLmRhdGEueStkW2QubGVuZ3RoLTFdLWUueSkqYyx2b2lkIDA7dmFyIGY9c3BpbmUuYmluYXJ5U2VhcmNoKGQsYiwzKSxnPWRbZi0yXSxoPWRbZi0xXSxpPWRbZl0saj0xLShiLWkpLyhkW2YrLTNdLWkpO2o9dGhpcy5jdXJ2ZXMuZ2V0Q3VydmVQZXJjZW50KGYvMy0xLGopLGUueCs9KGUuZGF0YS54K2crKGRbZisxXS1nKSpqLWUueCkqYyxlLnkrPShlLmRhdGEueStoKyhkW2YrMl0taCkqai1lLnkpKmN9fX0sc3BpbmUuU2NhbGVUaW1lbGluZT1mdW5jdGlvbihhKXt0aGlzLmN1cnZlcz1uZXcgc3BpbmUuQ3VydmVzKGEpLHRoaXMuZnJhbWVzPVtdLHRoaXMuZnJhbWVzLmxlbmd0aD0zKmF9LHNwaW5lLlNjYWxlVGltZWxpbmUucHJvdG90eXBlPXtib25lSW5kZXg6MCxnZXRGcmFtZUNvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnJhbWVzLmxlbmd0aC8zfSxzZXRGcmFtZTpmdW5jdGlvbihhLGIsYyxkKXthKj0zLHRoaXMuZnJhbWVzW2FdPWIsdGhpcy5mcmFtZXNbYSsxXT1jLHRoaXMuZnJhbWVzW2ErMl09ZH0sYXBwbHk6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZnJhbWVzO2lmKCEoYjxkWzBdKSl7dmFyIGU9YS5ib25lc1t0aGlzLmJvbmVJbmRleF07aWYoYj49ZFtkLmxlbmd0aC0zXSlyZXR1cm4gZS5zY2FsZVgrPShlLmRhdGEuc2NhbGVYLTErZFtkLmxlbmd0aC0yXS1lLnNjYWxlWCkqYyxlLnNjYWxlWSs9KGUuZGF0YS5zY2FsZVktMStkW2QubGVuZ3RoLTFdLWUuc2NhbGVZKSpjLHZvaWQgMDt2YXIgZj1zcGluZS5iaW5hcnlTZWFyY2goZCxiLDMpLGc9ZFtmLTJdLGg9ZFtmLTFdLGk9ZFtmXSxqPTEtKGItaSkvKGRbZistM10taSk7aj10aGlzLmN1cnZlcy5nZXRDdXJ2ZVBlcmNlbnQoZi8zLTEsaiksZS5zY2FsZVgrPShlLmRhdGEuc2NhbGVYLTErZysoZFtmKzFdLWcpKmotZS5zY2FsZVgpKmMsZS5zY2FsZVkrPShlLmRhdGEuc2NhbGVZLTEraCsoZFtmKzJdLWgpKmotZS5zY2FsZVkpKmN9fX0sc3BpbmUuQ29sb3JUaW1lbGluZT1mdW5jdGlvbihhKXt0aGlzLmN1cnZlcz1uZXcgc3BpbmUuQ3VydmVzKGEpLHRoaXMuZnJhbWVzPVtdLHRoaXMuZnJhbWVzLmxlbmd0aD01KmF9LHNwaW5lLkNvbG9yVGltZWxpbmUucHJvdG90eXBlPXtzbG90SW5kZXg6MCxnZXRGcmFtZUNvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnJhbWVzLmxlbmd0aC8yfSxzZXRGcmFtZTpmdW5jdGlvbihhLGIsYyxkLGUsZil7YSo9NSx0aGlzLmZyYW1lc1thXT1iLHRoaXMuZnJhbWVzW2ErMV09Yyx0aGlzLmZyYW1lc1thKzJdPWQsdGhpcy5mcmFtZXNbYSszXT1lLHRoaXMuZnJhbWVzW2ErNF09Zn0sYXBwbHk6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZnJhbWVzO2lmKCEoYjxkWzBdKSl7dmFyIGU9YS5zbG90c1t0aGlzLnNsb3RJbmRleF07aWYoYj49ZFtkLmxlbmd0aC01XSl7dmFyIGY9ZC5sZW5ndGgtMTtyZXR1cm4gZS5yPWRbZi0zXSxlLmc9ZFtmLTJdLGUuYj1kW2YtMV0sZS5hPWRbZl0sdm9pZCAwfXZhciBnPXNwaW5lLmJpbmFyeVNlYXJjaChkLGIsNSksaD1kW2ctNF0saT1kW2ctM10saj1kW2ctMl0saz1kW2ctMV0sbD1kW2ddLG09MS0oYi1sKS8oZFtnLTVdLWwpO209dGhpcy5jdXJ2ZXMuZ2V0Q3VydmVQZXJjZW50KGcvNS0xLG0pO3ZhciBuPWgrKGRbZysxXS1oKSptLG89aSsoZFtnKzJdLWkpKm0scD1qKyhkW2crM10taikqbSxxPWsrKGRbZys0XS1rKSptOzE+Yz8oZS5yKz0obi1lLnIpKmMsZS5nKz0oby1lLmcpKmMsZS5iKz0ocC1lLmIpKmMsZS5hKz0ocS1lLmEpKmMpOihlLnI9bixlLmc9byxlLmI9cCxlLmE9cSl9fX0sc3BpbmUuQXR0YWNobWVudFRpbWVsaW5lPWZ1bmN0aW9uKGEpe3RoaXMuY3VydmVzPW5ldyBzcGluZS5DdXJ2ZXMoYSksdGhpcy5mcmFtZXM9W10sdGhpcy5mcmFtZXMubGVuZ3RoPWEsdGhpcy5hdHRhY2htZW50TmFtZXM9W10sdGhpcy5hdHRhY2htZW50TmFtZXMubGVuZ3RoPWF9LHNwaW5lLkF0dGFjaG1lbnRUaW1lbGluZS5wcm90b3R5cGU9e3Nsb3RJbmRleDowLGdldEZyYW1lQ291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mcmFtZXMubGVuZ3RofSxzZXRGcmFtZTpmdW5jdGlvbihhLGIsYyl7dGhpcy5mcmFtZXNbYV09Yix0aGlzLmF0dGFjaG1lbnROYW1lc1thXT1jfSxhcHBseTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZnJhbWVzO2lmKCEoYjxjWzBdKSl7dmFyIGQ7ZD1iPj1jW2MubGVuZ3RoLTFdP2MubGVuZ3RoLTE6c3BpbmUuYmluYXJ5U2VhcmNoKGMsYiwxKS0xO3ZhciBlPXRoaXMuYXR0YWNobWVudE5hbWVzW2RdO2Euc2xvdHNbdGhpcy5zbG90SW5kZXhdLnNldEF0dGFjaG1lbnQoZT9hLmdldEF0dGFjaG1lbnRCeVNsb3RJbmRleCh0aGlzLnNsb3RJbmRleCxlKTpudWxsKX19fSxzcGluZS5Ta2VsZXRvbkRhdGE9ZnVuY3Rpb24oKXt0aGlzLmJvbmVzPVtdLHRoaXMuc2xvdHM9W10sdGhpcy5za2lucz1bXSx0aGlzLmFuaW1hdGlvbnM9W119LHNwaW5lLlNrZWxldG9uRGF0YS5wcm90b3R5cGU9e2RlZmF1bHRTa2luOm51bGwsZmluZEJvbmU6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuYm9uZXMsYz0wLGQ9Yi5sZW5ndGg7ZD5jO2MrKylpZihiW2NdLm5hbWU9PWEpcmV0dXJuIGJbY107cmV0dXJuIG51bGx9LGZpbmRCb25lSW5kZXg6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuYm9uZXMsYz0wLGQ9Yi5sZW5ndGg7ZD5jO2MrKylpZihiW2NdLm5hbWU9PWEpcmV0dXJuIGM7cmV0dXJuLTF9LGZpbmRTbG90OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLnNsb3RzLGM9MCxkPWIubGVuZ3RoO2Q+YztjKyspaWYoYltjXS5uYW1lPT1hKXJldHVybiBiW2NdO3JldHVybiBudWxsfSxmaW5kU2xvdEluZGV4OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLnNsb3RzLGM9MCxkPWIubGVuZ3RoO2Q+YztjKyspaWYoYltjXS5uYW1lPT1hKXJldHVybiBjO3JldHVybi0xfSxmaW5kU2tpbjpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5za2lucyxjPTAsZD1iLmxlbmd0aDtkPmM7YysrKWlmKGJbY10ubmFtZT09YSlyZXR1cm4gYltjXTtyZXR1cm4gbnVsbH0sZmluZEFuaW1hdGlvbjpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5hbmltYXRpb25zLGM9MCxkPWIubGVuZ3RoO2Q+YztjKyspaWYoYltjXS5uYW1lPT1hKXJldHVybiBiW2NdO3JldHVybiBudWxsfX0sc3BpbmUuU2tlbGV0b249ZnVuY3Rpb24oYSl7dGhpcy5kYXRhPWEsdGhpcy5ib25lcz1bXTtmb3IodmFyIGI9MCxjPWEuYm9uZXMubGVuZ3RoO2M+YjtiKyspe3ZhciBkPWEuYm9uZXNbYl0sZT1kLnBhcmVudD90aGlzLmJvbmVzW2EuYm9uZXMuaW5kZXhPZihkLnBhcmVudCldOm51bGw7dGhpcy5ib25lcy5wdXNoKG5ldyBzcGluZS5Cb25lKGQsZSkpfWZvcih0aGlzLnNsb3RzPVtdLHRoaXMuZHJhd09yZGVyPVtdLGI9MCxjPWEuc2xvdHMubGVuZ3RoO2M+YjtiKyspe3ZhciBmPWEuc2xvdHNbYl0sZz10aGlzLmJvbmVzW2EuYm9uZXMuaW5kZXhPZihmLmJvbmVEYXRhKV0saD1uZXcgc3BpbmUuU2xvdChmLHRoaXMsZyk7dGhpcy5zbG90cy5wdXNoKGgpLHRoaXMuZHJhd09yZGVyLnB1c2goaCl9fSxzcGluZS5Ta2VsZXRvbi5wcm90b3R5cGU9e3g6MCx5OjAsc2tpbjpudWxsLHI6MSxnOjEsYjoxLGE6MSx0aW1lOjAsZmxpcFg6ITEsZmxpcFk6ITEsdXBkYXRlV29ybGRUcmFuc2Zvcm06ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5mbGlwWCxiPXRoaXMuZmxpcFksYz10aGlzLmJvbmVzLGQ9MCxlPWMubGVuZ3RoO2U+ZDtkKyspY1tkXS51cGRhdGVXb3JsZFRyYW5zZm9ybShhLGIpfSxzZXRUb1NldHVwUG9zZTpmdW5jdGlvbigpe3RoaXMuc2V0Qm9uZXNUb1NldHVwUG9zZSgpLHRoaXMuc2V0U2xvdHNUb1NldHVwUG9zZSgpfSxzZXRCb25lc1RvU2V0dXBQb3NlOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuYm9uZXMsYj0wLGM9YS5sZW5ndGg7Yz5iO2IrKylhW2JdLnNldFRvU2V0dXBQb3NlKCl9LHNldFNsb3RzVG9TZXR1cFBvc2U6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5zbG90cyxiPTAsYz1hLmxlbmd0aDtjPmI7YisrKWFbYl0uc2V0VG9TZXR1cFBvc2UoYil9LGdldFJvb3RCb25lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9uZXMubGVuZ3RoP3RoaXMuYm9uZXNbMF06bnVsbH0sZmluZEJvbmU6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuYm9uZXMsYz0wLGQ9Yi5sZW5ndGg7ZD5jO2MrKylpZihiW2NdLmRhdGEubmFtZT09YSlyZXR1cm4gYltjXTtyZXR1cm4gbnVsbH0sZmluZEJvbmVJbmRleDpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5ib25lcyxjPTAsZD1iLmxlbmd0aDtkPmM7YysrKWlmKGJbY10uZGF0YS5uYW1lPT1hKXJldHVybiBjO3JldHVybi0xfSxmaW5kU2xvdDpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5zbG90cyxjPTAsZD1iLmxlbmd0aDtkPmM7YysrKWlmKGJbY10uZGF0YS5uYW1lPT1hKXJldHVybiBiW2NdO3JldHVybiBudWxsfSxmaW5kU2xvdEluZGV4OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLnNsb3RzLGM9MCxkPWIubGVuZ3RoO2Q+YztjKyspaWYoYltjXS5kYXRhLm5hbWU9PWEpcmV0dXJuIGM7cmV0dXJuLTF9LHNldFNraW5CeU5hbWU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5kYXRhLmZpbmRTa2luKGEpO2lmKCFiKXRocm93XCJTa2luIG5vdCBmb3VuZDogXCIrYTt0aGlzLnNldFNraW4oYil9LHNldFNraW46ZnVuY3Rpb24oYSl7dGhpcy5za2luJiZhJiZhLl9hdHRhY2hBbGwodGhpcyx0aGlzLnNraW4pLHRoaXMuc2tpbj1hfSxnZXRBdHRhY2htZW50QnlTbG90TmFtZTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmdldEF0dGFjaG1lbnRCeVNsb3RJbmRleCh0aGlzLmRhdGEuZmluZFNsb3RJbmRleChhKSxiKX0sZ2V0QXR0YWNobWVudEJ5U2xvdEluZGV4OmZ1bmN0aW9uKGEsYil7aWYodGhpcy5za2luKXt2YXIgYz10aGlzLnNraW4uZ2V0QXR0YWNobWVudChhLGIpO2lmKGMpcmV0dXJuIGN9cmV0dXJuIHRoaXMuZGF0YS5kZWZhdWx0U2tpbj90aGlzLmRhdGEuZGVmYXVsdFNraW4uZ2V0QXR0YWNobWVudChhLGIpOm51bGx9LHNldEF0dGFjaG1lbnQ6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5zbG90cyxkPTAsZT1jLnNpemU7ZT5kO2QrKyl7dmFyIGY9Y1tkXTtpZihmLmRhdGEubmFtZT09YSl7dmFyIGc9bnVsbDtpZihiJiYoZz10aGlzLmdldEF0dGFjaG1lbnQoZCxiKSxudWxsPT1nKSl0aHJvd1wiQXR0YWNobWVudCBub3QgZm91bmQ6IFwiK2IrXCIsIGZvciBzbG90OiBcIithO3JldHVybiBmLnNldEF0dGFjaG1lbnQoZyksdm9pZCAwfX10aHJvd1wiU2xvdCBub3QgZm91bmQ6IFwiK2F9LHVwZGF0ZTpmdW5jdGlvbihhKXt0aGlzLnRpbWUrPWF9fSxzcGluZS5BdHRhY2htZW50VHlwZT17cmVnaW9uOjB9LHNwaW5lLlJlZ2lvbkF0dGFjaG1lbnQ9ZnVuY3Rpb24oKXt0aGlzLm9mZnNldD1bXSx0aGlzLm9mZnNldC5sZW5ndGg9OCx0aGlzLnV2cz1bXSx0aGlzLnV2cy5sZW5ndGg9OH0sc3BpbmUuUmVnaW9uQXR0YWNobWVudC5wcm90b3R5cGU9e3g6MCx5OjAscm90YXRpb246MCxzY2FsZVg6MSxzY2FsZVk6MSx3aWR0aDowLGhlaWdodDowLHJlbmRlcmVyT2JqZWN0Om51bGwscmVnaW9uT2Zmc2V0WDowLHJlZ2lvbk9mZnNldFk6MCxyZWdpb25XaWR0aDowLHJlZ2lvbkhlaWdodDowLHJlZ2lvbk9yaWdpbmFsV2lkdGg6MCxyZWdpb25PcmlnaW5hbEhlaWdodDowLHNldFVWczpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPXRoaXMudXZzO2U/KGZbMl09YSxmWzNdPWQsZls0XT1hLGZbNV09YixmWzZdPWMsZls3XT1iLGZbMF09YyxmWzFdPWQpOihmWzBdPWEsZlsxXT1kLGZbMl09YSxmWzNdPWIsZls0XT1jLGZbNV09YixmWzZdPWMsZls3XT1kKX0sdXBkYXRlT2Zmc2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy53aWR0aC90aGlzLnJlZ2lvbk9yaWdpbmFsV2lkdGgqdGhpcy5zY2FsZVgsYj10aGlzLmhlaWdodC90aGlzLnJlZ2lvbk9yaWdpbmFsSGVpZ2h0KnRoaXMuc2NhbGVZLGM9LXRoaXMud2lkdGgvMip0aGlzLnNjYWxlWCt0aGlzLnJlZ2lvbk9mZnNldFgqYSxkPS10aGlzLmhlaWdodC8yKnRoaXMuc2NhbGVZK3RoaXMucmVnaW9uT2Zmc2V0WSpiLGU9Yyt0aGlzLnJlZ2lvbldpZHRoKmEsZj1kK3RoaXMucmVnaW9uSGVpZ2h0KmIsZz10aGlzLnJvdGF0aW9uKk1hdGguUEkvMTgwLGg9TWF0aC5jb3MoZyksaT1NYXRoLnNpbihnKSxqPWMqaCt0aGlzLngsaz1jKmksbD1kKmgrdGhpcy55LG09ZCppLG49ZSpoK3RoaXMueCxvPWUqaSxwPWYqaCt0aGlzLnkscT1mKmkscj10aGlzLm9mZnNldDtyWzBdPWotbSxyWzFdPWwrayxyWzJdPWotcSxyWzNdPXArayxyWzRdPW4tcSxyWzVdPXArbyxyWzZdPW4tbSxyWzddPWwrb30sY29tcHV0ZVZlcnRpY2VzOmZ1bmN0aW9uKGEsYixjLGQpe2ErPWMud29ybGRYLGIrPWMud29ybGRZO3ZhciBlPWMubTAwLGY9Yy5tMDEsZz1jLm0xMCxoPWMubTExLGk9dGhpcy5vZmZzZXQ7ZFswXT1pWzBdKmUraVsxXSpmK2EsZFsxXT1pWzBdKmcraVsxXSpoK2IsZFsyXT1pWzJdKmUraVszXSpmK2EsZFszXT1pWzJdKmcraVszXSpoK2IsZFs0XT1pWzRdKmUraVs1XSpmK2EsZFs1XT1pWzRdKmcraVs1XSpoK2IsZFs2XT1pWzZdKmUraVs3XSpmK2EsZFs3XT1pWzZdKmcraVs3XSpoK2J9fSxzcGluZS5BbmltYXRpb25TdGF0ZURhdGE9ZnVuY3Rpb24oYSl7dGhpcy5za2VsZXRvbkRhdGE9YSx0aGlzLmFuaW1hdGlvblRvTWl4VGltZT17fX0sc3BpbmUuQW5pbWF0aW9uU3RhdGVEYXRhLnByb3RvdHlwZT17ZGVmYXVsdE1peDowLHNldE1peEJ5TmFtZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5za2VsZXRvbkRhdGEuZmluZEFuaW1hdGlvbihhKTtpZighZCl0aHJvd1wiQW5pbWF0aW9uIG5vdCBmb3VuZDogXCIrYTt2YXIgZT10aGlzLnNrZWxldG9uRGF0YS5maW5kQW5pbWF0aW9uKGIpO2lmKCFlKXRocm93XCJBbmltYXRpb24gbm90IGZvdW5kOiBcIitiO3RoaXMuc2V0TWl4KGQsZSxjKX0sc2V0TWl4OmZ1bmN0aW9uKGEsYixjKXt0aGlzLmFuaW1hdGlvblRvTWl4VGltZVthLm5hbWUrXCI6XCIrYi5uYW1lXT1jfSxnZXRNaXg6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmFuaW1hdGlvblRvTWl4VGltZVthLm5hbWUrXCI6XCIrYi5uYW1lXTtyZXR1cm4gYz9jOnRoaXMuZGVmYXVsdE1peH19LHNwaW5lLkFuaW1hdGlvblN0YXRlPWZ1bmN0aW9uKGEpe3RoaXMuZGF0YT1hLHRoaXMucXVldWU9W119LHNwaW5lLkFuaW1hdGlvblN0YXRlLnByb3RvdHlwZT17Y3VycmVudDpudWxsLHByZXZpb3VzOm51bGwsY3VycmVudFRpbWU6MCxwcmV2aW91c1RpbWU6MCxjdXJyZW50TG9vcDohMSxwcmV2aW91c0xvb3A6ITEsbWl4VGltZTowLG1peER1cmF0aW9uOjAsdXBkYXRlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuY3VycmVudFRpbWUrPWEsdGhpcy5wcmV2aW91c1RpbWUrPWEsdGhpcy5taXhUaW1lKz1hLHRoaXMucXVldWUubGVuZ3RoPjApe3ZhciBiPXRoaXMucXVldWVbMF07dGhpcy5jdXJyZW50VGltZT49Yi5kZWxheSYmKHRoaXMuX3NldEFuaW1hdGlvbihiLmFuaW1hdGlvbixiLmxvb3ApLHRoaXMucXVldWUuc2hpZnQoKSl9fSxhcHBseTpmdW5jdGlvbihhKXtpZih0aGlzLmN1cnJlbnQpaWYodGhpcy5wcmV2aW91cyl7dGhpcy5wcmV2aW91cy5hcHBseShhLHRoaXMucHJldmlvdXNUaW1lLHRoaXMucHJldmlvdXNMb29wKTt2YXIgYj10aGlzLm1peFRpbWUvdGhpcy5taXhEdXJhdGlvbjtiPj0xJiYoYj0xLHRoaXMucHJldmlvdXM9bnVsbCksdGhpcy5jdXJyZW50Lm1peChhLHRoaXMuY3VycmVudFRpbWUsdGhpcy5jdXJyZW50TG9vcCxiKX1lbHNlIHRoaXMuY3VycmVudC5hcHBseShhLHRoaXMuY3VycmVudFRpbWUsdGhpcy5jdXJyZW50TG9vcCl9LGNsZWFyQW5pbWF0aW9uOmZ1bmN0aW9uKCl7dGhpcy5wcmV2aW91cz1udWxsLHRoaXMuY3VycmVudD1udWxsLHRoaXMucXVldWUubGVuZ3RoPTB9LF9zZXRBbmltYXRpb246ZnVuY3Rpb24oYSxiKXt0aGlzLnByZXZpb3VzPW51bGwsYSYmdGhpcy5jdXJyZW50JiYodGhpcy5taXhEdXJhdGlvbj10aGlzLmRhdGEuZ2V0TWl4KHRoaXMuY3VycmVudCxhKSx0aGlzLm1peER1cmF0aW9uPjAmJih0aGlzLm1peFRpbWU9MCx0aGlzLnByZXZpb3VzPXRoaXMuY3VycmVudCx0aGlzLnByZXZpb3VzVGltZT10aGlzLmN1cnJlbnRUaW1lLHRoaXMucHJldmlvdXNMb29wPXRoaXMuY3VycmVudExvb3ApKSx0aGlzLmN1cnJlbnQ9YSx0aGlzLmN1cnJlbnRMb29wPWIsdGhpcy5jdXJyZW50VGltZT0wfSxzZXRBbmltYXRpb25CeU5hbWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmRhdGEuc2tlbGV0b25EYXRhLmZpbmRBbmltYXRpb24oYSk7aWYoIWMpdGhyb3dcIkFuaW1hdGlvbiBub3QgZm91bmQ6IFwiK2E7dGhpcy5zZXRBbmltYXRpb24oYyxiKX0sc2V0QW5pbWF0aW9uOmZ1bmN0aW9uKGEsYil7dGhpcy5xdWV1ZS5sZW5ndGg9MCx0aGlzLl9zZXRBbmltYXRpb24oYSxiKX0sYWRkQW5pbWF0aW9uQnlOYW1lOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmRhdGEuc2tlbGV0b25EYXRhLmZpbmRBbmltYXRpb24oYSk7aWYoIWQpdGhyb3dcIkFuaW1hdGlvbiBub3QgZm91bmQ6IFwiK2E7dGhpcy5hZGRBbmltYXRpb24oZCxiLGMpfSxhZGRBbmltYXRpb246ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXt9O2lmKGQuYW5pbWF0aW9uPWEsZC5sb29wPWIsIWN8fDA+PWMpe3ZhciBlPXRoaXMucXVldWUubGVuZ3RoP3RoaXMucXVldWVbdGhpcy5xdWV1ZS5sZW5ndGgtMV0uYW5pbWF0aW9uOnRoaXMuY3VycmVudDtjPW51bGwhPWU/ZS5kdXJhdGlvbi10aGlzLmRhdGEuZ2V0TWl4KGUsYSkrKGN8fDApOjB9ZC5kZWxheT1jLHRoaXMucXVldWUucHVzaChkKX0saXNDb21wbGV0ZTpmdW5jdGlvbigpe3JldHVybiF0aGlzLmN1cnJlbnR8fHRoaXMuY3VycmVudFRpbWU+PXRoaXMuY3VycmVudC5kdXJhdGlvbn19LHNwaW5lLlNrZWxldG9uSnNvbj1mdW5jdGlvbihhKXt0aGlzLmF0dGFjaG1lbnRMb2FkZXI9YX0sc3BpbmUuU2tlbGV0b25Kc29uLnByb3RvdHlwZT17c2NhbGU6MSxyZWFkU2tlbGV0b25EYXRhOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPW5ldyBzcGluZS5Ta2VsZXRvbkRhdGEsZD1hLmJvbmVzLGU9MCxmPWQubGVuZ3RoO2Y+ZTtlKyspe3ZhciBnPWRbZV0saD1udWxsO2lmKGcucGFyZW50JiYoaD1jLmZpbmRCb25lKGcucGFyZW50KSwhaCkpdGhyb3dcIlBhcmVudCBib25lIG5vdCBmb3VuZDogXCIrZy5wYXJlbnQ7Yj1uZXcgc3BpbmUuQm9uZURhdGEoZy5uYW1lLGgpLGIubGVuZ3RoPShnLmxlbmd0aHx8MCkqdGhpcy5zY2FsZSxiLng9KGcueHx8MCkqdGhpcy5zY2FsZSxiLnk9KGcueXx8MCkqdGhpcy5zY2FsZSxiLnJvdGF0aW9uPWcucm90YXRpb258fDAsYi5zY2FsZVg9Zy5zY2FsZVh8fDEsYi5zY2FsZVk9Zy5zY2FsZVl8fDEsYy5ib25lcy5wdXNoKGIpfXZhciBpPWEuc2xvdHM7Zm9yKGU9MCxmPWkubGVuZ3RoO2Y+ZTtlKyspe3ZhciBqPWlbZV07aWYoYj1jLmZpbmRCb25lKGouYm9uZSksIWIpdGhyb3dcIlNsb3QgYm9uZSBub3QgZm91bmQ6IFwiK2ouYm9uZTt2YXIgaz1uZXcgc3BpbmUuU2xvdERhdGEoai5uYW1lLGIpLGw9ai5jb2xvcjtsJiYoay5yPXNwaW5lLlNrZWxldG9uSnNvbi50b0NvbG9yKGwsMCksay5nPXNwaW5lLlNrZWxldG9uSnNvbi50b0NvbG9yKGwsMSksay5iPXNwaW5lLlNrZWxldG9uSnNvbi50b0NvbG9yKGwsMiksay5hPXNwaW5lLlNrZWxldG9uSnNvbi50b0NvbG9yKGwsMykpLGsuYXR0YWNobWVudE5hbWU9ai5hdHRhY2htZW50LGMuc2xvdHMucHVzaChrKX12YXIgbT1hLnNraW5zO2Zvcih2YXIgbiBpbiBtKWlmKG0uaGFzT3duUHJvcGVydHkobikpe3ZhciBvPW1bbl0scD1uZXcgc3BpbmUuU2tpbihuKTtmb3IodmFyIHEgaW4gbylpZihvLmhhc093blByb3BlcnR5KHEpKXt2YXIgcj1jLmZpbmRTbG90SW5kZXgocSkscz1vW3FdO2Zvcih2YXIgdCBpbiBzKWlmKHMuaGFzT3duUHJvcGVydHkodCkpe3ZhciB1PXRoaXMucmVhZEF0dGFjaG1lbnQocCx0LHNbdF0pO251bGwhPXUmJnAuYWRkQXR0YWNobWVudChyLHQsdSl9fWMuc2tpbnMucHVzaChwKSxcImRlZmF1bHRcIj09cC5uYW1lJiYoYy5kZWZhdWx0U2tpbj1wKX12YXIgdj1hLmFuaW1hdGlvbnM7Zm9yKHZhciB3IGluIHYpdi5oYXNPd25Qcm9wZXJ0eSh3KSYmdGhpcy5yZWFkQW5pbWF0aW9uKHcsdlt3XSxjKTtyZXR1cm4gY30scmVhZEF0dGFjaG1lbnQ6ZnVuY3Rpb24oYSxiLGMpe2I9Yy5uYW1lfHxiO3ZhciBkPXNwaW5lLkF0dGFjaG1lbnRUeXBlW2MudHlwZXx8XCJyZWdpb25cIl07aWYoZD09c3BpbmUuQXR0YWNobWVudFR5cGUucmVnaW9uKXt2YXIgZT1uZXcgc3BpbmUuUmVnaW9uQXR0YWNobWVudDtyZXR1cm4gZS54PShjLnh8fDApKnRoaXMuc2NhbGUsZS55PShjLnl8fDApKnRoaXMuc2NhbGUsZS5zY2FsZVg9Yy5zY2FsZVh8fDEsZS5zY2FsZVk9Yy5zY2FsZVl8fDEsZS5yb3RhdGlvbj1jLnJvdGF0aW9ufHwwLGUud2lkdGg9KGMud2lkdGh8fDMyKSp0aGlzLnNjYWxlLGUuaGVpZ2h0PShjLmhlaWdodHx8MzIpKnRoaXMuc2NhbGUsZS51cGRhdGVPZmZzZXQoKSxlLnJlbmRlcmVyT2JqZWN0PXt9LGUucmVuZGVyZXJPYmplY3QubmFtZT1iLGUucmVuZGVyZXJPYmplY3Quc2NhbGU9e30sZS5yZW5kZXJlck9iamVjdC5zY2FsZS54PWUuc2NhbGVYLGUucmVuZGVyZXJPYmplY3Quc2NhbGUueT1lLnNjYWxlWSxlLnJlbmRlcmVyT2JqZWN0LnJvdGF0aW9uPS1lLnJvdGF0aW9uKk1hdGguUEkvMTgwLGV9dGhyb3dcIlVua25vd24gYXR0YWNobWVudCB0eXBlOiBcIitkfSxyZWFkQW5pbWF0aW9uOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrPVtdLGw9MCxtPWIuYm9uZXM7Zm9yKHZhciBuIGluIG0paWYobS5oYXNPd25Qcm9wZXJ0eShuKSl7dmFyIG89Yy5maW5kQm9uZUluZGV4KG4pO2lmKC0xPT1vKXRocm93XCJCb25lIG5vdCBmb3VuZDogXCIrbjt2YXIgcD1tW25dO2ZvcihmIGluIHApaWYocC5oYXNPd25Qcm9wZXJ0eShmKSlpZihoPXBbZl0sXCJyb3RhdGVcIj09Zil7Zm9yKGU9bmV3IHNwaW5lLlJvdGF0ZVRpbWVsaW5lKGgubGVuZ3RoKSxlLmJvbmVJbmRleD1vLGQ9MCxpPTAsaj1oLmxlbmd0aDtqPmk7aSsrKWc9aFtpXSxlLnNldEZyYW1lKGQsZy50aW1lLGcuYW5nbGUpLHNwaW5lLlNrZWxldG9uSnNvbi5yZWFkQ3VydmUoZSxkLGcpLGQrKztrLnB1c2goZSksbD1NYXRoLm1heChsLGUuZnJhbWVzWzIqZS5nZXRGcmFtZUNvdW50KCktMl0pfWVsc2V7aWYoXCJ0cmFuc2xhdGVcIiE9ZiYmXCJzY2FsZVwiIT1mKXRocm93XCJJbnZhbGlkIHRpbWVsaW5lIHR5cGUgZm9yIGEgYm9uZTogXCIrZitcIiAoXCIrbitcIilcIjt2YXIgcT0xO2ZvcihcInNjYWxlXCI9PWY/ZT1uZXcgc3BpbmUuU2NhbGVUaW1lbGluZShoLmxlbmd0aCk6KGU9bmV3IHNwaW5lLlRyYW5zbGF0ZVRpbWVsaW5lKGgubGVuZ3RoKSxxPXRoaXMuc2NhbGUpLGUuYm9uZUluZGV4PW8sZD0wLGk9MCxqPWgubGVuZ3RoO2o+aTtpKyspe2c9aFtpXTt2YXIgcj0oZy54fHwwKSpxLHM9KGcueXx8MCkqcTtlLnNldEZyYW1lKGQsZy50aW1lLHIscyksc3BpbmUuU2tlbGV0b25Kc29uLnJlYWRDdXJ2ZShlLGQsZyksZCsrfWsucHVzaChlKSxsPU1hdGgubWF4KGwsZS5mcmFtZXNbMyplLmdldEZyYW1lQ291bnQoKS0zXSl9fXZhciB0PWIuc2xvdHM7Zm9yKHZhciB1IGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eSh1KSl7dmFyIHY9dFt1XSx3PWMuZmluZFNsb3RJbmRleCh1KTtmb3IoZiBpbiB2KWlmKHYuaGFzT3duUHJvcGVydHkoZikpaWYoaD12W2ZdLFwiY29sb3JcIj09Zil7Zm9yKGU9bmV3IHNwaW5lLkNvbG9yVGltZWxpbmUoaC5sZW5ndGgpLGUuc2xvdEluZGV4PXcsZD0wLGk9MCxqPWgubGVuZ3RoO2o+aTtpKyspe2c9aFtpXTt2YXIgeD1nLmNvbG9yLHk9c3BpbmUuU2tlbGV0b25Kc29uLnRvQ29sb3IoeCwwKSx6PXNwaW5lLlNrZWxldG9uSnNvbi50b0NvbG9yKHgsMSksQT1zcGluZS5Ta2VsZXRvbkpzb24udG9Db2xvcih4LDIpLEI9c3BpbmUuU2tlbGV0b25Kc29uLnRvQ29sb3IoeCwzKTtlLnNldEZyYW1lKGQsZy50aW1lLHkseixBLEIpLHNwaW5lLlNrZWxldG9uSnNvbi5yZWFkQ3VydmUoZSxkLGcpLGQrK31rLnB1c2goZSksbD1NYXRoLm1heChsLGUuZnJhbWVzWzUqZS5nZXRGcmFtZUNvdW50KCktNV0pfWVsc2V7aWYoXCJhdHRhY2htZW50XCIhPWYpdGhyb3dcIkludmFsaWQgdGltZWxpbmUgdHlwZSBmb3IgYSBzbG90OiBcIitmK1wiIChcIit1K1wiKVwiO2ZvcihlPW5ldyBzcGluZS5BdHRhY2htZW50VGltZWxpbmUoaC5sZW5ndGgpLGUuc2xvdEluZGV4PXcsZD0wLGk9MCxqPWgubGVuZ3RoO2o+aTtpKyspZz1oW2ldLGUuc2V0RnJhbWUoZCsrLGcudGltZSxnLm5hbWUpO2sucHVzaChlKSxsPU1hdGgubWF4KGwsZS5mcmFtZXNbZS5nZXRGcmFtZUNvdW50KCktMV0pfX1jLmFuaW1hdGlvbnMucHVzaChuZXcgc3BpbmUuQW5pbWF0aW9uKGEsayxsKSl9fSxzcGluZS5Ta2VsZXRvbkpzb24ucmVhZEN1cnZlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jLmN1cnZlO2QmJihcInN0ZXBwZWRcIj09ZD9hLmN1cnZlcy5zZXRTdGVwcGVkKGIpOmQgaW5zdGFuY2VvZiBBcnJheSYmYS5jdXJ2ZXMuc2V0Q3VydmUoYixkWzBdLGRbMV0sZFsyXSxkWzNdKSl9LHNwaW5lLlNrZWxldG9uSnNvbi50b0NvbG9yPWZ1bmN0aW9uKGEsYil7aWYoOCE9YS5sZW5ndGgpdGhyb3dcIkNvbG9yIGhleGlkZWNpbWFsIGxlbmd0aCBtdXN0IGJlIDgsIHJlY2lldmVkOiBcIithO3JldHVybiBwYXJzZUludChhLnN1YnN0cmluZygyKmIsMiksMTYpLzI1NX0sc3BpbmUuQXRsYXM9ZnVuY3Rpb24oYSxiKXt0aGlzLnRleHR1cmVMb2FkZXI9Yix0aGlzLnBhZ2VzPVtdLHRoaXMucmVnaW9ucz1bXTt2YXIgYz1uZXcgc3BpbmUuQXRsYXNSZWFkZXIoYSksZD1bXTtkLmxlbmd0aD00O2Zvcih2YXIgZT1udWxsOzspe3ZhciBmPWMucmVhZExpbmUoKTtpZihudWxsPT1mKWJyZWFrO2lmKGY9Yy50cmltKGYpLGYubGVuZ3RoKWlmKGUpe3ZhciBnPW5ldyBzcGluZS5BdGxhc1JlZ2lvbjtnLm5hbWU9ZixnLnBhZ2U9ZSxnLnJvdGF0ZT1cInRydWVcIj09Yy5yZWFkVmFsdWUoKSxjLnJlYWRUdXBsZShkKTt2YXIgaD1wYXJzZUludChkWzBdLDEwKSxpPXBhcnNlSW50KGRbMV0sMTApO2MucmVhZFR1cGxlKGQpO3ZhciBqPXBhcnNlSW50KGRbMF0sMTApLGs9cGFyc2VJbnQoZFsxXSwxMCk7Zy51PWgvZS53aWR0aCxnLnY9aS9lLmhlaWdodCxnLnJvdGF0ZT8oZy51Mj0oaCtrKS9lLndpZHRoLGcudjI9KGkraikvZS5oZWlnaHQpOihnLnUyPShoK2opL2Uud2lkdGgsZy52Mj0oaStrKS9lLmhlaWdodCksZy54PWgsZy55PWksZy53aWR0aD1NYXRoLmFicyhqKSxnLmhlaWdodD1NYXRoLmFicyhrKSw0PT1jLnJlYWRUdXBsZShkKSYmKGcuc3BsaXRzPVtwYXJzZUludChkWzBdLDEwKSxwYXJzZUludChkWzFdLDEwKSxwYXJzZUludChkWzJdLDEwKSxwYXJzZUludChkWzNdLDEwKV0sND09Yy5yZWFkVHVwbGUoZCkmJihnLnBhZHM9W3BhcnNlSW50KGRbMF0sMTApLHBhcnNlSW50KGRbMV0sMTApLHBhcnNlSW50KGRbMl0sMTApLHBhcnNlSW50KGRbM10sMTApXSxjLnJlYWRUdXBsZShkKSkpLGcub3JpZ2luYWxXaWR0aD1wYXJzZUludChkWzBdLDEwKSxnLm9yaWdpbmFsSGVpZ2h0PXBhcnNlSW50KGRbMV0sMTApLGMucmVhZFR1cGxlKGQpLGcub2Zmc2V0WD1wYXJzZUludChkWzBdLDEwKSxnLm9mZnNldFk9cGFyc2VJbnQoZFsxXSwxMCksZy5pbmRleD1wYXJzZUludChjLnJlYWRWYWx1ZSgpLDEwKSx0aGlzLnJlZ2lvbnMucHVzaChnKX1lbHNle2U9bmV3IHNwaW5lLkF0bGFzUGFnZSxlLm5hbWU9ZixlLmZvcm1hdD1zcGluZS5BdGxhcy5Gb3JtYXRbYy5yZWFkVmFsdWUoKV0sYy5yZWFkVHVwbGUoZCksZS5taW5GaWx0ZXI9c3BpbmUuQXRsYXMuVGV4dHVyZUZpbHRlcltkWzBdXSxlLm1hZ0ZpbHRlcj1zcGluZS5BdGxhcy5UZXh0dXJlRmlsdGVyW2RbMV1dO3ZhciBsPWMucmVhZFZhbHVlKCk7ZS51V3JhcD1zcGluZS5BdGxhcy5UZXh0dXJlV3JhcC5jbGFtcFRvRWRnZSxlLnZXcmFwPXNwaW5lLkF0bGFzLlRleHR1cmVXcmFwLmNsYW1wVG9FZGdlLFwieFwiPT1sP2UudVdyYXA9c3BpbmUuQXRsYXMuVGV4dHVyZVdyYXAucmVwZWF0OlwieVwiPT1sP2UudldyYXA9c3BpbmUuQXRsYXMuVGV4dHVyZVdyYXAucmVwZWF0OlwieHlcIj09bCYmKGUudVdyYXA9ZS52V3JhcD1zcGluZS5BdGxhcy5UZXh0dXJlV3JhcC5yZXBlYXQpLGIubG9hZChlLGYpLHRoaXMucGFnZXMucHVzaChlKX1lbHNlIGU9bnVsbH19LHNwaW5lLkF0bGFzLnByb3RvdHlwZT17ZmluZFJlZ2lvbjpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5yZWdpb25zLGM9MCxkPWIubGVuZ3RoO2Q+YztjKyspaWYoYltjXS5uYW1lPT1hKXJldHVybiBiW2NdO3JldHVybiBudWxsfSxkaXNwb3NlOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMucGFnZXMsYj0wLGM9YS5sZW5ndGg7Yz5iO2IrKyl0aGlzLnRleHR1cmVMb2FkZXIudW5sb2FkKGFbYl0ucmVuZGVyZXJPYmplY3QpfSx1cGRhdGVVVnM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMucmVnaW9ucyxjPTAsZD1iLmxlbmd0aDtkPmM7YysrKXt2YXIgZT1iW2NdO2UucGFnZT09YSYmKGUudT1lLngvYS53aWR0aCxlLnY9ZS55L2EuaGVpZ2h0LGUucm90YXRlPyhlLnUyPShlLngrZS5oZWlnaHQpL2Eud2lkdGgsZS52Mj0oZS55K2Uud2lkdGgpL2EuaGVpZ2h0KTooZS51Mj0oZS54K2Uud2lkdGgpL2Eud2lkdGgsZS52Mj0oZS55K2UuaGVpZ2h0KS9hLmhlaWdodCkpfX19LHNwaW5lLkF0bGFzLkZvcm1hdD17YWxwaGE6MCxpbnRlbnNpdHk6MSxsdW1pbmFuY2VBbHBoYToyLHJnYjU2NTozLHJnYmE0NDQ0OjQscmdiODg4OjUscmdiYTg4ODg6Nn0sc3BpbmUuQXRsYXMuVGV4dHVyZUZpbHRlcj17bmVhcmVzdDowLGxpbmVhcjoxLG1pcE1hcDoyLG1pcE1hcE5lYXJlc3ROZWFyZXN0OjMsbWlwTWFwTGluZWFyTmVhcmVzdDo0LG1pcE1hcE5lYXJlc3RMaW5lYXI6NSxtaXBNYXBMaW5lYXJMaW5lYXI6Nn0sc3BpbmUuQXRsYXMuVGV4dHVyZVdyYXA9e21pcnJvcmVkUmVwZWF0OjAsY2xhbXBUb0VkZ2U6MSxyZXBlYXQ6Mn0sc3BpbmUuQXRsYXNQYWdlPWZ1bmN0aW9uKCl7fSxzcGluZS5BdGxhc1BhZ2UucHJvdG90eXBlPXtuYW1lOm51bGwsZm9ybWF0Om51bGwsbWluRmlsdGVyOm51bGwsbWFnRmlsdGVyOm51bGwsdVdyYXA6bnVsbCx2V3JhcDpudWxsLHJlbmRlcmVyT2JqZWN0Om51bGwsd2lkdGg6MCxoZWlnaHQ6MH0sc3BpbmUuQXRsYXNSZWdpb249ZnVuY3Rpb24oKXt9LHNwaW5lLkF0bGFzUmVnaW9uLnByb3RvdHlwZT17cGFnZTpudWxsLG5hbWU6bnVsbCx4OjAseTowLHdpZHRoOjAsaGVpZ2h0OjAsdTowLHY6MCx1MjowLHYyOjAsb2Zmc2V0WDowLG9mZnNldFk6MCxvcmlnaW5hbFdpZHRoOjAsb3JpZ2luYWxIZWlnaHQ6MCxpbmRleDowLHJvdGF0ZTohMSxzcGxpdHM6bnVsbCxwYWRzOm51bGx9LHNwaW5lLkF0bGFzUmVhZGVyPWZ1bmN0aW9uKGEpe3RoaXMubGluZXM9YS5zcGxpdCgvXFxyXFxufFxccnxcXG4vKX0sc3BpbmUuQXRsYXNSZWFkZXIucHJvdG90eXBlPXtpbmRleDowLHRyaW06ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXlxccyt8XFxzKyQvZyxcIlwiKX0scmVhZExpbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbmRleD49dGhpcy5saW5lcy5sZW5ndGg/bnVsbDp0aGlzLmxpbmVzW3RoaXMuaW5kZXgrK119LHJlYWRWYWx1ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMucmVhZExpbmUoKSxiPWEuaW5kZXhPZihcIjpcIik7aWYoLTE9PWIpdGhyb3dcIkludmFsaWQgbGluZTogXCIrYTtyZXR1cm4gdGhpcy50cmltKGEuc3Vic3RyaW5nKGIrMSkpfSxyZWFkVHVwbGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5yZWFkTGluZSgpLGM9Yi5pbmRleE9mKFwiOlwiKTtpZigtMT09Yyl0aHJvd1wiSW52YWxpZCBsaW5lOiBcIitiO2Zvcih2YXIgZD0wLGU9YysxOzM+ZDtkKyspe3ZhciBmPWIuaW5kZXhPZihcIixcIixlKTtpZigtMT09Zil7aWYoIWQpdGhyb3dcIkludmFsaWQgbGluZTogXCIrYjticmVha31hW2RdPXRoaXMudHJpbShiLnN1YnN0cihlLGYtZSkpLGU9ZisxfXJldHVybiBhW2RdPXRoaXMudHJpbShiLnN1YnN0cmluZyhlKSksZCsxfX0sc3BpbmUuQXRsYXNBdHRhY2htZW50TG9hZGVyPWZ1bmN0aW9uKGEpe3RoaXMuYXRsYXM9YX0sc3BpbmUuQXRsYXNBdHRhY2htZW50TG9hZGVyLnByb3RvdHlwZT17bmV3QXR0YWNobWVudDpmdW5jdGlvbihhLGIsYyl7c3dpdGNoKGIpe2Nhc2Ugc3BpbmUuQXR0YWNobWVudFR5cGUucmVnaW9uOnZhciBkPXRoaXMuYXRsYXMuZmluZFJlZ2lvbihjKTtpZighZCl0aHJvd1wiUmVnaW9uIG5vdCBmb3VuZCBpbiBhdGxhczogXCIrYytcIiAoXCIrYitcIilcIjt2YXIgZT1uZXcgc3BpbmUuUmVnaW9uQXR0YWNobWVudChjKTtyZXR1cm4gZS5yZW5kZXJlck9iamVjdD1kLGUuc2V0VVZzKGQudSxkLnYsZC51MixkLnYyLGQucm90YXRlKSxlLnJlZ2lvbk9mZnNldFg9ZC5vZmZzZXRYLGUucmVnaW9uT2Zmc2V0WT1kLm9mZnNldFksZS5yZWdpb25XaWR0aD1kLndpZHRoLGUucmVnaW9uSGVpZ2h0PWQuaGVpZ2h0LGUucmVnaW9uT3JpZ2luYWxXaWR0aD1kLm9yaWdpbmFsV2lkdGgsZS5yZWdpb25PcmlnaW5hbEhlaWdodD1kLm9yaWdpbmFsSGVpZ2h0LGV9dGhyb3dcIlVua25vd24gYXR0YWNobWVudCB0eXBlOiBcIitifX0sc3BpbmUuQm9uZS55RG93bj0hMDsiLCJ2YXIgUElYSSA9IHJlcXVpcmUoXCJwaXhpXCIpO1xudmFyIEZ1bmN0aW9uVXRpbCA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9GdW5jdGlvblV0aWxcIik7XG52YXIgUGl4aUFwcCA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9QaXhpQXBwXCIpO1xudmFyIE5ldFBva2VyQ2xpZW50VmlldyA9IHJlcXVpcmUoXCIuLi92aWV3L05ldFBva2VyQ2xpZW50Vmlld1wiKTtcbnZhciBOZXRQb2tlckNsaWVudENvbnRyb2xsZXIgPSByZXF1aXJlKFwiLi4vY29udHJvbGxlci9OZXRQb2tlckNsaWVudENvbnRyb2xsZXJcIik7XG52YXIgTWVzc2FnZVdlYlNvY2tldENvbm5lY3Rpb24gPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvTWVzc2FnZVdlYlNvY2tldENvbm5lY3Rpb25cIik7XG52YXIgUHJvdG9Db25uZWN0aW9uID0gcmVxdWlyZShcIi4uLy4uL3Byb3RvL1Byb3RvQ29ubmVjdGlvblwiKTtcblxuLyoqXG4gKiBNYWluIGVudHJ5IHBvaW50IGZvciBjbGllbnQuXG4gKiBAY2xhc3MgTmV0UG9rZXJDbGllbnRcbiAqL1xuZnVuY3Rpb24gTmV0UG9rZXJDbGllbnQoKSB7XG5cdFBpeGlBcHAuY2FsbCh0aGlzLCA5NjAsIDcyMCk7XG5cblx0dmFyIGFzc2V0cyA9IFtcblx0XHRcInRhYmxlLnBuZ1wiLFxuXHRcdFwiY29tcG9uZW50cy5wbmdcIlxuXHRdO1xuXG5cdHRoaXMuYXNzZXRMb2FkZXIgPSBuZXcgUElYSS5Bc3NldExvYWRlcihhc3NldHMpO1xuXHR0aGlzLmFzc2V0TG9hZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJvbkNvbXBsZXRlXCIsIHRoaXMub25Bc3NldExvYWRlckNvbXBsZXRlLmJpbmQodGhpcykpO1xuXHR0aGlzLmFzc2V0TG9hZGVyLmxvYWQoKTtcbn1cblxuRnVuY3Rpb25VdGlsLmV4dGVuZChOZXRQb2tlckNsaWVudCwgUGl4aUFwcCk7XG5cbk5ldFBva2VyQ2xpZW50LnByb3RvdHlwZS5vbkFzc2V0TG9hZGVyQ29tcGxldGUgPSBmdW5jdGlvbigpIHtcblx0Y29uc29sZS5sb2coXCJhc3NldCBsb2FkZXIgY29tcGxldGUuLi5cIik7XG5cblx0dGhpcy5uZXRQb2tlckNsaWVudFZpZXcgPSBuZXcgTmV0UG9rZXJDbGllbnRWaWV3KCk7XG5cdHRoaXMuYWRkQ2hpbGQodGhpcy5uZXRQb2tlckNsaWVudFZpZXcpO1xuXG5cdHRoaXMubmV0UG9rZXJDbGllbnRDb250cm9sbGVyID0gbmV3IE5ldFBva2VyQ2xpZW50Q29udHJvbGxlcih0aGlzLm5ldFBva2VyQ2xpZW50Vmlldyk7XG5cblx0dGhpcy5jb25uZWN0aW9uID0gbmV3IE1lc3NhZ2VXZWJTb2NrZXRDb25uZWN0aW9uKCk7XG5cdHRoaXMuY29ubmVjdGlvbi5vbihNZXNzYWdlV2ViU29ja2V0Q29ubmVjdGlvbi5DT05ORUNULCB0aGlzLm9uQ29ubmVjdGlvbkNvbm5lY3QsIHRoaXMpO1xuXHR0aGlzLmNvbm5lY3Rpb24uY29ubmVjdChORVRfUE9LRVJfVVJMKTtcbn1cblxuTmV0UG9rZXJDbGllbnQucHJvdG90eXBlLm9uQ29ubmVjdGlvbkNvbm5lY3QgPSBmdW5jdGlvbigpIHtcblx0Y29uc29sZS5sb2coXCIqKioqIGNvbm5lY3RlZFwiKTtcblx0dGhpcy5wcm90b0Nvbm5lY3Rpb24gPSBuZXcgUHJvdG9Db25uZWN0aW9uKHRoaXMuY29ubmVjdGlvbik7XG5cdHRoaXMubmV0UG9rZXJDbGllbnRDb250cm9sbGVyLnNldFByb3RvQ29ubmVjdGlvbih0aGlzLnByb3RvQ29ubmVjdGlvbik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTmV0UG9rZXJDbGllbnQ7IiwidmFyIEV2ZW50RGlzcGF0Y2hlciA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9FdmVudERpc3BhdGNoZXJcIik7XG52YXIgRnVuY3Rpb25VdGlsID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL0Z1bmN0aW9uVXRpbFwiKTtcbnZhciBTZXF1ZW5jZXIgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvU2VxdWVuY2VyXCIpO1xuXG4vKipcbiAqIEFuIGl0ZW0gaW4gYSBtZXNzYWdlIHNlcXVlbmNlLlxuICogQGNsYXNzIE1lc3NhZ2VTZXF1ZW5jZUl0ZW1cbiAqL1xuZnVuY3Rpb24gTWVzc2FnZVNlcXVlbmNlSXRlbShtZXNzYWdlKSB7XG5cdEV2ZW50RGlzcGF0Y2hlci5jYWxsKHRoaXMpO1xuXHR0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuXHR0aGlzLndhaXRUYXJnZXQgPSBudWxsO1xuXHR0aGlzLndhaXRFdmVudCA9IG51bGw7XG5cdHRoaXMud2FpdENsb3N1cmUgPSBudWxsO1xufVxuXG5GdW5jdGlvblV0aWwuZXh0ZW5kKE1lc3NhZ2VTZXF1ZW5jZUl0ZW0sIEV2ZW50RGlzcGF0Y2hlcik7XG5cbi8qKlxuICogR2V0IG1lc3NhZ2UuXG4gKi9cbk1lc3NhZ2VTZXF1ZW5jZUl0ZW0ucHJvdG90eXBlLmdldE1lc3NhZ2UgPSBmdW5jdGlvbigpIHtcblx0Ly9jb25zb2xlLmxvZyhcImdldHRpbmc6IFwiICsgdGhpcy5tZXNzYWdlLnR5cGUpO1xuXG5cdHJldHVybiB0aGlzLm1lc3NhZ2U7XG59XG5cbi8qKlxuICogQXJlIHdlIHdhaXRpbmcgZm9yIGFuIGV2ZW50P1xuICovXG5NZXNzYWdlU2VxdWVuY2VJdGVtLnByb3RvdHlwZS5pc1dhaXRpbmcgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMud2FpdEV2ZW50ICE9IG51bGw7XG59XG5cbi8qKlxuICogTm90aWZ5IGNvbXBsZXRlLlxuICogQG1ldGhvZCBub3RpZnlDb21wbGV0ZVxuICovXG5NZXNzYWdlU2VxdWVuY2VJdGVtLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLnRyaWdnZXIoU2VxdWVuY2VyLkNPTVBMRVRFKTtcbn1cblxuLyoqXG4gKiBXYWl0IGZvciBldmVudC5cbiAqL1xuTWVzc2FnZVNlcXVlbmNlSXRlbS5wcm90b3R5cGUud2FpdEZvciA9IGZ1bmN0aW9uKHRhcmdldCwgZXZlbnQpIHtcblx0dGhpcy53YWl0VGFyZ2V0ID0gdGFyZ2V0O1xuXHR0aGlzLndhaXRFdmVudCA9IGV2ZW50O1xuXHR0aGlzLndhaXRDbG9zdXJlID0gdGhpcy5vblRhcmdldENvbXBsZXRlLmJpbmQodGhpcyk7XG5cblx0dGhpcy53YWl0VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodGhpcy53YWl0RXZlbnQsIHRoaXMud2FpdENsb3N1cmUpO1xufVxuXG4vKipcbiAqIFdhaXQgdGFyZ2V0IGNvbXBsZXRlLlxuICogQG1ldGhvZCBvblRhcmdldENvbXBsZXRlXG4gKiBAcHJpdmF0ZVxuICovXG5NZXNzYWdlU2VxdWVuY2VJdGVtLnByb3RvdHlwZS5vblRhcmdldENvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG5cdC8vY29uc29sZS5sb2coXCJ0YXJnZXQgaXMgY29tcGxldGVcIik7XG5cdHRoaXMud2FpdFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMud2FpdEV2ZW50LCB0aGlzLndhaXRDbG9zdXJlKTtcblx0dGhpcy5ub3RpZnlDb21wbGV0ZSgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE1lc3NhZ2VTZXF1ZW5jZUl0ZW07IiwidmFyIFNlcXVlbmNlciA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9TZXF1ZW5jZXJcIik7XG52YXIgRXZlbnREaXNwYXRjaGVyID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL0V2ZW50ZGlzcGF0Y2hlclwiKTtcbnZhciBNZXNzYWdlU2VxdWVuY2VJdGVtID0gcmVxdWlyZShcIi4vTWVzc2FnZVNlcXVlbmNlSXRlbVwiKTtcblxuLyoqXG4gKiBTZXF1ZW5jZXMgbWVzc2FnZXMuXG4gKi9cbmZ1bmN0aW9uIE1lc3NhZ2VTZXF1ZW5jZXIoKSB7XG5cdHRoaXMuc2VxdWVuY2VyID0gbmV3IFNlcXVlbmNlcigpO1xuXHR0aGlzLm1lc3NhZ2VEaXNwYXRjaGVyID0gbmV3IEV2ZW50RGlzcGF0Y2hlcigpO1xuXHR0aGlzLmN1cnJlbnRJdGVtID0gbnVsbDtcbn1cblxuLyoqXG4gKiBBZGQgYSBtZXNzYWdlIGZvciBwcm9jZXNpbmcuXG4gKiBAbWV0aG9kIGVucXVldWVcbiAqL1xuTWVzc2FnZVNlcXVlbmNlci5wcm90b3R5cGUuZW5xdWV1ZSA9IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcblx0aWYgKCFtZXNzYWdlLnR5cGUpXG5cdFx0dGhyb3cgXCJNZXNzYWdlIGRvZXNuJ3QgaGF2ZSBhIHR5cGVcIjtcblxuXHR2YXIgc2VxdWVuY2VJdGVtID0gbmV3IE1lc3NhZ2VTZXF1ZW5jZUl0ZW0obWVzc2FnZSk7XG5cblx0c2VxdWVuY2VJdGVtLm9uKFNlcXVlbmNlci5TVEFSVCwgdGhpcy5vblNlcXVlbmNlSXRlbVN0YXJ0LCB0aGlzKTtcblxuXHR0aGlzLnNlcXVlbmNlci5lbnF1ZXVlKHNlcXVlbmNlSXRlbSk7XG59XG5cbi8qKlxuICogU2VxdWVuY2UgaXRlbSBzdGFydC5cbiAqIEBtZXRob2Qgb25TZXF1ZW5jZUl0ZW1TdGFydFxuICogQHByaXZhdGVcbiAqL1xuTWVzc2FnZVNlcXVlbmNlci5wcm90b3R5cGUub25TZXF1ZW5jZUl0ZW1TdGFydCA9IGZ1bmN0aW9uKGUpIHtcblx0Ly9jb25zb2xlLmxvZyhcInN0YXJ0aW5nIGl0ZW0uLi5cIik7XG5cdHZhciBpdGVtID0gZS50YXJnZXQ7XG5cblx0aXRlbS5vZmYoU2VxdWVuY2VyLlNUQVJULCB0aGlzLm9uU2VxdWVuY2VJdGVtU3RhcnQsIHRoaXMpO1xuXG5cdHRoaXMuY3VycmVudEl0ZW0gPSBpdGVtO1xuXHR0aGlzLm1lc3NhZ2VEaXNwYXRjaGVyLnRyaWdnZXIoaXRlbS5nZXRNZXNzYWdlKCkpO1xuXHR0aGlzLmN1cnJlbnRJdGVtID0gbnVsbDtcblxuXHRpZiAoIWl0ZW0uaXNXYWl0aW5nKCkpXG5cdFx0aXRlbS5ub3RpZnlDb21wbGV0ZSgpO1xufVxuXG4vKipcbiAqIEFkZCBtZXNzYWdlIGhhbmRsZXIuXG4gKiBAbWV0aG9kIGFkZE1lc3NhZ2VIYW5kbGVyXG4gKi9cbk1lc3NhZ2VTZXF1ZW5jZXIucHJvdG90eXBlLmFkZE1lc3NhZ2VIYW5kbGVyID0gZnVuY3Rpb24obWVzc2FnZVR5cGUsIGhhbmRsZXIsIHNjb3BlKSB7XG5cdHRoaXMubWVzc2FnZURpc3BhdGNoZXIub24obWVzc2FnZVR5cGUsIGhhbmRsZXIsIHNjb3BlKTtcbn1cblxuLyoqXG4gKiBXYWl0IGZvciBldmVudC5cbiAqL1xuTWVzc2FnZVNlcXVlbmNlci5wcm90b3R5cGUud2FpdEZvciA9IGZ1bmN0aW9uKHRhcmdldCwgZXZlbnQpIHtcblx0aWYgKCF0aGlzLmN1cnJlbnRJdGVtKVxuXHRcdHRocm93IFwiTm90IHdhaXRpbmcgZm9yIGV2ZW50XCI7XG5cblx0dGhpcy5jdXJyZW50SXRlbS53YWl0Rm9yKHRhcmdldCwgZXZlbnQpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE1lc3NhZ2VTZXF1ZW5jZXI7IiwidmFyIEZ1bmN0aW9uVXRpbCA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9GdW5jdGlvblV0aWxcIik7XG52YXIgTWVzc2FnZVNlcXVlbmNlciA9IHJlcXVpcmUoXCIuL01lc3NhZ2VTZXF1ZW5jZXJcIik7XG52YXIgVGFibGVDb250cm9sbGVyID0gcmVxdWlyZShcIi4vVGFibGVDb250cm9sbGVyXCIpO1xudmFyIFByb3RvQ29ubmVjdGlvbiA9IHJlcXVpcmUoXCIuLi8uLi9wcm90by9Qcm90b0Nvbm5lY3Rpb25cIik7XG5cbi8qKlxuICogTWFpbiBjb250cm9sbGVyXG4gKiBAY2xhc3MgTmV0UG9rZXJDbGllbnRDb250cm9sbGVyXG4gKi9cbmZ1bmN0aW9uIE5ldFBva2VyQ2xpZW50Q29udHJvbGxlcih2aWV3KSB7XG5cdHRoaXMubmV0UG9rZXJDbGllbnRWaWV3ID0gdmlldztcblx0dGhpcy5wcm90b0Nvbm5lY3Rpb24gPSBudWxsO1xuXHR0aGlzLm1lc3NhZ2VTZXF1ZW5jZXIgPSBuZXcgTWVzc2FnZVNlcXVlbmNlcigpO1xuXG5cdHRoaXMudGFibGVDb250cm9sbGVyID0gbmV3IFRhYmxlQ29udHJvbGxlcih0aGlzLm1lc3NhZ2VTZXF1ZW5jZXIsIHRoaXMubmV0UG9rZXJDbGllbnRWaWV3KTtcbn1cblxuLyoqXG4gKiBTZXQgY29ubmVjdGlvbi5cbiAqIEBtZXRob2Qgc2V0UHJvdG9Db25uZWN0aW9uXG4gKi9cbk5ldFBva2VyQ2xpZW50Q29udHJvbGxlci5wcm90b3R5cGUuc2V0UHJvdG9Db25uZWN0aW9uID0gZnVuY3Rpb24ocHJvdG9Db25uZWN0aW9uKSB7XG5cdGlmICh0aGlzLnByb3RvQ29ubmVjdGlvbikge1xuXHRcdHRoaXMucHJvdG9Db25uZWN0aW9uLm9mZihQcm90b0Nvbm5lY3Rpb24uTUVTU0FHRSwgdGhpcy5vblByb3RvQ29ubmVjdGlvbk1lc3NhZ2UsIHRoaXMpO1xuXHR9XG5cblx0dGhpcy5wcm90b0Nvbm5lY3Rpb24gPSBwcm90b0Nvbm5lY3Rpb247XG5cblx0aWYgKHRoaXMucHJvdG9Db25uZWN0aW9uKSB7XG5cdFx0Ly9jb25zb2xlLmxvZyhcIndhaXRpbmcgZm9yIG1lc3NhZ2U6IFwiK1Byb3RvQ29ubmVjdGlvbi5NRVNTQUdFKTtcblx0XHR0aGlzLnByb3RvQ29ubmVjdGlvbi5vbihQcm90b0Nvbm5lY3Rpb24uTUVTU0FHRSwgdGhpcy5vblByb3RvQ29ubmVjdGlvbk1lc3NhZ2UsIHRoaXMpO1xuXHR9XG59XG5cbi8qKlxuICogSW5jb21pbmcgbWVzc2FnZS5cbiAqIEVucXVldWUgZm9yIHByb2Nlc3NpbmcuXG4gKiBAcHJpdmF0ZVxuICovXG5OZXRQb2tlckNsaWVudENvbnRyb2xsZXIucHJvdG90eXBlLm9uUHJvdG9Db25uZWN0aW9uTWVzc2FnZSA9IGZ1bmN0aW9uKGUpIHtcblx0Ly9jb25zb2xlLmxvZyhcInByb3RvIGNvbm5lY3Rpb24gbWVzc2FnZS4uLlwiKTtcblx0dGhpcy5tZXNzYWdlU2VxdWVuY2VyLmVucXVldWUoZS5tZXNzYWdlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBOZXRQb2tlckNsaWVudENvbnRyb2xsZXI7IiwidmFyIFNlYXRJbmZvTWVzc2FnZSA9IHJlcXVpcmUoXCIuLi8uLi9wcm90by9tZXNzYWdlcy9TZWF0SW5mb01lc3NhZ2VcIik7XG52YXIgQ29tbXVuaXR5Q2FyZHNNZXNzYWdlID0gcmVxdWlyZShcIi4uLy4uL3Byb3RvL21lc3NhZ2VzL0NvbW11bml0eUNhcmRzTWVzc2FnZVwiKTtcblxuLyoqXG4gKiBDb250cm9sIHRoZSB0YWJsZVxuICogQGNsYXNzIFRhYmxlQ29udHJvbGxlclxuICovXG5mdW5jdGlvbiBUYWJsZUNvbnRyb2xsZXIobWVzc2FnZVNlcXVlbmNlciwgdmlldykge1xuXHR0aGlzLm1lc3NhZ2VTZXF1ZW5jZXIgPSBtZXNzYWdlU2VxdWVuY2VyO1xuXHR0aGlzLnZpZXcgPSB2aWV3O1xuXG5cdHRoaXMubWVzc2FnZVNlcXVlbmNlci5hZGRNZXNzYWdlSGFuZGxlcihTZWF0SW5mb01lc3NhZ2UuVFlQRSwgdGhpcy5vblNlYXRJbmZvTWVzc2FnZSwgdGhpcyk7XG5cdHRoaXMubWVzc2FnZVNlcXVlbmNlci5hZGRNZXNzYWdlSGFuZGxlcihDb21tdW5pdHlDYXJkc01lc3NhZ2UuVFlQRSwgdGhpcy5vbkNvbW11bml0eUNhcmRzTWVzc2FnZSwgdGhpcyk7XG59XG5cbi8qKlxuICogU2VhdCBpbmZvIG1lc3NhZ2UuXG4gKi9cblRhYmxlQ29udHJvbGxlci5wcm90b3R5cGUub25TZWF0SW5mb01lc3NhZ2UgPSBmdW5jdGlvbihtKSB7XG5cdHZhciBzZWF0VmlldyA9IHRoaXMudmlldy5nZXRTZWF0Vmlld0J5SW5kZXgobS5nZXRTZWF0SW5kZXgoKSk7XG5cblx0c2VhdFZpZXcuc2V0TmFtZShtLmdldE5hbWUoKSk7XG5cdHNlYXRWaWV3LnNldENoaXBzKG0uZ2V0Q2hpcHMoKSk7XG5cdHNlYXRWaWV3LnNldEFjdGl2ZShtLmlzQWN0aXZlKCkpO1xuXHRzZWF0Vmlldy5zZXRTaXRvdXQobS5pc1NpdG91dCgpKTtcbn1cblxuLyoqXG4gKiBTZWF0IGluZm8gbWVzc2FnZS5cbiAqL1xuVGFibGVDb250cm9sbGVyLnByb3RvdHlwZS5vbkNvbW11bml0eUNhcmRzTWVzc2FnZSA9IGZ1bmN0aW9uKG0pIHtcblx0dmFyIGk7XG5cblx0Zm9yIChpID0gMDsgaSA8IG0uZ2V0Q2FyZHMoKS5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBjYXJkRGF0YSA9IG0uZ2V0Q2FyZHMoKVtpXTtcblx0XHR2YXIgY2FyZFZpZXcgPSB0aGlzLnZpZXcuZ2V0Q29tbXVuaXR5Q2FyZHMoKVttLmdldEZpcnN0SW5kZXgoKSArIGldO1xuXG5cdFx0Y2FyZFZpZXcuc2V0Q2FyZERhdGEoY2FyZERhdGEpO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gVGFibGVDb250cm9sbGVyOyIsInZhciBOZXRQb2tlckNsaWVudCA9IHJlcXVpcmUoXCIuL2FwcC9OZXRQb2tlckNsaWVudFwiKTtcbnZhciBuZXRQb2tlckNsaWVudCA9IG5ldyBOZXRQb2tlckNsaWVudCgpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBQSVhJID0gcmVxdWlyZShcInBpeGlcIik7XG52YXIgUG9pbnQgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvUG9pbnRcIik7XG5cbi8qKlxuICogQ2xpZW50IHJlc291cmNlc1xuICogQGNsYXNzIFJlc291cmNlcy5cbiAqL1xuZnVuY3Rpb24gUmVzb3VyY2VzKCkge1xuXHR0aGlzLmNvbXBvbmVudHNUZXh0dXJlID0gbmV3IFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UoXCJjb21wb25lbnRzLnBuZ1wiKTtcblx0dGhpcy50YWJsZUJhY2tncm91bmQgPSBQSVhJLlNwcml0ZS5mcm9tSW1hZ2UoXCJ0YWJsZS5wbmdcIik7XG5cblx0dGhpcy5zZWF0UG9zaXRpb25zID0gW1xuXHRcdFBvaW50KDI4NywgMTE4KSwgUG9pbnQoNDgzLCAxMTIpLCBQb2ludCg2NzYsIDExOCksXG5cdFx0UG9pbnQoODQ0LCAyNDcpLCBQb2ludCg4MTcsIDQxMyksIFBvaW50KDY3NiwgNDkwKSxcblx0XHRQb2ludCg0ODMsIDQ5NSksIFBvaW50KDI4NywgNDkwKSwgUG9pbnQoMTQwLCA0MTMpLFxuXHRcdFBvaW50KDEyMywgMjQ3KVxuXHRdO1xuXG5cdHRoaXMuc2VhdFBsYXRlID0gdGhpcy5nZXRDb21wb25lbnRzUGFydCg0MCwgMTE2LCAxNjAsIDcwKTtcblxuXHR0aGlzLmNvbW11bml0eUNhcmRzUG9zaXRpb24gPSBQb2ludCgyNTUsIDE5MCk7XG5cblx0dGhpcy5jYXJkRnJhbWUgPSB0aGlzLmdldENvbXBvbmVudHNQYXJ0KDQ5OCwgMjU2LCA4NywgMTIyKTtcblx0dGhpcy5jYXJkQmFjayA9IHRoaXMuZ2V0Q29tcG9uZW50c1BhcnQoNDAyLCAyNTYsIDg3LCAxMjIpO1xufVxuXG4vKipcbiAqIEdldCBwYXJ0IGZyb20gY29tcG9uZW50cyBhdGxhcy5cbiAqIEBtZXRob2QgZ2V0Q29tcG9uZW50c1BhcnRcbiAqIEBwcml2YXRlXG4gKi9cblJlc291cmNlcy5wcm90b3R5cGUuZ2V0Q29tcG9uZW50c1BhcnQgPSBmdW5jdGlvbih4LCB5LCB3LCBoKSB7XG5cdHZhciBmcmFtZSA9IHtcblx0XHR4OiB4LFxuXHRcdHk6IHksXG5cdFx0d2lkdGg6IHcsXG5cdFx0aGVpZ2h0OiBoXG5cdH07XG5cblx0cmV0dXJuIG5ldyBQSVhJLlRleHR1cmUodGhpcy5jb21wb25lbnRzVGV4dHVyZSwgZnJhbWUpO1xufVxuXG4vKipcbiAqIEdldCBzaW5nbGV0b24gaW5zdGFuY2UuXG4gKiBAbWV0aG9kIGdldEluc3RhbmNlXG4gKi9cblJlc291cmNlcy5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uKCkge1xuXHRpZiAoIVJlc291cmNlcy5pbnN0YW5jZSlcblx0XHRSZXNvdXJjZXMuaW5zdGFuY2UgPSBuZXcgUmVzb3VyY2VzKCk7XG5cblx0cmV0dXJuIFJlc291cmNlcy5pbnN0YW5jZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBSZXNvdXJjZXM7IiwidmFyIFBJWEkgPSByZXF1aXJlKFwicGl4aVwiKTtcbnZhciBGdW5jdGlvblV0aWwgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvRnVuY3Rpb25VdGlsXCIpO1xudmFyIFJlc291cmNlcyA9IHJlcXVpcmUoXCIuLi9yZXNvdXJjZXMvUmVzb3VyY2VzXCIpO1xuXG4vKipcbiAqIEEgY2FyZCB2aWV3LlxuICogQGNsYXNzIENhcmRWaWV3XG4gKi9cbmZ1bmN0aW9uIENhcmRWaWV3KCkge1xuXHRQSVhJLkRpc3BsYXlPYmplY3RDb250YWluZXIuY2FsbCh0aGlzKTtcblx0dGhpcy50YXJnZXRQb3NpdGlvbiA9IG51bGw7XG5cblx0dGhpcy5mcmFtZSA9IG5ldyBQSVhJLlNwcml0ZShSZXNvdXJjZXMuZ2V0SW5zdGFuY2UoKS5jYXJkRnJhbWUpO1xuXHR0aGlzLmFkZENoaWxkKHRoaXMuZnJhbWUpO1xuXG5cdHRoaXMuYmFjayA9IG5ldyBQSVhJLlNwcml0ZShSZXNvdXJjZXMuZ2V0SW5zdGFuY2UoKS5jYXJkQmFjayk7XG5cdHRoaXMuYWRkQ2hpbGQodGhpcy5iYWNrKTtcbn1cblxuRnVuY3Rpb25VdGlsLmV4dGVuZChDYXJkVmlldywgUElYSS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyKTtcblxuLyoqXG4gKiBTZXQgY2FyZCBkYXRhLlxuICogQG1ldGhvZCBzZXRDYXJkRGF0YVxuICovXG5DYXJkVmlldy5wcm90b3R5cGUuc2V0Q2FyZERhdGEgPSBmdW5jdGlvbihjYXJkRGF0YSkge1xuXHR0aGlzLmNhcmREYXRhID0gY2FyZERhdGE7XG5cblx0aWYgKHRoaXMuY2FyZERhdGEuaXNTaG93bigpKSB7XG5cdFx0dGhpcy5iYWNrLnZpc2libGUgPSBmYWxzZTtcblx0XHR0aGlzLmZyYW1lLnZpc2libGUgPSB0cnVlO1xuXHR9IGVsc2Uge1xuXHRcdHRoaXMuYmFjay52aXNpYmxlID0gdHJ1ZTtcblx0XHR0aGlzLmZyYW1lLnZpc2libGUgPSBmYWxzZTtcblx0fVxufVxuXG4vKipcbiAqIFNldCBjYXJkIGRhdGEuXG4gKiBAbWV0aG9kIHNldENhcmREYXRhXG4gKi9cbkNhcmRWaWV3LnByb3RvdHlwZS5zZXRUYXJnZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKHBvaW50KSB7XG5cdHRoaXMudGFyZ2V0UG9zaXRpb24gPSBwb2ludDtcblxuXHR0aGlzLnBvc2l0aW9uLnggPSBwb2ludC54O1xuXHR0aGlzLnBvc2l0aW9uLnkgPSBwb2ludC55O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENhcmRWaWV3OyIsInZhciBQSVhJID0gcmVxdWlyZShcInBpeGlcIik7XG52YXIgRnVuY3Rpb25VdGlsID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL0Z1bmN0aW9uVXRpbFwiKTtcbnZhciBSZXNvdXJjZXMgPSByZXF1aXJlKFwiLi4vcmVzb3VyY2VzL1Jlc291cmNlc1wiKTtcbnZhciBTZWF0VmlldyA9IHJlcXVpcmUoXCIuL1NlYXRWaWV3XCIpO1xudmFyIENhcmRWaWV3ID0gcmVxdWlyZShcIi4vQ2FyZFZpZXdcIik7XG52YXIgUG9pbnQgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvUG9pbnRcIik7XG5cbi8qKlxuICogTmV0IHBva2VyIGNsaWVudCB2aWV3LlxuICogQGNsYXNzIE5ldFBva2VyQ2xpZW50Vmlld1xuICovXG5mdW5jdGlvbiBOZXRQb2tlckNsaWVudFZpZXcoKSB7XG5cdHZhciBpO1xuXG5cdFBJWEkuRGlzcGxheU9iamVjdENvbnRhaW5lci5jYWxsKHRoaXMpO1xuXG5cdHRoaXMudGFibGVDb250YWluZXIgPSBuZXcgUElYSS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyKCk7XG5cdHRoaXMuYWRkQ2hpbGQodGhpcy50YWJsZUNvbnRhaW5lcik7XG5cblx0dGhpcy50YWJsZUNvbnRhaW5lci5hZGRDaGlsZChSZXNvdXJjZXMuZ2V0SW5zdGFuY2UoKS50YWJsZUJhY2tncm91bmQpO1xuXG5cdHRoaXMuc2V0dXBTZWF0cygpO1xuXHR0aGlzLnNldHVwQ29tbXVuaXR5Q2FyZHMoKTtcbn1cblxuRnVuY3Rpb25VdGlsLmV4dGVuZChOZXRQb2tlckNsaWVudFZpZXcsIFBJWEkuRGlzcGxheU9iamVjdENvbnRhaW5lcik7XG5cbi8qKlxuICogU2V0dXAgc2VhdHMuXG4gKi9cbk5ldFBva2VyQ2xpZW50Vmlldy5wcm90b3R5cGUuc2V0dXBTZWF0cyA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLnNlYXRWaWV3cyA9IFtdO1xuXG5cdGZvciAoaSA9IDA7IGkgPCBSZXNvdXJjZXMuZ2V0SW5zdGFuY2UoKS5zZWF0UG9zaXRpb25zLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIHNlYXRWaWV3ID0gbmV3IFNlYXRWaWV3KGkpO1xuXG5cdFx0dGhpcy50YWJsZUNvbnRhaW5lci5hZGRDaGlsZChzZWF0Vmlldyk7XG5cdFx0dGhpcy5zZWF0Vmlld3MucHVzaChzZWF0Vmlldyk7XG5cdH1cbn1cblxuLyoqXG4gKiBTZXR1cCBjb21tdW5pdHkgY2FyZHMuXG4gKi9cbk5ldFBva2VyQ2xpZW50Vmlldy5wcm90b3R5cGUuc2V0dXBDb21tdW5pdHlDYXJkcyA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLmNvbW11bml0eUNhcmRzID0gW107XG5cblx0dmFyIHAgPSBSZXNvdXJjZXMuZ2V0SW5zdGFuY2UoKS5jb21tdW5pdHlDYXJkc1Bvc2l0aW9uO1xuXG5cdGZvciAoaSA9IDA7IGkgPCA1OyBpKyspIHtcblx0XHR2YXIgY2FyZFZpZXcgPSBuZXcgQ2FyZFZpZXcoKTtcblx0XHRjYXJkVmlldy5zZXRUYXJnZXRQb3NpdGlvbihQb2ludChwLnggKyBpICogOTAsIHAueSkpO1xuXG5cdFx0dGhpcy5jb21tdW5pdHlDYXJkcy5wdXNoKGNhcmRWaWV3KTtcblx0XHR0aGlzLnRhYmxlQ29udGFpbmVyLmFkZENoaWxkKGNhcmRWaWV3KTtcblx0fVxufVxuXG4vKipcbiAqIEdldCBzZWF0IHZpZXcgYnkgaW5kZXguXG4gKiBAbWV0aG9kIGdldFNlYXRWaWV3QnlJbmRleFxuICovXG5OZXRQb2tlckNsaWVudFZpZXcucHJvdG90eXBlLmdldFNlYXRWaWV3QnlJbmRleCA9IGZ1bmN0aW9uKGluZGV4KSB7XG5cdHJldHVybiB0aGlzLnNlYXRWaWV3c1tpbmRleF07XG59XG5cbi8qKlxuICogR2V0IHNlYXQgdmlldyBieSBpbmRleC5cbiAqIEBtZXRob2QgZ2V0U2VhdFZpZXdCeUluZGV4XG4gKi9cbk5ldFBva2VyQ2xpZW50Vmlldy5wcm90b3R5cGUuZ2V0Q29tbXVuaXR5Q2FyZHMgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuY29tbXVuaXR5Q2FyZHM7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTmV0UG9rZXJDbGllbnRWaWV3OyIsInZhciBQSVhJID0gcmVxdWlyZShcInBpeGlcIik7XG52YXIgRnVuY3Rpb25VdGlsID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL0Z1bmN0aW9uVXRpbFwiKTtcbnZhciBSZXNvdXJjZXMgPSByZXF1aXJlKFwiLi4vcmVzb3VyY2VzL1Jlc291cmNlc1wiKTtcblxuLyoqXG4gKiBBIHNlYXQgdmlldy5cbiAqIEBjbGFzcyBTZWF0Vmlld1xuICovXG5mdW5jdGlvbiBTZWF0VmlldyhzZWF0SW5kZXgpIHtcblx0UElYSS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLmNhbGwodGhpcyk7XG5cblx0dGhpcy5zZWF0SW5kZXggPSBzZWF0SW5kZXg7XG5cblx0dmFyIHNlYXRUZXh0dXJlID0gUmVzb3VyY2VzLmdldEluc3RhbmNlKCkuc2VhdFBsYXRlO1xuXHR2YXIgc2VhdFNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZShzZWF0VGV4dHVyZSk7XG5cblx0c2VhdFNwcml0ZS5wb3NpdGlvbi54ID0gLXNlYXRUZXh0dXJlLndpZHRoIC8gMjtcblx0c2VhdFNwcml0ZS5wb3NpdGlvbi55ID0gLXNlYXRUZXh0dXJlLmhlaWdodCAvIDI7XG5cblx0dGhpcy5hZGRDaGlsZChzZWF0U3ByaXRlKTtcblxuXHR2YXIgcG9zID0gUmVzb3VyY2VzLmdldEluc3RhbmNlKCkuc2VhdFBvc2l0aW9uc1t0aGlzLnNlYXRJbmRleF07XG5cblx0dGhpcy5wb3NpdGlvbi54ID0gcG9zLng7XG5cdHRoaXMucG9zaXRpb24ueSA9IHBvcy55O1xuXG5cdHZhciBzdHlsZTtcblxuXHRzdHlsZSA9IHtcblx0XHRmb250OiBcImJvbGQgMjBweCBBcmlhbFwiXG5cdH07XG5cblx0dGhpcy5uYW1lRmllbGQgPSBuZXcgUElYSS5UZXh0KFwiW25hbWVdXCIsIHN0eWxlKTtcblx0dGhpcy5uYW1lRmllbGQucG9zaXRpb24ueSA9IC0yMDtcblx0dGhpcy5hZGRDaGlsZCh0aGlzLm5hbWVGaWVsZCk7XG5cblx0c3R5bGUgPSB7XG5cdFx0Zm9udDogXCJub3JtYWwgMTJweCBBcmlhbFwiXG5cdH07XG5cblx0dGhpcy5jaGlwc0ZpZWxkID0gbmV3IFBJWEkuVGV4dChcIltuYW1lXVwiLCBzdHlsZSk7XG5cdHRoaXMuY2hpcHNGaWVsZC5wb3NpdGlvbi55ID0gNTtcblx0dGhpcy5hZGRDaGlsZCh0aGlzLmNoaXBzRmllbGQpO1xuXG5cdHRoaXMuc2V0TmFtZShcIlwiKTtcblx0dGhpcy5zZXRDaGlwcyhcIlwiKTtcbn1cblxuRnVuY3Rpb25VdGlsLmV4dGVuZChTZWF0VmlldywgUElYSS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyKTtcblxuLyoqXG4gKiBTZXQgbmFtZS5cbiAqL1xuU2VhdFZpZXcucHJvdG90eXBlLnNldE5hbWUgPSBmdW5jdGlvbihuYW1lKSB7XG5cdHRoaXMubmFtZUZpZWxkLnNldFRleHQobmFtZSk7XG5cdHRoaXMubmFtZUZpZWxkLnVwZGF0ZVRyYW5zZm9ybSgpO1xuXG5cdHRoaXMubmFtZUZpZWxkLnBvc2l0aW9uLnggPSAtdGhpcy5uYW1lRmllbGQuY2FudmFzLndpZHRoIC8gMjtcbn1cblxuLyoqXG4gKiBTZXQgbmFtZS5cbiAqL1xuU2VhdFZpZXcucHJvdG90eXBlLnNldENoaXBzID0gZnVuY3Rpb24oY2hpcHMpIHtcblx0dGhpcy5jaGlwc0ZpZWxkLnNldFRleHQoY2hpcHMpO1xuXHR0aGlzLmNoaXBzRmllbGQudXBkYXRlVHJhbnNmb3JtKCk7XG5cblx0dGhpcy5jaGlwc0ZpZWxkLnBvc2l0aW9uLnggPSAtdGhpcy5jaGlwc0ZpZWxkLmNhbnZhcy53aWR0aCAvIDI7XG59XG5cbi8qKlxuICogU2V0IHNpdG91dC5cbiAqL1xuU2VhdFZpZXcucHJvdG90eXBlLnNldFNpdG91dCA9IGZ1bmN0aW9uKHNpdG91dCkge1xuXHRpZiAoc2l0b3V0KVxuXHRcdHRoaXMuYWxwaGE9LjU7XG5cblx0ZWxzZVxuXHRcdHRoaXMuYWxwaGE9MTtcbn1cblxuLyoqXG4gKiBTZXQgc2l0b3V0LlxuICovXG5TZWF0Vmlldy5wcm90b3R5cGUuc2V0QWN0aXZlID0gZnVuY3Rpb24oYWN0aXZlKSB7XG5cdHRoaXMudmlzaWJsZT1hY3RpdmU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gU2VhdFZpZXc7IiwidmFyIEV2ZW50RGlzcGF0Y2hlciA9IHJlcXVpcmUoXCIuLi91dGlscy9FdmVudERpc3BhdGNoZXJcIik7XG52YXIgRnVuY3Rpb25VdGlsID0gcmVxdWlyZShcIi4uL3V0aWxzL0Z1bmN0aW9uVXRpbFwiKTtcblxudmFyIEluaXRNZXNzYWdlID0gcmVxdWlyZShcIi4vbWVzc2FnZXMvSW5pdE1lc3NhZ2VcIik7XG52YXIgU3RhdGVDb21wbGV0ZU1lc3NhZ2UgPSByZXF1aXJlKFwiLi9tZXNzYWdlcy9TdGF0ZUNvbXBsZXRlTWVzc2FnZVwiKTtcbnZhciBTZWF0SW5mb01lc3NhZ2UgPSByZXF1aXJlKFwiLi9tZXNzYWdlcy9TZWF0SW5mb01lc3NhZ2VcIik7XG52YXIgQ29tbXVuaXR5Q2FyZHNNZXNzYWdlID0gcmVxdWlyZShcIi4vbWVzc2FnZXMvQ29tbXVuaXR5Q2FyZHNNZXNzYWdlXCIpO1xuXG4vKipcbiAqIEBjbGFzcyBQcm90b0Nvbm5lY3Rpb25cbiAqIEEgcHJvdG9jb2wgY29ubmVjdGlvbiB3aXRoIGFuIHVuZGVybHlpbmcgY29ubmVjdGlvbi5cbiAqL1xuZnVuY3Rpb24gUHJvdG9Db25uZWN0aW9uKGNvbm5lY3Rpb24pIHtcblx0RXZlbnREaXNwYXRjaGVyLmNhbGwodGhpcyk7XG5cblx0dGhpcy5tZXNzYWdlRGlzcGF0Y2hlciA9IG5ldyBFdmVudERpc3BhdGNoZXIoKTtcblx0dGhpcy5jb25uZWN0aW9uID0gY29ubmVjdGlvbjtcblx0dGhpcy5jb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHRoaXMub25Db25uZWN0aW9uTWVzc2FnZSwgdGhpcyk7XG5cdHRoaXMuY29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xvc2VcIiwgdGhpcy5vbkNvbm5lY3Rpb25DbG9zZSwgdGhpcyk7XG59XG5cbkZ1bmN0aW9uVXRpbC5leHRlbmQoUHJvdG9Db25uZWN0aW9uLCBFdmVudERpc3BhdGNoZXIpO1xuXG5Qcm90b0Nvbm5lY3Rpb24uQ0xPU0UgPSBcImNsb3NlXCI7XG5Qcm90b0Nvbm5lY3Rpb24uTUVTU0FHRSA9IFwibWVzc2FnZVwiO1xuXG5Qcm90b0Nvbm5lY3Rpb24uTUVTU0FHRV9UWVBFUyA9IHt9O1xuUHJvdG9Db25uZWN0aW9uLk1FU1NBR0VfVFlQRVNbSW5pdE1lc3NhZ2UuVFlQRV0gPSBJbml0TWVzc2FnZTtcblByb3RvQ29ubmVjdGlvbi5NRVNTQUdFX1RZUEVTW1N0YXRlQ29tcGxldGVNZXNzYWdlLlRZUEVdID0gU3RhdGVDb21wbGV0ZU1lc3NhZ2U7XG5Qcm90b0Nvbm5lY3Rpb24uTUVTU0FHRV9UWVBFU1tTZWF0SW5mb01lc3NhZ2UuVFlQRV0gPSBTZWF0SW5mb01lc3NhZ2U7XG5Qcm90b0Nvbm5lY3Rpb24uTUVTU0FHRV9UWVBFU1tDb21tdW5pdHlDYXJkc01lc3NhZ2UuVFlQRV0gPSBDb21tdW5pdHlDYXJkc01lc3NhZ2U7XG5cbi8qKlxuICogQWRkIG1lc3NhZ2UgaGFuZGxlci5cbiAqL1xuUHJvdG9Db25uZWN0aW9uLnByb3RvdHlwZS5hZGRNZXNzYWdlSGFuZGxlciA9IGZ1bmN0aW9uKG1lc3NhZ2VUeXBlLCBoYW5kbGVyLCBzY29wZSkge1xuXHR0aGlzLm1lc3NhZ2VEaXNwYXRjaGVyLm9uKG1lc3NhZ2VUeXBlLCBoYW5kbGVyLCBzY29wZSk7XG59XG5cbi8qKlxuICogQ29ubmVjdGlvbiBtZXNzYWdlLlxuICogQG1ldGhvZCBvbkNvbm5lY3Rpb25NZXNzYWdlXG4gKi9cblByb3RvQ29ubmVjdGlvbi5wcm90b3R5cGUub25Db25uZWN0aW9uTWVzc2FnZSA9IGZ1bmN0aW9uKGV2KSB7XG5cdC8vY29uc29sZS5sb2coXCJpbmNvbWluZyBjb25uZWN0aW9uIG1lc3NhZ2VcIik7XG5cblx0dmFyIG1lc3NhZ2UgPSBldi5tZXNzYWdlO1xuXHR2YXIgY29uc3RydWN0b3I7XG5cblx0Zm9yICh0eXBlIGluIFByb3RvQ29ubmVjdGlvbi5NRVNTQUdFX1RZUEVTKSB7XG5cdFx0aWYgKG1lc3NhZ2UudHlwZSA9PSB0eXBlKVxuXHRcdFx0Y29uc3RydWN0b3IgPSBQcm90b0Nvbm5lY3Rpb24uTUVTU0FHRV9UWVBFU1t0eXBlXVxuXHR9XG5cblx0aWYgKCFjb25zdHJ1Y3Rvcikge1xuXHRcdGNvbnNvbGUud2FybihcInVua25vd24gbWVzc2FnZTogXCIgKyBtZXNzYWdlLnR5cGUpO1xuXHRcdHJldHVybjtcblx0fVxuXG5cdHZhciBvID0gbmV3IGNvbnN0cnVjdG9yKCk7XG5cdG8udW5zZXJpYWxpemUobWVzc2FnZSk7XG5cdG8udHlwZSA9IG1lc3NhZ2UudHlwZTtcblxuXHR0aGlzLm1lc3NhZ2VEaXNwYXRjaGVyLnRyaWdnZXIobyk7XG5cblx0dGhpcy50cmlnZ2VyKHtcblx0XHR0eXBlOiBQcm90b0Nvbm5lY3Rpb24uTUVTU0FHRSxcblx0XHRtZXNzYWdlOiBvXG5cdH0pO1xufVxuXG4vKipcbiAqIENvbm5lY3Rpb24gY2xvc2UuXG4gKiBAbWV0aG9kIG9uQ29ubmVjdGlvbkNsb3NlXG4gKi9cblByb3RvQ29ubmVjdGlvbi5wcm90b3R5cGUub25Db25uZWN0aW9uQ2xvc2UgPSBmdW5jdGlvbihldikge1xuXHR0aGlzLmNvbm5lY3Rpb24ub2ZmKFwibWVzc2FnZVwiLCB0aGlzLm9uQ29ubmVjdGlvbk1lc3NhZ2UsIHRoaXMpO1xuXHR0aGlzLmNvbm5lY3Rpb24ub2ZmKFwiY2xvc2VcIiwgdGhpcy5vbkNvbm5lY3Rpb25DbG9zZSwgdGhpcyk7XG5cdHRoaXMuY29ubmVjdGlvbiA9IG51bGw7XG5cblx0dGhpcy50cmlnZ2VyKFByb3RvQ29ubmVjdGlvbi5DTE9TRSk7XG59XG5cbi8qKlxuICogU2VuZCBhIG1lc3NhZ2UuXG4gKi9cblByb3RvQ29ubmVjdGlvbi5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcblx0dmFyIHNlcmlhbGl6ZWQgPSBtZXNzYWdlLnNlcmlhbGl6ZSgpO1xuXG5cdGZvciAodHlwZSBpbiBQcm90b0Nvbm5lY3Rpb24uTUVTU0FHRV9UWVBFUykge1xuXHRcdGlmIChtZXNzYWdlIGluc3RhbmNlb2YgUHJvdG9Db25uZWN0aW9uLk1FU1NBR0VfVFlQRVNbdHlwZV0pXG5cdFx0XHRzZXJpYWxpemVkLnR5cGUgPSB0eXBlO1xuXHR9XG5cblx0aWYgKCFzZXJpYWxpemVkLnR5cGUpXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBtZXNzYWdlIHR5cGVcIik7XG5cblx0dGhpcy5jb25uZWN0aW9uLnNlbmQoc2VyaWFsaXplZCk7XG59XG5cbi8qKlxuICogQ2xvc2UgdGhlIGNvbm5lY3Rpb24uXG4gKiBAbWV0aG9kIGNsb3NlXG4gKi9cblByb3RvQ29ubmVjdGlvbi5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5jb25uZWN0aW9uLmNsb3NlKCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUHJvdG9Db25uZWN0aW9uOyIsIi8qKlxuICogQ2FyZCBkYXRhLlxuICogQGNsYXNzIENhcmREYXRhXG4gKi9cbmZ1bmN0aW9uIENhcmREYXRhKHZhbHVlKSB7XG5cdHRoaXMudmFsdWU9dmFsdWU7XG59XG5cbi8qKlxuICogU2hvd24/XG4gKi9cbkNhcmREYXRhLnByb3RvdHlwZS5pc1Nob3duPWZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy52YWx1ZT49MDtcbn1cblxubW9kdWxlLmV4cG9ydHM9Q2FyZERhdGE7IiwidmFyIENhcmREYXRhPXJlcXVpcmUoXCIuLi9kYXRhL0NhcmREYXRhXCIpO1xuXG4vKipcbiAqIEBjbGFzcyBTZWF0SW5mb01lc3NhZ2VcbiAqL1xuZnVuY3Rpb24gQ29tbXVuaXR5Q2FyZHNNZXNzYWdlKCkge1xuXHR0aGlzLmFuaW1hdGUgPSBmYWxzZTtcblx0dGhpcy5jYXJkcyA9IFtdO1xuXHR0aGlzLmZpcnN0SW5kZXggPSAwO1xufVxuXG5Db21tdW5pdHlDYXJkc01lc3NhZ2UuVFlQRSA9IFwiY29tbXVuaXR5Q2FyZHNcIjtcblxuLyoqXG4gKiBHZXQgY2FyZCBkYXRhLlxuICovXG5Db21tdW5pdHlDYXJkc01lc3NhZ2UucHJvdG90eXBlLmdldENhcmRzID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLmNhcmRzO1xufVxuXG4vKipcbiAqIEdldCBmaXJzdCBpbmRleC5cbiAqL1xuQ29tbXVuaXR5Q2FyZHNNZXNzYWdlLnByb3RvdHlwZS5nZXRGaXJzdEluZGV4ID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLmZpcnN0SW5kZXg7XG59XG5cbi8qKlxuICogVW4tc2VyaWFsaXplLlxuICogQG1ldGhvZCB1bnNlcmlhbGl6ZS5cbiAqL1xuQ29tbXVuaXR5Q2FyZHNNZXNzYWdlLnByb3RvdHlwZS51bnNlcmlhbGl6ZSA9IGZ1bmN0aW9uKGRhdGEpIHtcblx0dmFyIGk7XG5cblx0dGhpcy5hbmltYXRlID0gZGF0YS5hbmltYXRlO1xuXHR0aGlzLmZpcnN0SW5kZXggPSBwYXJzZUludChkYXRhLmZpcnN0SW5kZXgpO1xuXHR0aGlzLmNhcmRzPVtdO1xuXG5cdGZvciAoaT0wOyBpPGRhdGEuY2FyZHMubGVuZ3RoOyBpKyspXG5cdFx0dGhpcy5jYXJkcy5wdXNoKG5ldyBDYXJkRGF0YShkYXRhLmNhcmRzW2ldKSk7XG59XG5cbi8qKlxuICogU2VyaWFsaXplIG1lc3NhZ2UuXG4gKiBAbWV0aG9kIHNlcmlhbGl6ZVxuICovXG5Db21tdW5pdHlDYXJkc01lc3NhZ2UucHJvdG90eXBlLnNlcmlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgY2FyZHM9W107XG5cblx0Zm9yIChpPTA7IGk8dGhpcy5jYXJkcy5sZW5ndGg7IGkrKylcblx0XHRjYXJkcy5wdXNoKHRoaXMuY2FyZHNbaV0uZ2V0VmFsdWUoKSk7XG5cblx0cmV0dXJuIHtcblx0XHRhbmltYXRlOiB0aGlzLnNlYXRJbmRleCxcblx0XHRmaXJzdEluZGV4OiB0aGlzLmZpcnN0SW5kZXgsXG5cdFx0Y2FyZHM6IGNhcmRzXG5cdH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ29tbXVuaXR5Q2FyZHNNZXNzYWdlOyIsIi8qKlxuICogQGNsYXNzIEluaXRNZXNzYWdlXG4gKi9cbmZ1bmN0aW9uIEluaXRNZXNzYWdlKHRva2VuKSB7XG5cdHRoaXMudG9rZW4gPSB0b2tlbjtcblx0dGhpcy50YWJsZUlkID0gbnVsbDtcbn1cblxuSW5pdE1lc3NhZ2UuVFlQRSA9IFwiaW5pdFwiO1xuXG4vKipcbiAqIGdldCB0b2tlbi5cbiAqIEBtZXRob2QgZ2V0VG9rZW5cbiAqL1xuSW5pdE1lc3NhZ2UucHJvdG90eXBlLmdldFRva2VuID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLnRva2VuO1xufVxuXG4vKipcbiAqIFNldCB0YWJsZSBpZC5cbiAqIEBtZXRob2Qgc2V0VGFibGVJZFxuICovXG5Jbml0TWVzc2FnZS5wcm90b3R5cGUuc2V0VGFibGVJZCA9IGZ1bmN0aW9uKGlkKSB7XG5cdHRoaXMudGFibGVJZCA9IGlkO1xufVxuXG4vKipcbiAqIEdldCB0YWJsZSBpZC5cbiAqIEBtZXRob2QgZ2V0VGFibGVJZFxuICovXG5Jbml0TWVzc2FnZS5wcm90b3R5cGUuZ2V0VGFibGVJZCA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy50YWJsZUlkO1xufVxuXG4vKipcbiAqIFVuLXNlcmlhbGl6ZS5cbiAqIEBtZXRob2QgdW5zZXJpYWxpemUuXG4gKi9cbkluaXRNZXNzYWdlLnByb3RvdHlwZS51bnNlcmlhbGl6ZSA9IGZ1bmN0aW9uKGRhdGEpIHtcblx0dGhpcy50b2tlbiA9IGRhdGEudG9rZW47XG5cdHRoaXMudGFibGVJZCA9IGRhdGEudGFibGVJZDtcbn1cblxuLyoqXG4gKiBTZXJpYWxpemUgbWVzc2FnZS5cbiAqIEBtZXRob2Qgc2VyaWFsaXplXG4gKi9cbkluaXRNZXNzYWdlLnByb3RvdHlwZS5zZXJpYWxpemUgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHtcblx0XHR0b2tlbjogdGhpcy50b2tlbixcblx0XHR0YWJsZUlkOiB0aGlzLnRhYmxlSWRcblx0fTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBJbml0TWVzc2FnZTsiLCIvKipcbiAqIEBjbGFzcyBTZWF0SW5mb01lc3NhZ2VcbiAqL1xuZnVuY3Rpb24gU2VhdEluZm9NZXNzYWdlKCkge1xuXHR0aGlzLmFjdGl2ZSA9IHRydWU7XG59XG5cblNlYXRJbmZvTWVzc2FnZS5UWVBFID0gXCJzZWF0SW5mb1wiO1xuXG4vKipcbiAqIEdldHRlci5cbiAqL1xuU2VhdEluZm9NZXNzYWdlLnByb3RvdHlwZS5nZXRTZWF0SW5kZXggPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuc2VhdEluZGV4O1xufVxuXG4vKipcbiAqIEdldHRlci5cbiAqL1xuU2VhdEluZm9NZXNzYWdlLnByb3RvdHlwZS5nZXROYW1lID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLm5hbWU7XG59XG5cbi8qKlxuICogR2V0dGVyLlxuICovXG5TZWF0SW5mb01lc3NhZ2UucHJvdG90eXBlLmdldENoaXBzID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLmNoaXBzO1xufVxuXG4vKipcbiAqIEdldHRlci5cbiAqL1xuU2VhdEluZm9NZXNzYWdlLnByb3RvdHlwZS5pc1NpdG91dCA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5zaXRvdXQ7XG59XG5cbi8qKlxuICogR2V0dGVyLlxuICovXG5TZWF0SW5mb01lc3NhZ2UucHJvdG90eXBlLmlzQWN0aXZlID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLmFjdGl2ZTtcbn1cblxuLyoqXG4gKiBVbi1zZXJpYWxpemUuXG4gKiBAbWV0aG9kIHVuc2VyaWFsaXplLlxuICovXG5TZWF0SW5mb01lc3NhZ2UucHJvdG90eXBlLnVuc2VyaWFsaXplID0gZnVuY3Rpb24oZGF0YSkge1xuXHR0aGlzLnNlYXRJbmRleCA9IGRhdGEuc2VhdEluZGV4O1xuXHR0aGlzLm5hbWUgPSBkYXRhLm5hbWU7XG5cdHRoaXMuY2hpcHMgPSBkYXRhLmNoaXBzO1xuXHR0aGlzLnNpdG91dCA9IGRhdGEuc2l0b3V0O1xuXHR0aGlzLmFjdGl2ZSA9IGRhdGEuYWN0aXZlO1xufVxuXG4vKipcbiAqIFNlcmlhbGl6ZSBtZXNzYWdlLlxuICogQG1ldGhvZCBzZXJpYWxpemVcbiAqL1xuU2VhdEluZm9NZXNzYWdlLnByb3RvdHlwZS5zZXJpYWxpemUgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHtcblx0XHRzZWF0SW5kZXg6IHRoaXMuc2VhdEluZGV4LFxuXHRcdG5hbWU6IHRoaXMubmFtZSxcblx0XHRjaGlwczogdGhpcy5jaGlwcyxcblx0XHRzaXRvdXQ6IHRoaXMuc2l0b3V0LFxuXHRcdGFjdGl2ZTogdGhpcy5hY3RpdmVcblx0fTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTZWF0SW5mb01lc3NhZ2U7IiwiLyoqXG4gKiBAY2xhc3MgU3RhdGVDb21wbGV0ZU1lc3NhZ2VcbiAqL1xuZnVuY3Rpb24gU3RhdGVDb21wbGV0ZU1lc3NhZ2UoKSB7fVxuXG5TdGF0ZUNvbXBsZXRlTWVzc2FnZS5UWVBFID0gXCJzdGF0ZUNvbXBsZXRlXCI7XG5cbi8qKlxuICogVW4tc2VyaWFsaXplLlxuICogQG1ldGhvZCB1bnNlcmlhbGl6ZS5cbiAqL1xuU3RhdGVDb21wbGV0ZU1lc3NhZ2UucHJvdG90eXBlLnVuc2VyaWFsaXplID0gZnVuY3Rpb24oZGF0YSkge31cblxuLyoqXG4gKiBTZXJpYWxpemUgbWVzc2FnZS5cbiAqIEBtZXRob2Qgc2VyaWFsaXplXG4gKi9cblN0YXRlQ29tcGxldGVNZXNzYWdlLnByb3RvdHlwZS5zZXJpYWxpemUgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHt9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFN0YXRlQ29tcGxldGVNZXNzYWdlOyIsInZhciBQSVhJPXJlcXVpcmUoXCJwaXhpXCIpO1xudmFyIEZ1bmN0aW9uVXRpbD1yZXF1aXJlKFwiLi4vdXRpbHMvRnVuY3Rpb25VdGlsXCIpO1xuXG5mdW5jdGlvbiBDb250ZW50U2NhbGVyKGNvbnRlbnQpIHtcblx0UElYSS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLmNhbGwodGhpcyk7XG5cblx0dGhpcy5jb250ZW50V2lkdGg9MTAwO1xuXHR0aGlzLmNvbnRlbnRIZWlnaHQ9MTAwO1xuXG5cdHRoaXMuc2NyZWVuV2lkdGg9MTAwO1xuXHR0aGlzLnNjcmVlbkhlaWdodD0xMDA7XG5cblx0dGhpcy50aGVNYXNrPW51bGw7XG5cblx0aWYgKGNvbnRlbnQpXG5cdFx0dGhpcy5zZXRDb250ZW50KGNvbnRlbnQpO1xufVxuXG5GdW5jdGlvblV0aWwuZXh0ZW5kKENvbnRlbnRTY2FsZXIsUElYSS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyKTtcblxuQ29udGVudFNjYWxlci5wcm90b3R5cGUuc2V0Q29udGVudD1mdW5jdGlvbihjb250ZW50KSB7XG5cdHRoaXMuY29udGVudD1jb250ZW50O1xuXG5cdHRoaXMuYWRkQ2hpbGQodGhpcy5jb250ZW50KTtcblxuXHRpZiAodGhpcy50aGVNYXNrKSB7XG5cdFx0dGhpcy5yZW1vdmVDaGlsZCh0aGlzLnRoZU1hc2spO1xuXHRcdHRoaXMudGhlTWFzaz1udWxsO1xuXHR9XG5cblx0dGhpcy50aGVNYXNrPW5ldyBQSVhJLkdyYXBoaWNzKCk7XG5cdC8vdGhpcy5hZGRDaGlsZCh0aGlzLnRoZU1hc2spO1xuXG5cdHRoaXMudXBkYXRlU2NhbGUoKTtcbn1cblxuQ29udGVudFNjYWxlci5wcm90b3R5cGUuc2V0Q29udGVudFNpemU9ZnVuY3Rpb24oY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0KSB7XG5cdHRoaXMuY29udGVudFdpZHRoPWNvbnRlbnRXaWR0aDtcblx0dGhpcy5jb250ZW50SGVpZ2h0PWNvbnRlbnRIZWlnaHQ7XG5cblx0dGhpcy51cGRhdGVTY2FsZSgpO1xufVxuXG5Db250ZW50U2NhbGVyLnByb3RvdHlwZS5zZXRTY3JlZW5TaXplPWZ1bmN0aW9uKHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpIHtcblx0dGhpcy5zY3JlZW5XaWR0aD1zY3JlZW5XaWR0aDtcblx0dGhpcy5zY3JlZW5IZWlnaHQ9c2NyZWVuSGVpZ2h0O1xuXG5cdHRoaXMudXBkYXRlU2NhbGUoKTtcbn1cblxuQ29udGVudFNjYWxlci5wcm90b3R5cGUudXBkYXRlU2NhbGU9ZnVuY3Rpb24oKSB7XG5cdHZhciBzY2FsZTtcblxuXHRpZiAodGhpcy5zY3JlZW5XaWR0aC90aGlzLmNvbnRlbnRXaWR0aDx0aGlzLnNjcmVlbkhlaWdodC90aGlzLmNvbnRlbnRIZWlnaHQpXG5cdFx0c2NhbGU9dGhpcy5zY3JlZW5XaWR0aC90aGlzLmNvbnRlbnRXaWR0aDtcblxuXHRlbHNlXG5cdFx0c2NhbGU9dGhpcy5zY3JlZW5IZWlnaHQvdGhpcy5jb250ZW50SGVpZ2h0O1xuXG5cdHRoaXMuY29udGVudC5zY2FsZS54PXNjYWxlO1xuXHR0aGlzLmNvbnRlbnQuc2NhbGUueT1zY2FsZTtcblxuXHR2YXIgc2NhbGVkV2lkdGg9dGhpcy5jb250ZW50V2lkdGgqc2NhbGU7XG5cdHZhciBzY2FsZWRIZWlnaHQ9dGhpcy5jb250ZW50SGVpZ2h0KnNjYWxlO1xuXG5cdHRoaXMuY29udGVudC5wb3NpdGlvbi54PSh0aGlzLnNjcmVlbldpZHRoLXNjYWxlZFdpZHRoKS8yO1xuXHR0aGlzLmNvbnRlbnQucG9zaXRpb24ueT0odGhpcy5zY3JlZW5IZWlnaHQtc2NhbGVkSGVpZ2h0KS8yO1xuXG5cdHZhciByPW5ldyBQSVhJLlJlY3RhbmdsZSh0aGlzLmNvbnRlbnQucG9zaXRpb24ueCx0aGlzLmNvbnRlbnQucG9zaXRpb24ueSxzY2FsZWRXaWR0aCxzY2FsZWRIZWlnaHQpO1xuXHR2YXIgcmlnaHQ9ci54K3Iud2lkdGg7XG5cdHZhciBib3R0b209ci55K3IuaGVpZ2h0O1xuXG5cdHRoaXMudGhlTWFzay5jbGVhcigpO1xuXHR0aGlzLnRoZU1hc2suYmVnaW5GaWxsKCk7XG5cdHRoaXMudGhlTWFzay5kcmF3UmVjdCgwLDAsdGhpcy5zY3JlZW5XaWR0aCxyLnkpO1xuXHR0aGlzLnRoZU1hc2suZHJhd1JlY3QoMCwwLHIueCx0aGlzLnNjcmVlbkhlaWdodCk7XG5cdHRoaXMudGhlTWFzay5kcmF3UmVjdChyaWdodCwwLHRoaXMuc2NyZWVuV2lkdGgtcmlnaHQsdGhpcy5zY3JlZW5IZWlnaHQpO1xuXHR0aGlzLnRoZU1hc2suZHJhd1JlY3QoMCxib3R0b20sdGhpcy5zY3JlZW5XaWR0aCx0aGlzLnNjcmVlbkhlaWdodC1ib3R0b20pO1xuXHR0aGlzLnRoZU1hc2suZW5kRmlsbCgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cz1Db250ZW50U2NhbGVyOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEFTMyBzdHlsZSBldmVudCBkaXNwYXRjaGVyLlxuICovXG5mdW5jdGlvbiBFdmVudERpc3BhdGNoZXIoKSB7XG5cdHRoaXMubGlzdGVuZXJNYXAgPSB7fTtcbn1cblxuLyoqXG4gKiBBZGQgZXZlbnQgbGlzdGVuZXIuXG4gKi9cbkV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50VHlwZSwgbGlzdGVuZXIsIHNjb3BlKSB7XG5cdGlmICghZXZlbnRUeXBlKVxuXHRcdHRocm93IG5ldyBFcnJvcihcIkV2ZW50IHR5cGUgcmVxdWlyZWQgZm9yIGV2ZW50IGRpc3BhdGNoZXJcIik7XG5cblx0aWYgKCFsaXN0ZW5lcilcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJMaXN0ZW5lciByZXF1aXJlZCBmb3IgZXZlbnQgZGlzcGF0Y2hlclwiKTtcblxuXHR0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBsaXN0ZW5lciwgc2NvcGUpO1xuXG5cdGlmICghdGhpcy5saXN0ZW5lck1hcC5oYXNPd25Qcm9wZXJ0eShldmVudFR5cGUpKVxuXHRcdHRoaXMubGlzdGVuZXJNYXBbZXZlbnRUeXBlXSA9IFtdO1xuXG5cdHRoaXMubGlzdGVuZXJNYXBbZXZlbnRUeXBlXS5wdXNoKHtcblx0XHRsaXN0ZW5lcjogbGlzdGVuZXIsXG5cdFx0c2NvcGU6IHNjb3BlXG5cdH0pO1xufVxuXG4vKipcbiAqIFJlbW92ZSBldmVudCBsaXN0ZW5lci5cbiAqL1xuRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnRUeXBlLCBsaXN0ZW5lciwgc2NvcGUpIHtcblx0aWYgKCF0aGlzLmxpc3RlbmVyTWFwLmhhc093blByb3BlcnR5KGV2ZW50VHlwZSkpXG5cdFx0cmV0dXJuO1xuXG5cdHZhciBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVyTWFwW2V2ZW50VHlwZV07XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgbGlzdGVuZXJPYmogPSBsaXN0ZW5lcnNbaV07XG5cblx0XHRpZiAobGlzdGVuZXIgPT0gbGlzdGVuZXJPYmoubGlzdGVuZXIgJiYgc2NvcGUgPT0gbGlzdGVuZXJPYmouc2NvcGUpIHtcblx0XHRcdGxpc3RlbmVycy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRpLS07XG5cdFx0fVxuXHR9XG5cblx0aWYgKCFsaXN0ZW5lcnMubGVuZ3RoKVxuXHRcdGRlbGV0ZSB0aGlzLmxpc3RlbmVyTWFwW2V2ZW50VHlwZV07XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggZXZlbnQuXG4gKi9cbkV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uKGV2ZW50LCBkYXRhKSB7XG5cdGlmICh0eXBlb2YgZXZlbnQgPT0gXCJzdHJpbmdcIikge1xuXHRcdGV2ZW50ID0ge1xuXHRcdFx0dHlwZTogZXZlbnRcblx0XHR9O1xuXHR9XG5cblx0aWYgKCF0aGlzLmxpc3RlbmVyTWFwLmhhc093blByb3BlcnR5KGV2ZW50LnR5cGUpKVxuXHRcdHJldHVybjtcblxuXHRpZiAoZGF0YSA9PSB1bmRlZmluZWQpXG5cdFx0ZGF0YSA9IGV2ZW50O1xuXG5cdGRhdGEudGFyZ2V0ID0gdGhpcztcblxuXHRmb3IgKHZhciBpIGluIHRoaXMubGlzdGVuZXJNYXBbZXZlbnQudHlwZV0pIHtcblx0XHR2YXIgbGlzdGVuZXJPYmogPSB0aGlzLmxpc3RlbmVyTWFwW2V2ZW50LnR5cGVdW2ldO1xuXG5cdFx0bGlzdGVuZXJPYmoubGlzdGVuZXIuY2FsbChsaXN0ZW5lck9iai5zY29wZSwgZGF0YSk7XG5cdH1cbn1cblxuLyoqXG4gKiBKcXVlcnkgc3R5bGUgYWxpYXMuXG4gKi9cbkV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUub24gPSBFdmVudERpc3BhdGNoZXIucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI7XG5FdmVudERpc3BhdGNoZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcjtcbkV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUudHJpZ2dlciA9IEV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudDtcblxubW9kdWxlLmV4cG9ydHMgPSBFdmVudERpc3BhdGNoZXI7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBFdmVudERpc3BhdGNoZXI9cmVxdWlyZShcIi4vRXZlbnREaXNwYXRjaGVyXCIpO1xudmFyIEZ1bmN0aW9uVXRpbD1yZXF1aXJlKFwiLi9GdW5jdGlvblV0aWxcIik7XG5cbi8qKlxuICogRnJhbWUgdGltZXIuXG4gKi9cbmZ1bmN0aW9uIEZyYW1lVGltZXIoKSB7XG5cdEV2ZW50RGlzcGF0Y2hlci5jYWxsKHRoaXMpO1xuXG5cdHRoaXMuaW50ZXJ2YWxJZD1zZXRJbnRlcnZhbChGdW5jdGlvblV0aWwuY3JlYXRlRGVsZWdhdGUodGhpcy5vbkludGVydmFsLHRoaXMpLDEwMDAvNjApO1xufVxuXG5GdW5jdGlvblV0aWwuZXh0ZW5kKEZyYW1lVGltZXIsRXZlbnREaXNwYXRjaGVyKTtcblxuRnJhbWVUaW1lci5USU1FUj1cInRpbWVyXCI7XG5GcmFtZVRpbWVyLlJFTkRFUj1cInJlbmRlclwiO1xuXG4vKipcbiAqIE9uIGludGVydmFsLlxuICovXG5GcmFtZVRpbWVyLnByb3RvdHlwZS5vbkludGVydmFsPWZ1bmN0aW9uKCkge1xuXHR0aGlzLmRpc3BhdGNoRXZlbnQoRnJhbWVUaW1lci5USU1FUik7XG5cdHRoaXMuZGlzcGF0Y2hFdmVudChGcmFtZVRpbWVyLlJFTkRFUik7XG59XG5cbi8qKlxuICogR2V0IHNpbmdsZXRvbiBpbnN0YW5jZS5cbiAqL1xuRnJhbWVUaW1lci5nZXRJbnN0YW5jZT1mdW5jdGlvbigpIHtcblx0aWYgKCFGcmFtZVRpbWVyLmluc3RhbmNlKVxuXHRcdEZyYW1lVGltZXIuaW5zdGFuY2U9bmV3IEZyYW1lVGltZXIoKTtcblxuXHRyZXR1cm4gRnJhbWVUaW1lci5pbnN0YW5jZTtcbn1cblxubW9kdWxlLmV4cG9ydHM9RnJhbWVUaW1lcjsiLCIvKipcbiAqIEZ1bmN0aW9uIHV0aWxzLlxuICovXG5mdW5jdGlvbiBGdW5jdGlvblV0aWwoKSB7XG59XG5cbi8qKlxuICogRXh0ZW5kIGEgY2xhc3MuXG4gKiBEb24ndCBmb3JnZXQgdG8gY2FsbCBzdXBlci5cbiAqL1xuRnVuY3Rpb25VdGlsLmV4dGVuZD1mdW5jdGlvbih0YXJnZXQsIGJhc2UpIHtcblx0dGFyZ2V0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGJhc2UucHJvdG90eXBlKTtcblx0dGFyZ2V0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10YXJnZXQ7XG59XG5cbi8qKlxuICogQ3JlYXRlIGRlbGVnYXRlIGZ1bmN0aW9uLlxuICovXG5GdW5jdGlvblV0aWwuY3JlYXRlRGVsZWdhdGU9ZnVuY3Rpb24oZnVuYywgc2NvcGUpIHtcblx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdGZ1bmMuYXBwbHkoc2NvcGUsYXJndW1lbnRzKTtcblx0fTtcbn1cblxubW9kdWxlLmV4cG9ydHM9RnVuY3Rpb25VdGlsO1xuIiwidmFyIEV2ZW50RGlzcGF0Y2hlciA9IHJlcXVpcmUoXCIuL0V2ZW50RGlzcGF0Y2hlclwiKTtcbnZhciBGdW5jdGlvblV0aWwgPSByZXF1aXJlKFwiLi9GdW5jdGlvblV0aWxcIik7XG52YXIgVGhlbmFibGUgPSByZXF1aXJlKFwiLi9UaGVuYWJsZVwiKTtcblxuLyoqXG4gKiBNZXNzYWdlIGNvbm5lY3Rpb24gaW4gYSBicm93c2VyLlxuICogQGNsYXNzIE1lc3NhZ2VXZWJTb2NrZXRDb25uZWN0aW9uXG4gKi9cbmZ1bmN0aW9uIE1lc3NhZ2VXZWJTb2NrZXRDb25uZWN0aW9uKCkge1xuXHRFdmVudERpc3BhdGNoZXIuY2FsbCh0aGlzKTtcbn1cblxuRnVuY3Rpb25VdGlsLmV4dGVuZChNZXNzYWdlV2ViU29ja2V0Q29ubmVjdGlvbiwgRXZlbnREaXNwYXRjaGVyKTtcblxuTWVzc2FnZVdlYlNvY2tldENvbm5lY3Rpb24uQ09OTkVDVCA9IFwiY29ubmVjdFwiO1xuTWVzc2FnZVdlYlNvY2tldENvbm5lY3Rpb24uTUVTU0FHRSA9IFwibWVzc2FnZVwiO1xuTWVzc2FnZVdlYlNvY2tldENvbm5lY3Rpb24uQ0xPU0UgPSBcImNsb3NlXCI7XG5cbi8qKlxuICogQ29ubmVjdC5cbiAqIEBtZXRob2QgY29ubmVjdFxuICovXG5NZXNzYWdlV2ViU29ja2V0Q29ubmVjdGlvbi5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uKHVybCkge1xuXHR0aGlzLndlYlNvY2tldCA9IG5ldyBXZWJTb2NrZXQodXJsKTtcblx0dGhpcy53ZWJTb2NrZXQub25vcGVuID0gdGhpcy5vbldlYlNvY2tldE9wZW4uYmluZCh0aGlzKTtcblx0dGhpcy53ZWJTb2NrZXQub25tZXNzYWdlID0gdGhpcy5vbldlYlNvY2tldE1lc3NhZ2UuYmluZCh0aGlzKTtcblx0dGhpcy53ZWJTb2NrZXQub25jbG9zZSA9IHRoaXMub25XZWJTb2NrZXRDbG9zZS5iaW5kKHRoaXMpO1xuXHR0aGlzLndlYlNvY2tldC5vbmVycm9yID0gdGhpcy5vbldlYlNvY2tldEVycm9yLmJpbmQodGhpcyk7XG59XG5cbi8qKlxuICogV2ViIHNvY2tldCBvcGVuLlxuICogQHByaXZhdGVcbiAqL1xuTWVzc2FnZVdlYlNvY2tldENvbm5lY3Rpb24ucHJvdG90eXBlLm9uV2ViU29ja2V0T3BlbiA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLnRyaWdnZXIoTWVzc2FnZVdlYlNvY2tldENvbm5lY3Rpb24uQ09OTkVDVCk7XG59XG5cbi8qKlxuICogV2ViIHNvY2tldCBtZXNzYWdlLlxuICogQHByaXZhdGVcbiAqL1xuTWVzc2FnZVdlYlNvY2tldENvbm5lY3Rpb24ucHJvdG90eXBlLm9uV2ViU29ja2V0TWVzc2FnZSA9IGZ1bmN0aW9uKGUpIHtcblx0dmFyIG1lc3NhZ2UgPSBKU09OLnBhcnNlKGUuZGF0YSk7XG5cblx0dGhpcy50cmlnZ2VyKHtcblx0XHR0eXBlOiBNZXNzYWdlV2ViU29ja2V0Q29ubmVjdGlvbi5NRVNTQUdFLFxuXHRcdG1lc3NhZ2U6IG1lc3NhZ2Vcblx0fSk7XG59XG5cbi8qKlxuICogV2ViIHNvY2tldCBjbG9zZS5cbiAqIEBwcml2YXRlXG4gKi9cbk1lc3NhZ2VXZWJTb2NrZXRDb25uZWN0aW9uLnByb3RvdHlwZS5vbldlYlNvY2tldENsb3NlID0gZnVuY3Rpb24oKSB7XG5cdGNvbnNvbGUubG9nKFwid2ViIHNvY2tldCBjbG9zZS4uLlwiKTtcblx0dGhpcy53ZWJTb2NrZXQuY2xvc2UoKTtcblx0dGhpcy53ZWJTb2NrZXQgPSBudWxsO1xuXG5cdHRoaXMudHJpZ2dlcihNZXNzYWdlV2ViU29ja2V0Q29ubmVjdGlvbi5DTE9TRSk7XG59XG5cbi8qKlxuICogV2ViIHNvY2tldCBlcnJvci5cbiAqIEBwcml2YXRlXG4gKi9cbk1lc3NhZ2VXZWJTb2NrZXRDb25uZWN0aW9uLnByb3RvdHlwZS5vbldlYlNvY2tldEVycm9yID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMud2ViU29ja2V0LmNsb3NlKCk7XG5cdHRoaXMud2ViU29ja2V0ID0gbnVsbDtcblxuXHR0aGlzLnRyaWdnZXIoTWVzc2FnZVdlYlNvY2tldENvbm5lY3Rpb24uQ0xPU0UpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE1lc3NhZ2VXZWJTb2NrZXRDb25uZWN0aW9uOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgUElYST1yZXF1aXJlKFwicGl4aVwiKTtcbnZhciBGdW5jdGlvblV0aWw9cmVxdWlyZShcIi4vRnVuY3Rpb25VdGlsXCIpO1xudmFyIENvbnRlbnRTY2FsZXI9cmVxdWlyZShcIi4vQ29udGVudFNjYWxlclwiKTtcbnZhciBGcmFtZVRpbWVyPXJlcXVpcmUoXCIuL0ZyYW1lVGltZXJcIik7XG5cbi8qKlxuICogUGl4aSBmdWxsIHdpbmRvdyBhcHAuXG4gKiBDYW4gb3BlcmF0ZSB1c2luZyB3aW5kb3cgY29vcmRpbmF0ZXMgb3Igc2NhbGVkIHRvIHNwZWNpZmljIGFyZWEuXG4gKi9cbmZ1bmN0aW9uIFBpeGlBcHAod2lkdGgsIGhlaWdodCkge1xuXHRpZiAoUGl4aUFwcC5pbnN0YW5jZSlcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJPbmx5IG9uZSBQaXhpQXBwIHBlciBhcHBcIik7XG5cblx0UGl4aUFwcC5pbnN0YW5jZT10aGlzO1xuXG5cdFBJWEkuRGlzcGxheU9iamVjdENvbnRhaW5lci5jYWxsKHRoaXMpO1xuXG5cdHZhciB2aWV3O1xuXG5cdGlmIChuYXZpZ2F0b3IuaXNDb2Nvb25KUylcblx0XHR2aWV3PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmVlbmNhbnZhcycpO1xuXG5cdGVsc2Vcblx0XHR2aWV3PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4vL1x0dGhpcy5yZW5kZXJlcj1uZXcgUElYSS5XZWJHTFJlbmRlcmVyKHdpbmRvdy5pbm5lcldpZHRoLHdpbmRvdy5pbm5lckhlaWdodCx2aWV3KTtcblx0dGhpcy5yZW5kZXJlcj1uZXcgUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIod2luZG93LmlubmVyV2lkdGgsd2luZG93LmlubmVySGVpZ2h0LHZpZXcpO1xuXG5cdGNvbnNvbGUubG9nKFwiYXBwZW5kaW5nIGNoaWxkLCBkb2N1bWVudDogXCIrZG9jdW1lbnQpO1xuXHRjb25zb2xlLmxvZyhcImFwcGVuZGluZyBjaGlsZCwgZG9jdW1lbnQuYm9keTogXCIrZG9jdW1lbnQuYm9keSk7XG5cblx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLnZpZXcpO1xuXG5cdGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luPTA7XG5cdGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZz0wO1xuXG5cdGRvY3VtZW50LmJvZHkub25yZXNpemU9RnVuY3Rpb25VdGlsLmNyZWF0ZURlbGVnYXRlKHRoaXMub25XaW5kb3dSZXNpemUsdGhpcyk7XG5cdHdpbmRvdy5vbnJlc2l6ZT1GdW5jdGlvblV0aWwuY3JlYXRlRGVsZWdhdGUodGhpcy5vbldpbmRvd1Jlc2l6ZSx0aGlzKTtcblxuLypcdHZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdHMuaW5uZXJIVE1MPVwiaGVsbG9cIjtcblx0cy5zdHlsZS5iYWNrZ3JvdW5kPVwiI2ZmZmZmZlwiO1xuXHRzLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIjtcblx0cy5zdHlsZS5sZWZ0PVwiMFwiO1xuXHRzLnN0eWxlLnRvcD1cIjMwcHhcIjtcblxuXHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHMpOyovXG5cblx0dGhpcy5jb250ZW50U2NhbGVyPW51bGw7XG5cblx0dGhpcy5hcHBTdGFnZT1uZXcgUElYSS5TdGFnZSgwLHRydWUpO1xuXG5cdC8vY29uc29sZS5sb2coXCJpbTogXCIrdGhpcy5hcHBTdGFnZS5pbnRlcmFjdGlvbk1hbmFnZXIpO1xuXG5cdGlmICghd2lkdGggfHwgIWhlaWdodClcblx0XHR0aGlzLnVzZU5vU2NhbGluZygpO1xuXG5cdGVsc2Vcblx0XHR0aGlzLnVzZVNjYWxpbmcod2lkdGgsaGVpZ2h0KTtcblxuXHRGcmFtZVRpbWVyLmdldEluc3RhbmNlKCkuYWRkRXZlbnRMaXN0ZW5lcihGcmFtZVRpbWVyLlJFTkRFUix0aGlzLm9uQW5pbWF0aW9uRnJhbWUsdGhpcyk7XG59XG5cbkZ1bmN0aW9uVXRpbC5leHRlbmQoUGl4aUFwcCxQSVhJLkRpc3BsYXlPYmplY3RDb250YWluZXIpO1xuXG4vKipcbiAqIFVzZSBzY2FsaW5nIG1vZGUuXG4gKi9cblBpeGlBcHAucHJvdG90eXBlLnVzZVNjYWxpbmc9ZnVuY3Rpb24odywgaCkge1xuXHR0aGlzLnJlbW92ZUNvbnRlbnQoKTtcblxuXHR0aGlzLmNvbnRlbnRTY2FsZXI9bmV3IENvbnRlbnRTY2FsZXIodGhpcyk7XG5cdHRoaXMuY29udGVudFNjYWxlci5zZXRDb250ZW50U2l6ZSh3LGgpO1xuXHR0aGlzLmNvbnRlbnRTY2FsZXIuc2V0U2NyZWVuU2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCx3aW5kb3cuaW5uZXJIZWlnaHQpO1xuXHR0aGlzLmFwcFN0YWdlLmFkZENoaWxkKHRoaXMuY29udGVudFNjYWxlcik7XG59XG5cbi8qKlxuICogVXNlIG5vIHNjYWxpbmcgbW9kZS5cbiAqL1xuUGl4aUFwcC5wcm90b3R5cGUudXNlTm9TY2FsaW5nPWZ1bmN0aW9uKCkge1xuXHR0aGlzLnJlbW92ZUNvbnRlbnQoKTtcblxuXHR0aGlzLmFwcFN0YWdlLmFkZENoaWxkKHRoaXMpO1xufVxuXG4vKipcbiAqIFJlbW92ZSBhbnkgY29udGVudC5cbiAqIEludGVybmFsLlxuICovXG5QaXhpQXBwLnByb3RvdHlwZS5yZW1vdmVDb250ZW50PWZ1bmN0aW9uKCkge1xuXHRpZiAodGhpcy5hcHBTdGFnZS5jaGlsZHJlbi5pbmRleE9mKHRoaXMpPj0wKVxuXHRcdHRoaXMuYXBwU3RhZ2UucmVtb3ZlQ2hpbGQodGhpcyk7XG5cblx0aWYgKHRoaXMuY29udGVudFNjYWxlcikge1xuXHRcdHRoaXMuYXBwU3RhZ2UucmVtb3ZlQ2hpbGQodGhpcy5jb250ZW50U2NhbGVyKVxuXHRcdHRoaXMuY29udGVudFNjYWxlcj1udWxsO1xuXHR9XG59XG5cbi8qKlxuICogV2luZG93IHJlc2l6ZS5cbiAqL1xuUGl4aUFwcC5wcm90b3R5cGUub25XaW5kb3dSZXNpemU9ZnVuY3Rpb24oKSB7XG5cdGlmICh0aGlzLmNvbnRlbnRTY2FsZXIpXG5cdFx0dGhpcy5jb250ZW50U2NhbGVyLnNldFNjcmVlblNpemUod2luZG93LmlubmVyV2lkdGgsd2luZG93LmlubmVySGVpZ2h0KTtcblxuXHR0aGlzLnJlbmRlcmVyLnJlc2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCx3aW5kb3cuaW5uZXJIZWlnaHQpO1xuXG5cdHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuYXBwU3RhZ2UpO1xufVxuXG4vKipcbiAqIEFuaW1hdGlvbiBmcmFtZS5cbiAqL1xuUGl4aUFwcC5wcm90b3R5cGUub25BbmltYXRpb25GcmFtZT1mdW5jdGlvbigpIHtcblx0dGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5hcHBTdGFnZSk7XG59XG5cbi8qKlxuICogR2V0IGNhbnZhcy5cbiAqL1xuUGl4aUFwcC5wcm90b3R5cGUuZ2V0Q2FudmFzPWZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5yZW5kZXJlci52aWV3O1xufVxuXG4vKipcbiAqIEdldCBzdGFnZS5cbiAqL1xuUGl4aUFwcC5wcm90b3R5cGUuZ2V0U3RhZ2U9ZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLmFwcFN0YWdlO1xufVxuXG5tb2R1bGUuZXhwb3J0cz1QaXhpQXBwOyIsIi8qKlxuICogUmVwcmVzZW50cyBhIHBvaW50LlxuICogQGNsYXNzIFBvaW50XG4gKi9cbmZ1bmN0aW9uIFBvaW50KHgsIHkpIHtcblx0aWYgKCEodGhpcyBpbnN0YW5jZW9mIFBvaW50KSlcblx0XHRyZXR1cm4gbmV3IFBvaW50KHgsIHkpO1xuXG5cdHRoaXMueCA9IHg7XG5cdHRoaXMueSA9IHk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUG9pbnQ7IiwidmFyIEZ1bmN0aW9uVXRpbCA9IHJlcXVpcmUoXCIuL0Z1bmN0aW9uVXRpbFwiKTtcbnZhciBFdmVudERpc3BhdGNoZXIgPSByZXF1aXJlKFwiLi9FdmVudERpc3BhdGNoZXJcIik7XG5cbi8qKlxuICogUGVyZm9ybSB0YXNrcyBpbiBhIHNlcXVlbmNlLlxuICogVGFza3MsIHdoaWNoIHNob3VsZCBiZSBldmVudCBkaXNwYXRjaGVycyxcbiAqIGFyZSBldXF1ZXVlZCB3aXRoIHRoZSBlbnF1ZXVlIGZ1bmN0aW9uLFxuICogYSBTVEFSVCBldmVudCBpcyBkaXNwYXRjaGVyIHVwb24gdGFza1xuICogc3RhcnQsIGFuZCB0aGUgdGFzayBpcyBjb25zaWRlcmVkIGNvbXBsZXRlXG4gKiBhcyBpdCBkaXNwYXRjaGVzIGEgQ09NUExFVEUgZXZlbnQuXG4gKiBAY2xhc3MgU2VxdWVuY2VyXG4gKi9cbmZ1bmN0aW9uIFNlcXVlbmNlcigpIHtcblx0RXZlbnREaXNwYXRjaGVyLmNhbGwodGhpcyk7XG5cblx0dGhpcy5xdWV1ZSA9IFtdO1xuXHR0aGlzLmN1cnJlbnRUYXNrID0gbnVsbDtcblx0dGhpcy5vblRhc2tDb21wbGV0ZUNsb3N1cmUgPSB0aGlzLm9uVGFza0NvbXBsZXRlLmJpbmQodGhpcyk7XG59XG5cbkZ1bmN0aW9uVXRpbC5leHRlbmQoU2VxdWVuY2VyLCBFdmVudERpc3BhdGNoZXIpO1xuXG5TZXF1ZW5jZXIuU1RBUlQgPSBcInN0YXJ0XCI7XG5TZXF1ZW5jZXIuQ09NUExFVEUgPSBcImNvbXBsZXRlXCI7XG5cbi8qKlxuICogRW5xdWV1ZSBhIHRhc2sgdG8gYmUgcGVyZm9ybWVkLlxuICogQG1ldGhvZCBlbnF1ZXVlXG4gKi9cblNlcXVlbmNlci5wcm90b3R5cGUuZW5xdWV1ZSA9IGZ1bmN0aW9uKHRhc2spIHtcblx0aWYgKCF0aGlzLmN1cnJlbnRUYXNrKVxuXHRcdHRoaXMuc3RhcnRUYXNrKHRhc2spXG5cblx0ZWxzZVxuXHRcdHRoaXMucXVldWUucHVzaCh0YXNrKTtcbn1cblxuLyoqXG4gKiBTdGFydCB0aGUgdGFzay5cbiAqIEBwcml2YXRlXG4gKi9cblNlcXVlbmNlci5wcm90b3R5cGUuc3RhcnRUYXNrID0gZnVuY3Rpb24odGFzaykge1xuXHR0aGlzLmN1cnJlbnRUYXNrID0gdGFzaztcblxuXHR0aGlzLmN1cnJlbnRUYXNrLmFkZEV2ZW50TGlzdGVuZXIoU2VxdWVuY2VyLkNPTVBMRVRFLCB0aGlzLm9uVGFza0NvbXBsZXRlQ2xvc3VyZSk7XG5cdHRoaXMuY3VycmVudFRhc2suZGlzcGF0Y2hFdmVudCh7XG5cdFx0dHlwZTogU2VxdWVuY2VyLlNUQVJUXG5cdH0pO1xufVxuXG4vKipcbiAqIFRoZSBjdXJyZW50IHRhc2sgaXMgY29tcGxldGUuXG4gKsKgQHByaXZhdGVcbiAqL1xuU2VxdWVuY2VyLnByb3RvdHlwZS5vblRhc2tDb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLmN1cnJlbnRUYXNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoU2VxdWVuY2VyLkNPTVBMRVRFLCB0aGlzLm9uVGFza0NvbXBsZXRlQ2xvc3VyZSk7XG5cdHRoaXMuY3VycmVudFRhc2sgPSBudWxsO1xuXG5cdGlmICh0aGlzLnF1ZXVlLmxlbmd0aCA+IDApXG5cdFx0dGhpcy5zdGFydFRhc2sodGhpcy5xdWV1ZS5zaGlmdCgpKTtcblxuXHRlbHNlXG5cdFx0dGhpcy50cmlnZ2VyKFNlcXVlbmNlci5DT01QTEVURSk7XG5cbn1cblxuLyoqXG4gKiBBYm9ydCB0aGUgc2VxdWVuY2UuXG4gKiBAbWV0aG9kIGFib3J0XG4gKi9cblNlcXVlbmNlci5wcm90b3R5cGUuYWJvcnQgPSBmdW5jdGlvbigpIHtcblx0aWYgKHRoaXMuY3VycmVudFRhc2spIHtcblx0XHR0aGlzLmN1cnJlbnRUYXNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoU2VxdWVuY2VyLkNPTVBMRVRFLCB0aGlzLm9uVGFza0NvbXBsZXRlQ2xvc3VyZSk7XG5cdFx0dGhpcy5jdXJyZW50VGFzayA9IG51bGw7XG5cdH1cblxuXHR0aGlzLnF1ZXVlID0gW107XG59XG5cbm1vZHVsZS5leHBvcnRzID0gU2VxdWVuY2VyOyIsInZhciBFdmVudERpc3BhdGNoZXI9cmVxdWlyZShcIi4vRXZlbnREaXNwYXRjaGVyXCIpO1xudmFyIEZ1bmN0aW9uVXRpbD1yZXF1aXJlKFwiLi9GdW5jdGlvblV0aWxcIik7XG5cbi8qKlxuICogQW4gaW1wbGVtZW50YXRpb24gb2YgcHJvbWlzZXMgYXMgZGVmaW5lZCBoZXJlOlxuICogaHR0cDovL3Byb21pc2VzLWFwbHVzLmdpdGh1Yi5pby9wcm9taXNlcy1zcGVjL1xuICogQGNsYXNzIFRoZW5hYmxlXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gVGhlbmFibGUoKSB7XG5cdEV2ZW50RGlzcGF0Y2hlci5jYWxsKHRoaXMpXG5cblx0dGhpcy5zdWNjZXNzSGFuZGxlcnM9W107XG5cdHRoaXMuZXJyb3JIYW5kbGVycz1bXTtcblx0dGhpcy5ub3RpZmllZD1mYWxzZTtcblx0dGhpcy5oYW5kbGVyc0NhbGxlZD1mYWxzZTtcblx0dGhpcy5ub3RpZnlQYXJhbT1udWxsO1xufVxuXG5GdW5jdGlvblV0aWwuZXh0ZW5kKFRoZW5hYmxlLEV2ZW50RGlzcGF0Y2hlcik7XG5cbi8qKlxuICogU2V0IHJlc29sdXRpb24gaGFuZGxlcnMuXG4gKiBAbWV0aG9kIHRoZW5cbiAqIEBwYXJhbSBzdWNjZXNzIFRoZSBmdW5jdGlvbiBjYWxsZWQgdG8gaGFuZGxlIHN1Y2Nlc3MuXG4gKiBAcGFyYW0gZXJyb3IgVGhlIGZ1bmN0aW9uIGNhbGxlZCB0byBoYW5kbGUgZXJyb3IuXG4gKiBAcmV0dXJuIFRoaXMgVGhlbmFibGUgZm9yIGNoYWluaW5nLlxuICovXG5UaGVuYWJsZS5wcm90b3R5cGUudGhlbj1mdW5jdGlvbihzdWNjZXNzLCBlcnJvcikge1xuXHRpZiAodGhpcy5oYW5kbGVyc0NhbGxlZClcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIHRoZW5hYmxlIGlzIGFscmVhZHkgdXNlZC5cIik7XG5cblx0dGhpcy5zdWNjZXNzSGFuZGxlcnMucHVzaChzdWNjZXNzKTtcblx0dGhpcy5lcnJvckhhbmRsZXJzLnB1c2goZXJyb3IpO1xuXG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIE5vdGlmeSBzdWNjZXNzIG9mIHRoZSBvcGVyYXRpb24uXG4gKiBAbWV0aG9kIG5vdGlmeVN1Y2Nlc3NcbiAqL1xuVGhlbmFibGUucHJvdG90eXBlLm5vdGlmeVN1Y2Nlc3M9ZnVuY3Rpb24ocGFyYW0pIHtcblx0aWYgKHRoaXMuaGFuZGxlcnNDYWxsZWQpXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiVGhpcyB0aGVuYWJsZSBpcyBhbHJlYWR5IG5vdGlmaWVkLlwiKTtcblxuXHR0aGlzLm5vdGlmeVBhcmFtPXBhcmFtO1xuXHRzZXRUaW1lb3V0KHRoaXMuZG9Ob3RpZnlTdWNjZXNzLmJpbmQodGhpcyksMCk7XG59XG5cbi8qKlxuICogTm90aWZ5IGZhaWx1cmUgb2YgdGhlIG9wZXJhdGlvbi5cbiAqIEBtZXRob2Qgbm90aWZ5RXJyb3JcbiAqL1xuVGhlbmFibGUucHJvdG90eXBlLm5vdGlmeUVycm9yPWZ1bmN0aW9uKHBhcmFtKSB7XG5cdGlmICh0aGlzLmhhbmRsZXJzQ2FsbGVkKVxuXHRcdHRocm93IG5ldyBFcnJvcihcIlRoaXMgdGhlbmFibGUgaXMgYWxyZWFkeSBub3RpZmllZC5cIik7XG5cblx0dGhpcy5ub3RpZnlQYXJhbT1wYXJhbTtcblx0c2V0VGltZW91dCh0aGlzLmRvTm90aWZ5RXJyb3IuYmluZCh0aGlzKSwwKTtcbn1cblxuLyoqXG4gKiBBY3R1YWxseSBub3RpZnkgc3VjY2Vzcy5cbiAqIEBtZXRob2QgZG9Ob3RpZnlTdWNjZXNzXG4gKiBAcHJpdmF0ZVxuICovXG5UaGVuYWJsZS5wcm90b3R5cGUuZG9Ob3RpZnlTdWNjZXNzPWZ1bmN0aW9uKCkge1xuXHR0aGlzLmNhbGxIYW5kbGVycyh0aGlzLnN1Y2Nlc3NIYW5kbGVycyk7XG59XG5cbi8qKlxuICogQWN0dWFsbHkgbm90aWZ5IGVycm9yLlxuICogQG1ldGhvZCBkb05vdGlmeUVycm9yXG4gKiBAcHJpdmF0ZVxuICovXG5UaGVuYWJsZS5wcm90b3R5cGUuZG9Ob3RpZnlFcnJvcj1mdW5jdGlvbigpIHtcblx0dGhpcy5jYWxsSGFuZGxlcnModGhpcy5lcnJvckhhbmRsZXJzKTtcbn1cblxuLyoqXG4gKiBDYWxsIGhhbmRsZXJzLlxuICogQG1ldGhvZCBjYWxsSGFuZGxlcnNcbiAqIEBwcml2YXRlXG4gKi9cblRoZW5hYmxlLnByb3RvdHlwZS5jYWxsSGFuZGxlcnM9ZnVuY3Rpb24oaGFuZGxlcnMpIHtcblx0aWYgKHRoaXMuaGFuZGxlcnNDYWxsZWQpXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiU2hvdWxkIG5ldmVyIGhhcHBlbi5cIik7XG5cblx0dGhpcy5oYW5kbGVyc0NhbGxlZD10cnVlO1xuXG5cdGZvciAodmFyIGkgaW4gaGFuZGxlcnMpIHtcblx0XHRpZiAoaGFuZGxlcnNbaV0pIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGhhbmRsZXJzW2ldLmNhbGwobnVsbCx0aGlzLm5vdGlmeVBhcmFtKTtcblx0XHRcdH1cblxuXHRcdFx0Y2F0Y2ggKGUpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihcIkV4Y2VwdGlvbiBpbiBUaGVuYWJsZSBoYW5kbGVyOiBcIitlKTtcblx0XHRcdFx0Y29uc29sZS5sb2coZS5zdGFjayk7XG5cdFx0XHRcdHRocm93IGU7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzPVRoZW5hYmxlOyJdfQ==
